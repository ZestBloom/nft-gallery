{"version":3,"sources":["contracts/build/safeTransfer.main.mjs","contracts/build/atomicTransfer.main.mjs","constants.ts","components/GetModal.tsx","context/appContext.tsx","assets/MyAlgoBlue.svg","assets/AlgoSigner.svg","assets/WalletConnect.svg","assets/UnderConstruction.png","lib/connectWallet.ts","components/Modal.tsx","components/WalletModal.tsx","assets/Reach.svg","lib/config.ts","components/ModalForm.tsx","views/Start.tsx","components/Test.tsx","lib/ipfs.ts","lib/nft.ts","lib/algoHelpers.ts","utils.tsx","lib/helpers.ts","components/AddressModal.tsx","assets/frames/VintageFrames/Frame12.png","assets/frames/VintageFrames/Frame36.png","assets/frames/VintageFrames/Frame22.png","assets/frames/VintageFrames/Frame29.png","assets/frames/VintageFrames/Frame17.png","assets/frames/VintageFrames/Frame20.png","assets/frames/VintageFrames/Frame05.png","assets/frames/VintageFrames/Frame11.png","assets/frames/VintageFrames/Frame21.png","assets/frames/VintageFrames/Frame06.png","assets/frames/VintageFrames/Frame25.png","assets/frames/VintageFrames/Frame34.png","assets/frames/VintageFrames/Frame04.png","assets/frames/VintageFrames/Frame30.png","assets/frames/VintageFrames/Frame19.png","assets/frames/VintageFrames/Frame14.png","assets/frames/VintageFrames/Frame08.png","assets/frames/VintageFrames/Frame15.png","assets/frames/VintageFrames/Frame26.png","assets/frames/VintageFrames/Frame32.png","assets/frames/VintageFrames/Frame03.png","assets/frames/VintageFrames/Frame13.png","assets/frames/VintageFrames/Frame18.png","assets/frames/VintageFrames/Frame02.png","assets/frames/VintageFrames/Frame31.png","assets/frames/VintageFrames/Frame35.png","assets/frames/VintageFrames/Frame27.png","assets/frames/VintageFrames/Frame16.png","assets/frames/VintageFrames/Frame01.png","assets/frames/VintageFrames/Frame37.png","assets/frames/VintageFrames/Frame23.png","assets/frames/VintageFrames/Frame07.png","assets/frames/VintageFrames/Frame28.png","assets/frames/VintageFrames/Frame09.png","assets/frames/VintageFrames/Frame10.png","assets/frames/VintageFrames/Frame33.png","assets/frames/index.ts","components/NftCard.tsx","views/Lib.tsx","App.tsx","index.tsx"],"names":["_version","_versionHash","_backendVersion","getExports","s","reachStdlib","_getViews","viewlib","stdlib","ctc0","T_Address","ctc1","T_Token","ctc2","T_UInt","infos","views","_getMaps","mapDataTy","T_Tuple","Alice","ctcTop","interact","undefined","_initialize","Promise","reject","Error","ctc","T_Object","amountAlgo","amountToken","time","token","ctc3","T_Null","ctc4","getSwap","at","fs","msg","who","v98","protect","v99","v100","v101","v102","sendrecv","args","evt_cnt","funcNum","lct","checkedBigNumberify","UInt_max","onlyIf","out_tys","pay","sim_p","txn1","sim_r","txns","mapRefs","mapsPrev","mapsNext","data","v104","secs","didSend","from","push","amt","kind","tok","isHalt","soloSend","timeoutAt","tys","waitIfNotPresent","v105","v106","v107","v108","v103","txn2","v113","v111","v117","addressEq","assert","add","v112","v119","recv","txn3","didTimeout","txn4","v144","v148","to","seeTimeout","seeTransfer","Bob","T_Bool","v123","acceptSwap","v124","v125","_Connectors","ALGO","appApproval","appClear","escrow","mapDataKeys","mapDataSize","stateKeys","stateSize","unsupported","version","ETH","ABI","Bytecode","BytecodeLen","Which","_Participants","_APIs","amountA","amountB","tokenA","tokenB","v110","v114","v115","v116","tokenEq","v121","v126","v127","v120","v122","v118","v131","v129","v135","v130","v137","v165","v169","v141","accSwap","v142","v143","VIEWS","MODAL_ACTIONS","CONTRACT_TYPES","AppContext","createContext","AppProvider","props","useState","view","START","darkMode","settings","setSettings","Provider","value","set","f","v","prevSettings","Object","assign","children","myAlgoWallet","MyAlgo","connectToMyAlgo","a","connect","accounts","addresses","map","account","address","Modal","onClick","outClick","className","style","maxHeight","e","stopPropagation","WalletButton","src","logo","alt","name","fontFamily","fn","WalletModal","appContext","useContext","MyAlgoLogo","AlgoSignerLogo","UnderConstruction","WalletConnectLogo","close","conf","require","ModalFormAlert","alertColor","type","alertStyle","ModalFormTitle","title","ModalFormProgressButton","stateColor","state","txt","SafeTransfer","AtomicTransfer","loadStdlib","reducer","action","console","log","step","MAKE_READY","ready","PROCEED_STEP","TIME_OUT","timeout","ERROR_OUT","error","CLEAR_ERRORS","SET_ACCOUNT","payload","SET_SWAP","contractType","ATOMIC","swap","transferParams","initialState","FormSwitcher","dispatch","appId","setAcceptRef","acceptPrice","closeModal","ConnectWallet","makeError","setAccount","acc","handleMyAlgoConnect","setWalletFallback","walletFallback","providerEnv","network","MyAlgoConnect","getDefaultAccount","handleWalletConnect","WalletConnect","StartTransfer","clicked","setClicked","startTransfer","backend","contract","bobInterface","asa","tokenAccept","params","resolve","p","AcceptParams","toString","formatCurrency","BuyerModal","slice","SAFE","parseInt","useReducer","acceptRef","useRef","minHeight","current","Start","showModal","setShowModal","showGetModal","setShowGetModal","handleGetModal","open","setAppId","backgroundColor","Reach","LIBRARY","onChange","target","placeholder","Test","getFromIPFS","url","req","Request","fetch","resp","blob","body","JSON","text","parse","NFTMetadata","ARC3_SUFFIX","METADATA_FILE","resolveURL","chunks","split","length","ipfsGateway","NFT","owner","creator","count","assetId","arc3","metadata","this","image","endsWith","substring","index","total","checkLocal","isArc3","description","decimals","image_integrity","image_mimetype","properties","md_blob","Blob","stringify","File","saveMdToLocal","md","mdCache","localStorage","getItem","fields","setItem","client","algosdk","Algodv2","algod","getAssetIdsOfAddress","accountInformation","do","results","assetIds","keys","assets","filter","id","getASAById","getAssetByID","NFTIterator","ownerAsaIds","iterSize","counter","idList","done","reduce","prev","list","ids","i","asaIdx","fromToken","getNFTIterator","iteratorSize","getWindowDimensions","width","window","innerWidth","getStorageItem","def","AddressModal","curAddr","setCurAddr","setAddresses","addr","rmAddress","selectFrame","ratio","arr","ratios","frames","Frames1","Frames2","Frames3","Frames4","Frames5","Frames6","Frames7","Frames8","Frames9","Frames10","Frames11","Frames12","Frames13","Frames14","Frames15","Frames16","Frames17","Frames18","Frames19","Frames20","Frames21","Frames22","Frames23","Frames24","Frames25","Frames26","Frames27","Frames28","Frames29","Frames30","Frames31","Frames32","Frames33","Frames34","Frames35","Frames36","closest","val","Math","abs","idx","floor","random","frame","innerPercentage","w","h","getDimensionsOf","img","Image","addEventListener","naturalWidth","height","naturalHeight","video","document","createElement","videoHeight","videoWidth","VerticalSpacer","FallbackContent","imageFailed","setImageFailed","videoFailed","setVideoFailed","audioFailed","setAudioFailed","fullscreen","setFullscreen","contentStyle","nested","transform","color","zIndex","goFullscreen","handleErrorVideo","handleErrorAudio","onError","_e","autoPlay","muted","extraStyle","loop","ItemDisplay","ItemDisplayModal","NftCard","nft","tags","setTags","sizeRatio","setSizeRatio","imgUrl","imgURL","useEffect","getRatio","cardLength","margin","display","backgroundImage","backgroundRepeat","backgroundSize","justifyContent","alignItems","newTags","oldSet","Set","newSet","localTags","newItem","b","_difference","elem","delete","setDiff","includes","setStorageItem","LibraryTopBar","removeItem","showAddrModal","ReachLogo","Library","setShowAddrModal","scrollSpeed","checkScrollSpeed","lastPos","newPos","timer","delta","clear","scrollY","clearTimeout","setTimeout","onscroll","useScroll","defs","accs","setAccs","update","setUpdate","setDone","nftIterator","setNftIterator","nfts","_setNfts","nftsRef","setNfts","handleScroll","innerHeight","offsetHeight","isDone","loadIterator","nftIter","removeEventListener","updateNfts","next","useNfts","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","colCount","selectedTags","goToStart","breakpointCols","columnClassName","el","itemTags","willItemRender","NotFound","App","Lib","TEST","ReactDOM","render","StrictMode","getElementById"],"mappings":"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,mBACvC,kBAAmB,kBAAoB,mBAAoB,KAC3D,mBAAoB,mBAAoB,kBACxC,mBAEIC,EAAS,CACb,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,IACD,CAACC,KAyCGC,EAAUtC,EAAOxB,QAAO,SAACC,EAAM8D,EAAK3D,GACxC,OAAI4D,KAAKC,IAAI3C,EAAQyC,GAAOC,KAAKC,IAAI3C,EAAQE,EAAOvB,IAAeG,EAC5DH,IACN,GAEGiE,GArGW3C,EAqGKE,EAAOqC,GApGtBE,KAAKG,MAAMH,KAAKI,SAAW7C,EAAI7E,SAsGtC,MAAO,CACL2H,MAAO5C,EAAOqC,GAASI,GACvB5C,MAAOE,EAAOsC,GACdQ,gBAjDuB,CACvB,CAAC,CAAEC,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED,EAAG,GAAIC,EAAG,KACb,CAAC,CAAED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","file":"static/js/main.260e4039.chunk.js","sourcesContent":["// Automatically generated with Reach 0.1.6 (fb449c94)\n/* eslint-disable */\nexport const _version = '0.1.6';\nexport const _versionHash = '0.1.6 (fb449c94)';\nexport const _backendVersion = 5;\n\nexport function getExports(s) {\n  const stdlib = s.reachStdlib;\n  return {\n    };\n  };\nexport function _getViews(s, viewlib) {\n  const stdlib = s.reachStdlib;\n  const ctc0 = stdlib.T_Address;\n  const ctc1 = stdlib.T_Token;\n  const ctc2 = stdlib.T_UInt;\n  \n  return {\n    infos: {\n      },\n    views: {\n      1: [ctc0, ctc1, ctc2, ctc2, ctc2],\n      2: [ctc0, ctc1, ctc2, ctc2, ctc2]\n      }\n    };\n  \n  };\nexport function _getMaps(s) {\n  const stdlib = s.reachStdlib;\n  const ctc0 = stdlib.T_Tuple([]);\n  return {\n    mapDataTy: ctc0\n    };\n  };\nexport async function Alice(ctcTop, interact) {\n  if (typeof(ctcTop) !== 'object' || ctcTop._initialize === undefined) {\n    return Promise.reject(new Error(`The backend for Alice expects to receive a contract as its first argument.`));}\n  if (typeof(interact) !== 'object') {\n    return Promise.reject(new Error(`The backend for Alice expects to receive an interact object as its second argument.`));}\n  const ctc = ctcTop._initialize();\n  const stdlib = ctc.stdlib;\n  const ctc0 = stdlib.T_UInt;\n  const ctc1 = stdlib.T_Token;\n  const ctc2 = stdlib.T_Object({\n    amountAlgo: ctc0,\n    amountToken: ctc0,\n    time: ctc0,\n    token: ctc1\n    });\n  const ctc3 = stdlib.T_Null;\n  const ctc4 = stdlib.T_Address;\n  \n  \n  const v98 = stdlib.protect(ctc2, await interact.getSwap(), {\n    at: './safeTransfer.rsh:34:85:application',\n    fs: ['at ./safeTransfer.rsh:33:11:application call to [unknown function] (defined at: ./safeTransfer.rsh:33:15:function exp)'],\n    msg: 'getSwap',\n    who: 'Alice'\n    });\n  const v99 = v98.token;\n  const v100 = v98.amountToken;\n  const v101 = v98.amountAlgo;\n  const v102 = v98.time;\n  \n  const txn1 = await (ctc.sendrecv({\n    args: [v99, v100, v101, v102],\n    evt_cnt: 4,\n    funcNum: 0,\n    lct: stdlib.checkedBigNumberify('./safeTransfer.rsh:36:7:dot', stdlib.UInt_max, 0),\n    onlyIf: true,\n    out_tys: [ctc1, ctc0, ctc0, ctc0],\n    pay: [stdlib.checkedBigNumberify('./safeTransfer.rsh:decimal', stdlib.UInt_max, 0), []],\n    sim_p: (async (txn1) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [v104, v105, v106, v107], secs: v109, time: v108, didSend: v31, from: v103 } = txn1;\n      \n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('<builtin>', stdlib.UInt_max, 0),\n        kind: 'init',\n        tok: v104\n        });\n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./safeTransfer.rsh:decimal', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.isHalt = false;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: undefined,\n    tys: [ctc1, ctc0, ctc0, ctc0],\n    waitIfNotPresent: false\n    }));\n  const {data: [v104, v105, v106, v107], secs: v109, time: v108, didSend: v31, from: v103 } = txn1;\n  ;\n  ;\n  const txn2 = await (ctc.sendrecv({\n    args: [v103, v104, v105, v106, v107],\n    evt_cnt: 0,\n    funcNum: 1,\n    lct: v108,\n    onlyIf: true,\n    out_tys: [],\n    pay: [stdlib.checkedBigNumberify('./safeTransfer.rsh:40:7:dot', stdlib.UInt_max, 0), [[v105, v104]]],\n    sim_p: (async (txn2) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [], secs: v113, time: v112, didSend: v39, from: v111 } = txn2;\n      \n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./safeTransfer.rsh:40:7:dot', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v105,\n        kind: 'to',\n        tok: v104\n        });\n      const v117 = stdlib.addressEq(v103, v111);\n      stdlib.assert(v117, {\n        at: './safeTransfer.rsh:40:7:dot',\n        fs: [],\n        msg: 'sender correct',\n        who: 'Alice'\n        });\n      const v119 = stdlib.add(v113, v107);\n      sim_r.isHalt = false;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: undefined,\n    tys: [ctc4, ctc1, ctc0, ctc0, ctc0],\n    waitIfNotPresent: false\n    }));\n  const {data: [], secs: v113, time: v112, didSend: v39, from: v111 } = txn2;\n  ;\n  ;\n  const v117 = stdlib.addressEq(v103, v111);\n  stdlib.assert(v117, {\n    at: './safeTransfer.rsh:40:7:dot',\n    fs: [],\n    msg: 'sender correct',\n    who: 'Alice'\n    });\n  const v119 = stdlib.add(v113, v107);\n  const txn3 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 0,\n    funcNum: 2,\n    out_tys: [],\n    timeoutAt: ['secs', v119],\n    waitIfNotPresent: false\n    }));\n  if (txn3.didTimeout) {\n    const txn4 = await (ctc.sendrecv({\n      args: [v103, v104, v105, v106, v119],\n      evt_cnt: 0,\n      funcNum: 3,\n      lct: v112,\n      onlyIf: true,\n      out_tys: [],\n      pay: [stdlib.checkedBigNumberify('./safeTransfer.rsh:decimal', stdlib.UInt_max, 0), []],\n      sim_p: (async (txn4) => {\n        const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n        \n        const {data: [], secs: v146, time: v145, didSend: v79, from: v144 } = txn4;\n        \n        sim_r.txns.push({\n          amt: stdlib.checkedBigNumberify('./safeTransfer.rsh:decimal', stdlib.UInt_max, 0),\n          kind: 'to',\n          tok: undefined\n          });\n        const v148 = stdlib.addressEq(v103, v144);\n        stdlib.assert(v148, {\n          at: './safeTransfer.rsh:51:15:dot',\n          fs: [],\n          msg: 'sender correct',\n          who: 'Alice'\n          });\n        sim_r.txns.push({\n          amt: v105,\n          kind: 'from',\n          to: v103,\n          tok: v104\n          });\n        \n        sim_r.txns.push({\n          kind: 'halt',\n          tok: v104\n          })\n        sim_r.txns.push({\n          kind: 'halt',\n          tok: undefined\n          })\n        sim_r.isHalt = true;\n        \n        return sim_r;\n        }),\n      soloSend: true,\n      timeoutAt: undefined,\n      tys: [ctc4, ctc1, ctc0, ctc0, ctc0],\n      waitIfNotPresent: false\n      }));\n    const {data: [], secs: v146, time: v145, didSend: v79, from: v144 } = txn4;\n    ;\n    const v148 = stdlib.addressEq(v103, v144);\n    stdlib.assert(v148, {\n      at: './safeTransfer.rsh:51:15:dot',\n      fs: [],\n      msg: 'sender correct',\n      who: 'Alice'\n      });\n    ;\n    stdlib.protect(ctc3, await interact.seeTimeout(), {\n      at: './safeTransfer.rsh:53:51:application',\n      fs: ['at ./safeTransfer.rsh:53:17:application call to [unknown function] (defined at: ./safeTransfer.rsh:53:29:function exp)'],\n      msg: 'seeTimeout',\n      who: 'Alice'\n      });\n    \n    return;\n    \n    }\n  else {\n    const {data: [], secs: v127, time: v126, didSend: v50, from: v125 } = txn3;\n    ;\n    ;\n    ;\n    stdlib.protect(ctc3, await interact.seeTransfer(), {\n      at: './safeTransfer.rsh:61:44:application',\n      fs: ['at ./safeTransfer.rsh:61:9:application call to [unknown function] (defined at: ./safeTransfer.rsh:61:21:function exp)'],\n      msg: 'seeTransfer',\n      who: 'Alice'\n      });\n    \n    return;\n    }\n  \n  \n  \n  \n  \n  };\nexport async function Bob(ctcTop, interact) {\n  if (typeof(ctcTop) !== 'object' || ctcTop._initialize === undefined) {\n    return Promise.reject(new Error(`The backend for Bob expects to receive a contract as its first argument.`));}\n  if (typeof(interact) !== 'object') {\n    return Promise.reject(new Error(`The backend for Bob expects to receive an interact object as its second argument.`));}\n  const ctc = ctcTop._initialize();\n  const stdlib = ctc.stdlib;\n  const ctc0 = stdlib.T_Token;\n  const ctc1 = stdlib.T_UInt;\n  const ctc2 = stdlib.T_Bool;\n  const ctc3 = stdlib.T_Null;\n  const ctc4 = stdlib.T_Address;\n  \n  \n  const txn1 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 4,\n    funcNum: 0,\n    out_tys: [ctc0, ctc1, ctc1, ctc1],\n    timeoutAt: undefined,\n    waitIfNotPresent: false\n    }));\n  const {data: [v104, v105, v106, v107], secs: v109, time: v108, didSend: v31, from: v103 } = txn1;\n  ;\n  ;\n  const txn2 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 0,\n    funcNum: 1,\n    out_tys: [],\n    timeoutAt: undefined,\n    waitIfNotPresent: false\n    }));\n  const {data: [], secs: v113, time: v112, didSend: v39, from: v111 } = txn2;\n  ;\n  ;\n  const v117 = stdlib.addressEq(v103, v111);\n  stdlib.assert(v117, {\n    at: './safeTransfer.rsh:40:7:dot',\n    fs: [],\n    msg: 'sender correct',\n    who: 'Bob'\n    });\n  const v119 = stdlib.add(v113, v107);\n  const v123 = {\n    amountAlgo: v106,\n    amountToken: v105,\n    time: v107,\n    token: v104\n    };\n  const v124 = stdlib.protect(ctc2, await interact.acceptSwap(v123), {\n    at: './safeTransfer.rsh:45:64:application',\n    fs: ['at ./safeTransfer.rsh:44:11:application call to [unknown function] (defined at: ./safeTransfer.rsh:44:15:function exp)'],\n    msg: 'acceptSwap',\n    who: 'Bob'\n    });\n  \n  const txn3 = await (ctc.sendrecv({\n    args: [v103, v104, v105, v106, v119],\n    evt_cnt: 0,\n    funcNum: 2,\n    lct: v112,\n    onlyIf: v124,\n    out_tys: [],\n    pay: [v106, []],\n    sim_p: (async (txn3) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [], secs: v127, time: v126, didSend: v50, from: v125 } = txn3;\n      \n      sim_r.txns.push({\n        amt: v106,\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v106,\n        kind: 'from',\n        to: v103,\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v105,\n        kind: 'from',\n        to: v125,\n        tok: v104\n        });\n      \n      sim_r.txns.push({\n        kind: 'halt',\n        tok: v104\n        })\n      sim_r.txns.push({\n        kind: 'halt',\n        tok: undefined\n        })\n      sim_r.isHalt = true;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: ['secs', v119],\n    tys: [ctc4, ctc0, ctc1, ctc1, ctc1],\n    waitIfNotPresent: false\n    }));\n  if (txn3.didTimeout) {\n    const txn4 = await (ctc.recv({\n      didSend: false,\n      evt_cnt: 0,\n      funcNum: 3,\n      out_tys: [],\n      timeoutAt: undefined,\n      waitIfNotPresent: false\n      }));\n    const {data: [], secs: v146, time: v145, didSend: v79, from: v144 } = txn4;\n    ;\n    const v148 = stdlib.addressEq(v103, v144);\n    stdlib.assert(v148, {\n      at: './safeTransfer.rsh:51:15:dot',\n      fs: [],\n      msg: 'sender correct',\n      who: 'Bob'\n      });\n    ;\n    stdlib.protect(ctc3, await interact.seeTimeout(), {\n      at: './safeTransfer.rsh:53:51:application',\n      fs: ['at ./safeTransfer.rsh:53:17:application call to [unknown function] (defined at: ./safeTransfer.rsh:53:29:function exp)'],\n      msg: 'seeTimeout',\n      who: 'Bob'\n      });\n    \n    return;\n    \n    }\n  else {\n    const {data: [], secs: v127, time: v126, didSend: v50, from: v125 } = txn3;\n    ;\n    ;\n    ;\n    stdlib.protect(ctc3, await interact.seeTransfer(), {\n      at: './safeTransfer.rsh:61:44:application',\n      fs: ['at ./safeTransfer.rsh:61:9:application call to [unknown function] (defined at: ./safeTransfer.rsh:61:21:function exp)'],\n      msg: 'seeTransfer',\n      who: 'Bob'\n      });\n    \n    return;\n    }\n  \n  \n  \n  \n  \n  };\nconst _ALGO = {\n  appApproval: `#pragma version 5\ntxn RekeyTo\nglobal ZeroAddress\n==\nassert\ntxn Lease\nglobal ZeroAddress\n==\nassert\nint 0\nstore 0\ntxn ApplicationID\nbz alloc\nbyte base64()\napp_global_get\ndup\nint 0\nextract_uint64\nstore 1\ndup\nint 8\nextract_uint64\nstore 2\nextract 16 32\nstore 3\ntxn NumAppArgs\nint 3\n==\nassert\ntxna ApplicationArgs 0\nbtoi\npreamble:\n// Handler 0\ndup\nint 0\n==\nbz l0_afterHandler0\npop\n// check step\nint 0\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nbyte base64()\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 64\n==\nassert\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxn Sender\nglobal CreatorAddress\n==\nassert\nload 255\nstore 3\n// \"CheckPay\"\n// \"./safeTransfer.rsh:36:7:dot\"\n// \"[]\"\nint 100000\ndup\nbz l1_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl1_checkTxnK:\npop\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl2_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl3_checkTxnK:\npop\n// \"CheckPay\"\n// \"./safeTransfer.rsh:36:7:dot\"\n// \"[]\"\ntxn Sender\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 64\napp_global_put\npop\nint 1\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl0_afterHandler0:\n// Handler 1\ndup\nint 1\n==\nbz l4_afterHandler1\npop\n// check step\nint 1\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\n// \"CheckPay\"\n// \"./safeTransfer.rsh:40:7:dot\"\n// \"[]\"\n// \"CheckPay\"\n// \"./safeTransfer.rsh:40:7:dot\"\n// \"[]\"\nload 253\ndup\nbz l5_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl5_checkTxnK:\npop\n// Just \"sender correct\"\n// \"./safeTransfer.rsh:40:7:dot\"\n// \"[]\"\nload 255\ntxn Sender\n==\nassert\nglobal LatestTimestamp\nload 251\n+\nstore 250\nload 255\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 250\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 64\napp_global_put\npop\nint 2\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl4_afterHandler1:\n// Handler 2\ndup\nint 2\n==\nbz l6_afterHandler2\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 251\n<\nassert\n// \"CheckPay\"\n// \"./safeTransfer.rsh:49:7:dot\"\n// \"[]\"\nload 252\ndup\nbz l7_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl7_checkTxnK:\npop\nload 252\ndup\nbz l8_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns Receiver\n==\nassert\nl8_checkTxnK:\npop\nload 253\ndup\nbz l9_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\ntxn Sender\ndig 1\ngtxns AssetReceiver\n==\nassert\nl9_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl10_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl11_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl6_afterHandler2:\n// Handler 3\ndup\nint 3\n==\nbz l12_afterHandler3\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 251\n>=\nassert\n// \"CheckPay\"\n// \"./safeTransfer.rsh:51:15:dot\"\n// \"[]\"\n// Just \"sender correct\"\n// \"./safeTransfer.rsh:51:15:dot\"\n// \"[]\"\nload 255\ntxn Sender\n==\nassert\nload 253\ndup\nbz l13_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl13_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl14_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl15_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl12_afterHandler3:\nint 0\nassert\nupdateState:\nbyte base64()\nload 1\nitob\nload 2\nitob\nload 3\nconcat\nconcat\napp_global_put\ncheckSize:\nload 0\ndup\ndup\nint 1\n+\nglobal GroupSize\n==\nassert\ntxn GroupIndex\n==\nassert\nint 1000\n*\ntxn Fee\n<=\nassert\ndone:\nint 1\nreturn\nalloc:\ntxn OnCompletion\nint NoOp\n==\nassert\nint 0\nstore 1\nint 0\nstore 2\nglobal ZeroAddress\nstore 3\nb updateState\n`,\n  appClear: `#pragma version 5\nint 0\n`,\n  escrow: `#pragma version 5\nglobal GroupSize\nint 1\n-\ndup\ngtxns TypeEnum\nint appl\n==\nassert\ngtxns ApplicationID\nint {{ApplicationID}}\n==\nassert\ndone:\nint 1\n`,\n  mapDataKeys: 0,\n  mapDataSize: 0,\n  stateKeys: 1,\n  stateSize: 64,\n  unsupported: [],\n  version: 5\n  };\nconst _ETH = {\n  ABI: `[\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"components\": [\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v104\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v105\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v106\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v107\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"internalType\": \"struct T1\",\n            \"name\": \"msg\",\n            \"type\": \"tuple\"\n          }\n        ],\n        \"internalType\": \"struct T2\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"stateMutability\": \"payable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"msg\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ReachError\",\n    \"type\": \"error\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"components\": [\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v104\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v105\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v106\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v107\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"internalType\": \"struct T1\",\n            \"name\": \"msg\",\n            \"type\": \"tuple\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T2\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e0\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e1\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e2\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e3\",\n    \"type\": \"event\"\n  },\n  {\n    \"stateMutability\": \"payable\",\n    \"type\": \"fallback\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCreationTime\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCurrentState\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCurrentTime\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m1\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m2\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m3\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"stateMutability\": \"payable\",\n    \"type\": \"receive\"\n  }\n]`,\n  Bytecode: `0x608060405260405162000f7c38038062000f7c833981016040819052620000269162000291565b60008055604080518251815260208084015180516001600160a01b0316828401529081015182840152808301516060808401919091520151608082015290517ffefad5e0d88b997203a7f63b283abe03e4e673fa9ccc91b6b9327ca8f53a9be19181900360a00190a16200009d341560076200018a565b620000e26040518060a0016040528060006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160008152602001600081525090565b3380825260208381018051516001600160a01b039081168386019081528251840151604080880191825284518101516060808a0191825295518601516080808b01918252600160008190554390558351808a019a909a5294519095168883015291519487019490945251908501525160a0808501919091528151808503909101815260c0909301905281516200017d926002920190620001b4565b5050436003555062000388565b81620001b05760405163100960cb60e01b81526004810182905260240160405180910390fd5b5050565b828054620001c2906200034b565b90600052602060002090601f016020900481019282620001e6576000855562000231565b82601f106200020157805160ff191683800117855562000231565b8280016001018555821562000231579182015b828111156200023157825182559160200191906001019062000214565b506200023f92915062000243565b5090565b5b808211156200023f576000815560010162000244565b604051608081016001600160401b03811182821017156200028b57634e487b7160e01b600052604160045260246000fd5b60405290565b600081830360a0811215620002a557600080fd5b604080519081016001600160401b0381118282101715620002d657634e487b7160e01b600052604160045260246000fd5b604052835181526080601f1983011215620002f057600080fd5b620002fa6200025a565b60208501519092506001600160a01b03811681146200031857600080fd5b80835250604084015160208301526060840151604083015260808401516060830152816020820152809250505092915050565b600181811c908216806200036057607f821691505b602082108114156200038257634e487b7160e01b600052602260045260246000fd5b50919050565b610be480620003986000396000f3fe6080604052600436106100565760003560e01c80631e93b0f11461005f5780637963168e146100835780638323075714610096578063ab53f2c6146100ab578063f147248d146100ce578063fd948b86146100e157005b3661005d57005b005b34801561006b57600080fd5b506003545b6040519081526020015b60405180910390f35b61005d6100913660046109a3565b6100f4565b3480156100a257600080fd5b50600154610070565b3480156100b757600080fd5b506100c061030d565b60405161007a9291906109eb565b61005d6100dc3660046109a3565b6103aa565b61005d6100ef3660046109a3565b610517565b610104600160005414600b610690565b61011e8135158061011757506001548235145b600c610690565b60008080556002805461013090610a25565b80601f016020809104026020016040519081016040528092919081815260200182805461015c90610a25565b80156101a95780601f1061017e576101008083540402835291602001916101a9565b820191906000526020600020905b81548152906001019060200180831161018c57829003601f168201915b50505050508060200190518101906101c19190610b00565b90506101d96040518060200160405280600081525090565b7f9f41c6cf17ede288cbb2cfbbafdd05b2b2025dea3b047cdb79dbc892d7a9286d836040516102089190610b2a565b60405180910390a161021c34156008610690565b61023961023233846020015185604001516106b6565b6009610690565b8151610251906001600160a01b03163314600a610690565b60808201516102609042610b4f565b81526040805160a0808201835260008083526020808401828152848601838152606080870185815260808089018781528c516001600160a01b03908116808c528e890151821688528e8d015187528e86015185528d5183526002998a9055436001558c51808a0191909152965116868c0152935192850192909252519083015251818501528551808203909401845260c0019094528151929361030693919201906108cd565b5050505050565b60006060600054600280805461032290610a25565b80601f016020809104026020016040519081016040528092919081815260200182805461034e90610a25565b801561039b5780601f106103705761010080835404028352916020019161039b565b820191906000526020600020905b81548152906001019060200180831161037e57829003601f168201915b50505050509050915091509091565b6103ba6002600054146013610690565b6103d4813515806103cd57506001548235145b6014610690565b6000808055600280546103e690610a25565b80601f016020809104026020016040519081016040528092919081815260200182805461041290610a25565b801561045f5780601f106104345761010080835404028352916020019161045f565b820191906000526020600020905b81548152906001019060200180831161044257829003601f168201915b50505050508060200190518101906104779190610b00565b905061048b81608001514210156015610690565b7fe92d4e1229145c13e718fdc692a322df4a6700c6bebac0841f0e9f44c56a1529826040516104ba9190610b2a565b60405180910390a16104ce34156011610690565b80516104e6906001600160a01b031633146012610690565b6104fd8160200151826000015183604001516106ce565b6000808055600181905561051390600290610951565b5050565b610527600260005414600e610690565b6105418135158061053a57506001548235145b600f610690565b60008080556002805461055390610a25565b80601f016020809104026020016040519081016040528092919081815260200182805461057f90610a25565b80156105cc5780601f106105a1576101008083540402835291602001916105cc565b820191906000526020600020905b8154815290600101906020018083116105af57829003601f168201915b50505050508060200190518101906105e49190610b00565b90506105f7816080015142106010610690565b7fe0777bbb0edbebd8a5c254bf54fd955256e9bf9fb0fe4138cd88ac193a101d15826040516106269190610b2a565b60405180910390a161063f81606001513414600d610690565b805160608201516040516001600160a01b039092169181156108fc0291906000818181858888f1935050505015801561067c573d6000803e3d6000fd5b506104fd81602001513383604001516106ce565b816105135760405163100960cb60e01b8152600481018290526024015b60405180910390fd5b60006106c4838530856106e7565b90505b9392505050565b6106d98383836107c1565b6106e257600080fd5b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392839291891691839161074e91610b75565b60006040518083038185875af1925050503d806000811461078b576040519150601f19603f3d011682016040523d82523d6000602084013e610790565b606091505b50915091506107a182826001610892565b50808060200190518101906107b69190610b91565b979650505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392839291881691839161082091610b75565b60006040518083038185875af1925050503d806000811461085d576040519150601f19603f3d011682016040523d82523d6000602084013e610862565b606091505b509150915061087382826002610892565b50808060200190518101906108889190610b91565b9695505050505050565b606083156108a15750816106c7565b8251156108b15782518084602001fd5b60405163100960cb60e01b8152600481018390526024016106ad565b8280546108d990610a25565b90600052602060002090601f0160209004810192826108fb5760008555610941565b82601f1061091457805160ff1916838001178555610941565b82800160010185558215610941579182015b82811115610941578251825591602001919060010190610926565b5061094d92915061098e565b5090565b50805461095d90610a25565b6000825580601f1061096d575050565b601f01602090049060005260206000209081019061098b919061098e565b50565b5b8082111561094d576000815560010161098f565b6000604082840312156109b557600080fd5b50919050565b60005b838110156109d65781810151838201526020016109be565b838111156109e5576000848401525b50505050565b8281526040602082015260008251806040840152610a108160608501602087016109bb565b601f01601f1916919091016060019392505050565b600181811c90821680610a3957607f821691505b602082108114156109b557634e487b7160e01b600052602260045260246000fd5b80516001600160a01b0381168114610a7157600080fd5b919050565b600060a08284031215610a8857600080fd5b60405160a0810181811067ffffffffffffffff82111715610ab957634e487b7160e01b600052604160045260246000fd5b604052905080610ac883610a5a565b8152610ad660208401610a5a565b60208201526040830151604082015260608301516060820152608083015160808201525092915050565b600060a08284031215610b1257600080fd5b6106c78383610a76565b801515811461098b57600080fd5b81358152604081016020830135610b4081610b1c565b80151560208401525092915050565b60008219821115610b7057634e487b7160e01b600052601160045260246000fd5b500190565b60008251610b878184602087016109bb565b9190910192915050565b600060208284031215610ba357600080fd5b81516106c781610b1c56fea2646970667358221220a93d7012333bc8b2e69250ea08e0ce14667483b3f8c8ab888ca9b10ba38303df64736f6c63430008090033`,\n  BytecodeLen: 3964,\n  Which: `oD`,\n  version: 5,\n  views: {\n    }\n  };\nexport const _Connectors = {\n  ALGO: _ALGO,\n  ETH: _ETH\n  };\nexport const _Participants = {\n  \"Alice\": Alice,\n  \"Bob\": Bob\n  };\nexport const _APIs = {\n  };\n","// Automatically generated with Reach 0.1.6 (fb449c94)\n/* eslint-disable */\nexport const _version = '0.1.6';\nexport const _versionHash = '0.1.6 (fb449c94)';\nexport const _backendVersion = 5;\n\nexport function getExports(s) {\n  const stdlib = s.reachStdlib;\n  return {\n    };\n  };\nexport function _getViews(s, viewlib) {\n  const stdlib = s.reachStdlib;\n  const ctc0 = stdlib.T_Address;\n  const ctc1 = stdlib.T_Token;\n  const ctc2 = stdlib.T_UInt;\n  \n  return {\n    infos: {\n      },\n    views: {\n      1: [ctc0, ctc1, ctc2, ctc1, ctc2, ctc2],\n      2: [ctc0, ctc1, ctc2, ctc1, ctc2, ctc2]\n      }\n    };\n  \n  };\nexport function _getMaps(s) {\n  const stdlib = s.reachStdlib;\n  const ctc0 = stdlib.T_Tuple([]);\n  return {\n    mapDataTy: ctc0\n    };\n  };\nexport async function Alice(ctcTop, interact) {\n  if (typeof(ctcTop) !== 'object' || ctcTop._initialize === undefined) {\n    return Promise.reject(new Error(`The backend for Alice expects to receive a contract as its first argument.`));}\n  if (typeof(interact) !== 'object') {\n    return Promise.reject(new Error(`The backend for Alice expects to receive an interact object as its second argument.`));}\n  const ctc = ctcTop._initialize();\n  const stdlib = ctc.stdlib;\n  const ctc0 = stdlib.T_UInt;\n  const ctc1 = stdlib.T_Token;\n  const ctc2 = stdlib.T_Object({\n    amountA: ctc0,\n    amountB: ctc0,\n    time: ctc0,\n    tokenA: ctc1,\n    tokenB: ctc1\n    });\n  const ctc3 = stdlib.T_Null;\n  const ctc4 = stdlib.T_Address;\n  \n  \n  const v110 = stdlib.protect(ctc2, await interact.getSwap(), {\n    at: './atomicTransfer.rsh:39:87:application',\n    fs: ['at ./atomicTransfer.rsh:38:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:38:15:function exp)'],\n    msg: 'getSwap',\n    who: 'Alice'\n    });\n  const v111 = v110.tokenA;\n  const v112 = v110.amountA;\n  const v113 = v110.tokenB;\n  const v114 = v110.amountB;\n  const v115 = v110.time;\n  const v116 = stdlib.tokenEq(v111, v113);\n  const v117 = v116 ? false : true;\n  stdlib.assert(v117, {\n    at: './atomicTransfer.rsh:40:15:application',\n    fs: ['at ./atomicTransfer.rsh:38:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:38:15:function exp)'],\n    msg: null,\n    who: 'Alice'\n    });\n  \n  const txn1 = await (ctc.sendrecv({\n    args: [v111, v112, v113, v114, v115],\n    evt_cnt: 5,\n    funcNum: 0,\n    lct: stdlib.checkedBigNumberify('./atomicTransfer.rsh:42:7:dot', stdlib.UInt_max, 0),\n    onlyIf: true,\n    out_tys: [ctc1, ctc0, ctc1, ctc0, ctc0],\n    pay: [stdlib.checkedBigNumberify('./atomicTransfer.rsh:decimal', stdlib.UInt_max, 0), []],\n    sim_p: (async (txn1) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [v119, v120, v121, v122, v123], secs: v125, time: v124, didSend: v38, from: v118 } = txn1;\n      \n      const v126 = stdlib.tokenEq(v119, v121);\n      const v127 = v126 ? false : true;\n      stdlib.assert(v127, {\n        at: './atomicTransfer.rsh:42:7:dot',\n        fs: [],\n        msg: null,\n        who: 'Alice'\n        });\n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('<builtin>', stdlib.UInt_max, 0),\n        kind: 'init',\n        tok: v119\n        });\n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('<builtin>', stdlib.UInt_max, 0),\n        kind: 'init',\n        tok: v121\n        });\n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./atomicTransfer.rsh:decimal', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.isHalt = false;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: undefined,\n    tys: [ctc1, ctc0, ctc1, ctc0, ctc0],\n    waitIfNotPresent: false\n    }));\n  const {data: [v119, v120, v121, v122, v123], secs: v125, time: v124, didSend: v38, from: v118 } = txn1;\n  const v126 = stdlib.tokenEq(v119, v121);\n  const v127 = v126 ? false : true;\n  stdlib.assert(v127, {\n    at: './atomicTransfer.rsh:42:7:dot',\n    fs: [],\n    msg: null,\n    who: 'Alice'\n    });\n  ;\n  ;\n  ;\n  const txn2 = await (ctc.sendrecv({\n    args: [v118, v119, v120, v121, v122, v123],\n    evt_cnt: 0,\n    funcNum: 1,\n    lct: v124,\n    onlyIf: true,\n    out_tys: [],\n    pay: [stdlib.checkedBigNumberify('./atomicTransfer.rsh:44:7:dot', stdlib.UInt_max, 0), [[v120, v119]]],\n    sim_p: (async (txn2) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [], secs: v131, time: v130, didSend: v46, from: v129 } = txn2;\n      \n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./atomicTransfer.rsh:44:7:dot', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v120,\n        kind: 'to',\n        tok: v119\n        });\n      const v135 = stdlib.addressEq(v118, v129);\n      stdlib.assert(v135, {\n        at: './atomicTransfer.rsh:44:7:dot',\n        fs: [],\n        msg: 'sender correct',\n        who: 'Alice'\n        });\n      const v137 = stdlib.add(v131, v123);\n      sim_r.isHalt = false;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: undefined,\n    tys: [ctc4, ctc1, ctc0, ctc1, ctc0, ctc0],\n    waitIfNotPresent: false\n    }));\n  const {data: [], secs: v131, time: v130, didSend: v46, from: v129 } = txn2;\n  ;\n  ;\n  const v135 = stdlib.addressEq(v118, v129);\n  stdlib.assert(v135, {\n    at: './atomicTransfer.rsh:44:7:dot',\n    fs: [],\n    msg: 'sender correct',\n    who: 'Alice'\n    });\n  const v137 = stdlib.add(v131, v123);\n  const txn3 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 0,\n    funcNum: 2,\n    out_tys: [],\n    timeoutAt: ['secs', v137],\n    waitIfNotPresent: false\n    }));\n  if (txn3.didTimeout) {\n    const txn4 = await (ctc.sendrecv({\n      args: [v118, v119, v120, v121, v122, v137],\n      evt_cnt: 0,\n      funcNum: 3,\n      lct: v130,\n      onlyIf: true,\n      out_tys: [],\n      pay: [stdlib.checkedBigNumberify('./atomicTransfer.rsh:decimal', stdlib.UInt_max, 0), []],\n      sim_p: (async (txn4) => {\n        const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n        \n        const {data: [], secs: v167, time: v166, didSend: v89, from: v165 } = txn4;\n        \n        sim_r.txns.push({\n          amt: stdlib.checkedBigNumberify('./atomicTransfer.rsh:decimal', stdlib.UInt_max, 0),\n          kind: 'to',\n          tok: undefined\n          });\n        const v169 = stdlib.addressEq(v118, v165);\n        stdlib.assert(v169, {\n          at: './atomicTransfer.rsh:53:15:dot',\n          fs: [],\n          msg: 'sender correct',\n          who: 'Alice'\n          });\n        sim_r.txns.push({\n          amt: v120,\n          kind: 'from',\n          to: v118,\n          tok: v119\n          });\n        \n        sim_r.txns.push({\n          kind: 'halt',\n          tok: v121\n          })\n        sim_r.txns.push({\n          kind: 'halt',\n          tok: v119\n          })\n        sim_r.txns.push({\n          kind: 'halt',\n          tok: undefined\n          })\n        sim_r.isHalt = true;\n        \n        return sim_r;\n        }),\n      soloSend: true,\n      timeoutAt: undefined,\n      tys: [ctc4, ctc1, ctc0, ctc1, ctc0, ctc0],\n      waitIfNotPresent: false\n      }));\n    const {data: [], secs: v167, time: v166, didSend: v89, from: v165 } = txn4;\n    ;\n    const v169 = stdlib.addressEq(v118, v165);\n    stdlib.assert(v169, {\n      at: './atomicTransfer.rsh:53:15:dot',\n      fs: [],\n      msg: 'sender correct',\n      who: 'Alice'\n      });\n    ;\n    stdlib.protect(ctc3, await interact.seeTimeout(), {\n      at: './atomicTransfer.rsh:55:51:application',\n      fs: ['at ./atomicTransfer.rsh:55:17:application call to [unknown function] (defined at: ./atomicTransfer.rsh:55:29:function exp)'],\n      msg: 'seeTimeout',\n      who: 'Alice'\n      });\n    \n    return;\n    \n    }\n  else {\n    const {data: [], secs: v145, time: v144, didSend: v58, from: v143 } = txn3;\n    ;\n    ;\n    ;\n    ;\n    stdlib.protect(ctc3, await interact.seeTransfer(), {\n      at: './atomicTransfer.rsh:61:44:application',\n      fs: ['at ./atomicTransfer.rsh:61:9:application call to [unknown function] (defined at: ./atomicTransfer.rsh:61:21:function exp)'],\n      msg: 'seeTransfer',\n      who: 'Alice'\n      });\n    \n    return;\n    }\n  \n  \n  \n  \n  \n  };\nexport async function Bob(ctcTop, interact) {\n  if (typeof(ctcTop) !== 'object' || ctcTop._initialize === undefined) {\n    return Promise.reject(new Error(`The backend for Bob expects to receive a contract as its first argument.`));}\n  if (typeof(interact) !== 'object') {\n    return Promise.reject(new Error(`The backend for Bob expects to receive an interact object as its second argument.`));}\n  const ctc = ctcTop._initialize();\n  const stdlib = ctc.stdlib;\n  const ctc0 = stdlib.T_Token;\n  const ctc1 = stdlib.T_UInt;\n  const ctc2 = stdlib.T_Bool;\n  const ctc3 = stdlib.T_Null;\n  const ctc4 = stdlib.T_Address;\n  \n  \n  const txn1 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 5,\n    funcNum: 0,\n    out_tys: [ctc0, ctc1, ctc0, ctc1, ctc1],\n    timeoutAt: undefined,\n    waitIfNotPresent: false\n    }));\n  const {data: [v119, v120, v121, v122, v123], secs: v125, time: v124, didSend: v38, from: v118 } = txn1;\n  const v126 = stdlib.tokenEq(v119, v121);\n  const v127 = v126 ? false : true;\n  stdlib.assert(v127, {\n    at: './atomicTransfer.rsh:42:7:dot',\n    fs: [],\n    msg: null,\n    who: 'Bob'\n    });\n  ;\n  ;\n  ;\n  const txn2 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 0,\n    funcNum: 1,\n    out_tys: [],\n    timeoutAt: undefined,\n    waitIfNotPresent: false\n    }));\n  const {data: [], secs: v131, time: v130, didSend: v46, from: v129 } = txn2;\n  ;\n  ;\n  const v135 = stdlib.addressEq(v118, v129);\n  stdlib.assert(v135, {\n    at: './atomicTransfer.rsh:44:7:dot',\n    fs: [],\n    msg: 'sender correct',\n    who: 'Bob'\n    });\n  const v137 = stdlib.add(v131, v123);\n  const v141 = {\n    amountA: v120,\n    amountB: v122,\n    time: v123,\n    tokenA: v119,\n    tokenB: v121\n    };\n  const v142 = stdlib.protect(ctc2, await interact.accSwap(v141), {\n    at: './atomicTransfer.rsh:48:50:application',\n    fs: ['at ./atomicTransfer.rsh:47:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:47:15:function exp)'],\n    msg: 'accSwap',\n    who: 'Bob'\n    });\n  \n  const txn3 = await (ctc.sendrecv({\n    args: [v118, v119, v120, v121, v122, v137],\n    evt_cnt: 0,\n    funcNum: 2,\n    lct: v130,\n    onlyIf: v142,\n    out_tys: [],\n    pay: [stdlib.checkedBigNumberify('./atomicTransfer.rsh:50:7:dot', stdlib.UInt_max, 0), [[v122, v121]]],\n    sim_p: (async (txn3) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [], secs: v145, time: v144, didSend: v58, from: v143 } = txn3;\n      \n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./atomicTransfer.rsh:50:7:dot', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v122,\n        kind: 'to',\n        tok: v121\n        });\n      sim_r.txns.push({\n        amt: v122,\n        kind: 'from',\n        to: v118,\n        tok: v121\n        });\n      sim_r.txns.push({\n        amt: v120,\n        kind: 'from',\n        to: v143,\n        tok: v119\n        });\n      \n      sim_r.txns.push({\n        kind: 'halt',\n        tok: v121\n        })\n      sim_r.txns.push({\n        kind: 'halt',\n        tok: v119\n        })\n      sim_r.txns.push({\n        kind: 'halt',\n        tok: undefined\n        })\n      sim_r.isHalt = true;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: ['secs', v137],\n    tys: [ctc4, ctc0, ctc1, ctc0, ctc1, ctc1],\n    waitIfNotPresent: false\n    }));\n  if (txn3.didTimeout) {\n    const txn4 = await (ctc.recv({\n      didSend: false,\n      evt_cnt: 0,\n      funcNum: 3,\n      out_tys: [],\n      timeoutAt: undefined,\n      waitIfNotPresent: false\n      }));\n    const {data: [], secs: v167, time: v166, didSend: v89, from: v165 } = txn4;\n    ;\n    const v169 = stdlib.addressEq(v118, v165);\n    stdlib.assert(v169, {\n      at: './atomicTransfer.rsh:53:15:dot',\n      fs: [],\n      msg: 'sender correct',\n      who: 'Bob'\n      });\n    ;\n    stdlib.protect(ctc3, await interact.seeTimeout(), {\n      at: './atomicTransfer.rsh:55:51:application',\n      fs: ['at ./atomicTransfer.rsh:55:17:application call to [unknown function] (defined at: ./atomicTransfer.rsh:55:29:function exp)'],\n      msg: 'seeTimeout',\n      who: 'Bob'\n      });\n    \n    return;\n    \n    }\n  else {\n    const {data: [], secs: v145, time: v144, didSend: v58, from: v143 } = txn3;\n    ;\n    ;\n    ;\n    ;\n    stdlib.protect(ctc3, await interact.seeTransfer(), {\n      at: './atomicTransfer.rsh:61:44:application',\n      fs: ['at ./atomicTransfer.rsh:61:9:application call to [unknown function] (defined at: ./atomicTransfer.rsh:61:21:function exp)'],\n      msg: 'seeTransfer',\n      who: 'Bob'\n      });\n    \n    return;\n    }\n  \n  \n  \n  \n  \n  };\nconst _ALGO = {\n  appApproval: `#pragma version 5\ntxn RekeyTo\nglobal ZeroAddress\n==\nassert\ntxn Lease\nglobal ZeroAddress\n==\nassert\nint 0\nstore 0\ntxn ApplicationID\nbz alloc\nbyte base64()\napp_global_get\ndup\nint 0\nextract_uint64\nstore 1\ndup\nint 8\nextract_uint64\nstore 2\nextract 16 32\nstore 3\ntxn NumAppArgs\nint 3\n==\nassert\ntxna ApplicationArgs 0\nbtoi\npreamble:\n// Handler 0\ndup\nint 0\n==\nbz l0_afterHandler0\npop\n// check step\nint 0\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nbyte base64()\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 72\n==\nassert\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxn Sender\nglobal CreatorAddress\n==\nassert\nload 255\nstore 3\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:42:7:dot\"\n// \"[]\"\nint 100000\ndup\nbz l1_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl1_checkTxnK:\npop\n// Nothing\n// \"./atomicTransfer.rsh:42:7:dot\"\n// \"[]\"\nload 254\nload 252\n==\n!\nassert\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl2_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl3_checkTxnK:\npop\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl4_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl5_checkTxnK:\npop\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:42:7:dot\"\n// \"[]\"\ntxn Sender\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nload 250\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 72\napp_global_put\npop\nint 1\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl0_afterHandler0:\n// Handler 1\ndup\nint 1\n==\nbz l6_afterHandler1\npop\n// check step\nint 1\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:44:7:dot\"\n// \"[]\"\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:44:7:dot\"\n// \"[]\"\nload 253\ndup\nbz l7_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl7_checkTxnK:\npop\n// Just \"sender correct\"\n// \"./atomicTransfer.rsh:44:7:dot\"\n// \"[]\"\nload 255\ntxn Sender\n==\nassert\nglobal LatestTimestamp\nload 250\n+\nstore 249\nload 255\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nload 249\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 72\napp_global_put\npop\nint 2\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl6_afterHandler1:\n// Handler 2\ndup\nint 2\n==\nbz l8_afterHandler2\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 250\n<\nassert\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:50:7:dot\"\n// \"[]\"\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:50:7:dot\"\n// \"[]\"\nload 251\ndup\nbz l9_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl9_checkTxnK:\npop\nload 251\ndup\nbz l10_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl10_checkTxnK:\npop\nload 253\ndup\nbz l11_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\ntxn Sender\ndig 1\ngtxns AssetReceiver\n==\nassert\nl11_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl12_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl13_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl14_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl8_afterHandler2:\n// Handler 3\ndup\nint 3\n==\nbz l15_afterHandler3\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 250\n>=\nassert\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:53:15:dot\"\n// \"[]\"\n// Just \"sender correct\"\n// \"./atomicTransfer.rsh:53:15:dot\"\n// \"[]\"\nload 255\ntxn Sender\n==\nassert\nload 253\ndup\nbz l16_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl16_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl17_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl18_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl19_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl15_afterHandler3:\nint 0\nassert\nupdateState:\nbyte base64()\nload 1\nitob\nload 2\nitob\nload 3\nconcat\nconcat\napp_global_put\ncheckSize:\nload 0\ndup\ndup\nint 1\n+\nglobal GroupSize\n==\nassert\ntxn GroupIndex\n==\nassert\nint 1000\n*\ntxn Fee\n<=\nassert\ndone:\nint 1\nreturn\nalloc:\ntxn OnCompletion\nint NoOp\n==\nassert\nint 0\nstore 1\nint 0\nstore 2\nglobal ZeroAddress\nstore 3\nb updateState\n`,\n  appClear: `#pragma version 5\nint 0\n`,\n  escrow: `#pragma version 5\nglobal GroupSize\nint 1\n-\ndup\ngtxns TypeEnum\nint appl\n==\nassert\ngtxns ApplicationID\nint {{ApplicationID}}\n==\nassert\ndone:\nint 1\n`,\n  mapDataKeys: 0,\n  mapDataSize: 0,\n  stateKeys: 1,\n  stateSize: 72,\n  unsupported: [],\n  version: 5\n  };\nconst _ETH = {\n  ABI: `[\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"components\": [\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v119\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v120\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v121\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v122\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v123\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"internalType\": \"struct T1\",\n            \"name\": \"msg\",\n            \"type\": \"tuple\"\n          }\n        ],\n        \"internalType\": \"struct T2\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"stateMutability\": \"payable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"msg\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ReachError\",\n    \"type\": \"error\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"components\": [\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v119\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v120\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v121\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v122\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v123\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"internalType\": \"struct T1\",\n            \"name\": \"msg\",\n            \"type\": \"tuple\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T2\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e0\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e1\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e2\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e3\",\n    \"type\": \"event\"\n  },\n  {\n    \"stateMutability\": \"payable\",\n    \"type\": \"fallback\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCreationTime\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCurrentState\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCurrentTime\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m1\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m2\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m3\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"stateMutability\": \"payable\",\n    \"type\": \"receive\"\n  }\n]`,\n  Bytecode: `0x60806040526040516200103938038062001039833981016040819052620000269162000307565b60008055604080518251815260208084015180516001600160a01b0390811683850152918101518385015292830151166060808301919091528201516080808301919091529091015160a08201527f2f2e1b322fe4c931a7f65952bbed29e8a203ee40710e6e8d285f2761f1205be19060c00160405180910390a1602081015160408101519051620000d8916001600160a01b03918216911614620000cd576001620000d0565b60005b6007620001e3565b620000e634156008620001e3565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a08101919091523380825260208381018051516001600160a01b0390811683860190815282518401516040808801918252845181015184166060808a0191825286518101516080808c01918252975188015160a0808d019182526001600081905543905585519a8b019b909b5295518716938901939093529251928701929092529051909216928401929092525192820192909252905160c082015260e00160405160208183030381529060405260029080519060200190620001d69291906200020d565b50504360035550620003ff565b81620002095760405163100960cb60e01b81526004810182905260240160405180910390fd5b5050565b8280546200021b90620003c2565b90600052602060002090601f0160209004810192826200023f57600085556200028a565b82601f106200025a57805160ff19168380011785556200028a565b828001600101855582156200028a579182015b828111156200028a5782518255916020019190600101906200026d565b50620002989291506200029c565b5090565b5b808211156200029857600081556001016200029d565b60405160a081016001600160401b0381118282101715620002e457634e487b7160e01b600052604160045260246000fd5b60405290565b80516001600160a01b03811681146200030257600080fd5b919050565b600081830360c08112156200031b57600080fd5b604080519081016001600160401b03811182821017156200034c57634e487b7160e01b600052604160045260246000fd5b6040528351815260a0601f19830112156200036657600080fd5b62000370620002b3565b91506200038060208501620002ea565b8252604084015160208301526200039a60608501620002ea565b6040830152608084810151606084015260a09094015193820193909352602083015250919050565b600181811c90821680620003d757607f821691505b60208210811415620003f957634e487b7160e01b600052602260045260246000fd5b50919050565b610c2a806200040f6000396000f3fe6080604052600436106100565760003560e01c80631e93b0f11461005f5780637963168e146100835780638323075714610096578063ab53f2c6146100ab578063f147248d146100ce578063fd948b86146100e157005b3661005d57005b005b34801561006b57600080fd5b506003545b6040519081526020015b60405180910390f35b61005d6100913660046109d8565b6100f4565b3480156100a257600080fd5b50600154610070565b3480156100b757600080fd5b506100c0610351565b60405161007a929190610a20565b61005d6100dc3660046109d8565b6103ee565b61005d6100ef3660046109d8565b61055b565b610104600160005414600c6106c5565b61011e8135158061011757506001548235145b600d6106c5565b60008080556002805461013090610a5a565b80601f016020809104026020016040519081016040528092919081815260200182805461015c90610a5a565b80156101a95780601f1061017e576101008083540402835291602001916101a9565b820191906000526020600020905b81548152906001019060200180831161018c57829003601f168201915b50505050508060200190518101906101c19190610b46565b90506101d96040518060200160405280600081525090565b7f9f41c6cf17ede288cbb2cfbbafdd05b2b2025dea3b047cdb79dbc892d7a9286d836040516102089190610b70565b60405180910390a161021c341560096106c5565b61023961023233846020015185604001516106eb565b600a6106c5565b8151610251906001600160a01b03163314600b6106c5565b60a08201516102609042610b95565b81526040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915282516001600160a01b0390811680835260208086015183168185019081526040808801518187019081526060808a015187168189019081526080808c0151818b019081528b5160a0808d019182526002600055436001558751998a019a909a5296518a16958801959095529251918601919091525190951694830194909452925191810191909152905160c082015260e0016040516020818303038152906040526002908051906020019061034a929190610902565b5050505050565b60006060600054600280805461036690610a5a565b80601f016020809104026020016040519081016040528092919081815260200182805461039290610a5a565b80156103df5780601f106103b4576101008083540402835291602001916103df565b820191906000526020600020905b8154815290600101906020018083116103c257829003601f168201915b50505050509050915091509091565b6103fe60026000541460156106c5565b6104188135158061041157506001548235145b60166106c5565b60008080556002805461042a90610a5a565b80601f016020809104026020016040519081016040528092919081815260200182805461045690610a5a565b80156104a35780601f10610478576101008083540402835291602001916104a3565b820191906000526020600020905b81548152906001019060200180831161048657829003601f168201915b50505050508060200190518101906104bb9190610b46565b90506104cf8160a0015142101560176106c5565b7fe92d4e1229145c13e718fdc692a322df4a6700c6bebac0841f0e9f44c56a1529826040516104fe9190610b70565b60405180910390a1610512341560136106c5565b805161052a906001600160a01b0316331460146106c5565b610541816020015182600001518360400151610703565b6000808055600181905561055790600290610986565b5050565b61056b60026000541460106106c5565b6105858135158061057e57506001548235145b60116106c5565b60008080556002805461059790610a5a565b80601f01602080910402602001604051908101604052809291908181526020018280546105c390610a5a565b80156106105780601f106105e557610100808354040283529160200191610610565b820191906000526020600020905b8154815290600101906020018083116105f357829003601f168201915b50505050508060200190518101906106289190610b46565b905061063b8160a00151421060126106c5565b7fe0777bbb0edbebd8a5c254bf54fd955256e9bf9fb0fe4138cd88ac193a101d158260405161066a9190610b70565b60405180910390a161067e3415600e6106c5565b61069b61069433836060015184608001516106eb565b600f6106c5565b6106b2816060015182600001518360800151610703565b6105418160200151338360400151610703565b816105575760405163100960cb60e01b8152600481018290526024015b60405180910390fd5b60006106f98385308561071c565b90505b9392505050565b61070e8383836107f6565b61071757600080fd5b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392839291891691839161078391610bbb565b60006040518083038185875af1925050503d80600081146107c0576040519150601f19603f3d011682016040523d82523d6000602084013e6107c5565b606091505b50915091506107d6828260016108c7565b50808060200190518101906107eb9190610bd7565b979650505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392839291881691839161085591610bbb565b60006040518083038185875af1925050503d8060008114610892576040519150601f19603f3d011682016040523d82523d6000602084013e610897565b606091505b50915091506108a8828260026108c7565b50808060200190518101906108bd9190610bd7565b9695505050505050565b606083156108d65750816106fc565b8251156108e65782518084602001fd5b60405163100960cb60e01b8152600481018390526024016106e2565b82805461090e90610a5a565b90600052602060002090601f0160209004810192826109305760008555610976565b82601f1061094957805160ff1916838001178555610976565b82800160010185558215610976579182015b8281111561097657825182559160200191906001019061095b565b506109829291506109c3565b5090565b50805461099290610a5a565b6000825580601f106109a2575050565b601f0160209004906000526020600020908101906109c091906109c3565b50565b5b8082111561098257600081556001016109c4565b6000604082840312156109ea57600080fd5b50919050565b60005b83811015610a0b5781810151838201526020016109f3565b83811115610a1a576000848401525b50505050565b8281526040602082015260008251806040840152610a458160608501602087016109f0565b601f01601f1916919091016060019392505050565b600181811c90821680610a6e57607f821691505b602082108114156109ea57634e487b7160e01b600052602260045260246000fd5b80516001600160a01b0381168114610aa657600080fd5b919050565b600060c08284031215610abd57600080fd5b60405160c0810181811067ffffffffffffffff82111715610aee57634e487b7160e01b600052604160045260246000fd5b604052905080610afd83610a8f565b8152610b0b60208401610a8f565b602082015260408301516040820152610b2660608401610a8f565b60608201526080830151608082015260a083015160a08201525092915050565b600060c08284031215610b5857600080fd5b6106fc8383610aab565b80151581146109c057600080fd5b81358152604081016020830135610b8681610b62565b80151560208401525092915050565b60008219821115610bb657634e487b7160e01b600052601160045260246000fd5b500190565b60008251610bcd8184602087016109f0565b9190910192915050565b600060208284031215610be957600080fd5b81516106fc81610b6256fea264697066735822122020fe6f314cfc33f4e077f571ec2a73cb32272ad4235552b069c65cc348bfc33664736f6c63430008090033`,\n  BytecodeLen: 4153,\n  Which: `oD`,\n  version: 5,\n  views: {\n    }\n  };\nexport const _Connectors = {\n  ALGO: _ALGO,\n  ETH: _ETH\n  };\nexport const _Participants = {\n  \"Alice\": Alice,\n  \"Bob\": Bob\n  };\nexport const _APIs = {\n  };\n","export enum VIEWS {\n  START = \"Start\",\n  LIBRARY = \"Library\",\n  TEST = \"Test\",\n}\n","import MyAlgoConnect from \"@reach-sh/stdlib/ALGO_MyAlgoConnect\";\nimport MyAlgoLogo from \"../assets/MyAlgoBlue.svg\";\nimport WalletConnect from \"@reach-sh/stdlib/ALGO_WalletConnect\";\nimport WalletConnectLogo from \"../assets/WalletConnect.svg\";\n\nimport { conf } from \"../lib/config\";\nimport { loadStdlib } from \"@reach-sh/stdlib\";\n\nimport Modal from \"./Modal\";\nimport { useReducer, useRef, useState } from \"react\";\nimport { ModalFormAlert, ModalFormTitle, ModalFormProgressButton } from \"./ModalForm\";\n\nconst SafeTransfer = require(\"../contracts/build/safeTransfer.main.mjs\");\nconst AtomicTransfer = require(\"../contracts/build/atomicTransfer.main.mjs\");\n\nconst stdlib = loadStdlib(\"ALGO\");\n\nenum MODAL_ACTIONS {\n  MAKE_READY,\n  PROCEED_STEP,\n  ERROR_OUT,\n  TIME_OUT,\n  CLEAR_ERRORS,\n  SET_ACCOUNT,\n  SET_SWAP,\n}\n\nenum CONTRACT_TYPES {\n  SAFE,\n  ATOMIC,\n}\n\ntype ModalState = {\n  step: number;\n  ready: boolean;\n  timeout: boolean;\n  error: boolean;\n  account: any;\n  swap: any;\n};\n\nfunction reducer(state: ModalState, action: { type: MODAL_ACTIONS; payload?: any }) {\n  console.log(state.step);\n  switch (action.type) {\n    case MODAL_ACTIONS.MAKE_READY:\n      return {\n        ...state,\n        ready: true,\n      };\n\n    case MODAL_ACTIONS.PROCEED_STEP:\n      return {\n        ...state,\n        step: state.step + 1,\n        ready: false,\n      };\n\n    case MODAL_ACTIONS.TIME_OUT:\n      return {\n        ...state,\n        timeout: true,\n      };\n\n    case MODAL_ACTIONS.ERROR_OUT:\n      return {\n        ...state,\n        error: true,\n      };\n\n    case MODAL_ACTIONS.CLEAR_ERRORS:\n      return {\n        ...state,\n        error: false,\n        timeout: false,\n      };\n\n    case MODAL_ACTIONS.SET_ACCOUNT:\n      if (!action.payload) throw new Error(\"Account payload is falsy\");\n\n      return {\n        ...state,\n        account: action.payload,\n        ready: true,\n      };\n\n    case MODAL_ACTIONS.SET_SWAP:\n      if (!action.payload) throw new Error(\"Account payload is falsy\");\n\n      if (action.payload.contractType === CONTRACT_TYPES.ATOMIC) {\n        return {\n          ...state,\n          step: state.step + 1,\n          swap: {\n            tokenA: action.payload.transferParams.tokenA,\n            amountA: action.payload.transferParams.amountA,\n            tokenB: action.payload.transferParams.tokenB,\n            amountB: action.payload.transferParams.amountB,\n          },\n        };\n      }\n\n      return {\n        ...state,\n        step: state.step + 1,\n        swap: {\n          tokenA: action.payload.transferParams.token,\n          amountA: action.payload.transferParams.amountToken,\n          amountB: action.payload.transferParams.amountAlgo,\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst initialState: ModalState = {\n  step: 0,\n  ready: false,\n  timeout: false,\n  error: false,\n  account: null,\n  swap: null,\n};\n\ntype BuyerModalProps = {\n  appId: string; // e.g. 123456a / 123456s\n  close: () => void;\n};\n\nconst BuyerModal = (props: BuyerModalProps) => {\n  const contractType =\n    props.appId.slice(0, 1) === \"a\" ? CONTRACT_TYPES.ATOMIC : CONTRACT_TYPES.SAFE;\n  const appId = parseInt(props.appId.slice(1));\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const handleOutClick = () => {\n    dispatch({ type: MODAL_ACTIONS.CLEAR_ERRORS });\n    props.close();\n  };\n\n  const acceptRef = useRef<any>();\n  const setAcceptRef = (data: any) => {\n    acceptRef.current = data;\n  };\n  const acceptPrice = () => {\n    // dispatch({ type: MODAL_ACTIONS.PROCEED_STEP });\n    acceptRef.current(true);\n  };\n\n  if (state.error)\n    return (\n      <Modal outClick={handleOutClick}>\n        <div className=\"text-2xl text-white text-center p-6 my-6\">\n          <span className=\"material-icons transform scale-150 mb-4\">error</span>\n          <h2 className=\"syne\">\n            An error occured while transferring.\n            <br />\n            Please refresh and try again.\n          </h2>\n        </div>\n      </Modal>\n    );\n\n  return (\n    <Modal outClick={props.close}>\n      <div style={{ minHeight: \"40vh\" }} className=\"overflow-y-auto flex flex-col\">\n        <FormSwitcher\n          state={state}\n          dispatch={dispatch}\n          contractType={contractType}\n          appId={appId}\n          acceptPrice={acceptPrice}\n          setAcceptRef={setAcceptRef}\n          closeModal={props.close}\n        />\n      </div>\n\n      <div style={{ minHeight: \"10vh\" }} className=\" flex justify-around items-center\">\n        {state.ready && (\n          <ModalFormProgressButton\n            txt=\"Next >\"\n            state=\"open\"\n            onClick={() => dispatch({ type: MODAL_ACTIONS.PROCEED_STEP })}\n          />\n        )}\n      </div>\n    </Modal>\n  );\n};\n\ntype FormSwitcherProps = {\n  appId: number;\n  contractType: CONTRACT_TYPES;\n  state: ModalState;\n  dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n  acceptPrice: any;\n  setAcceptRef: any;\n  closeModal: any;\n};\nconst FormSwitcher = (props: FormSwitcherProps) => {\n  switch (props.state.step) {\n    case 0:\n      return <ConnectWallet state={props.state} dispatch={props.dispatch} />;\n    case 1:\n      return (\n        <StartTransfer\n          state={props.state}\n          dispatch={props.dispatch}\n          contractType={props.contractType}\n          appId={props.appId}\n          setAcceptRef={props.setAcceptRef}\n        />\n      );\n    case 2:\n      return (\n        <AcceptParams\n          contractType={props.contractType}\n          state={props.state}\n          acceptPrice={props.acceptPrice}\n          closeModal={props.closeModal}\n        />\n      );\n    default:\n      return <div />;\n  }\n};\n\nconst ConnectWallet = ({ dispatch }: any) => {\n  const makeError = () => dispatch({ type: MODAL_ACTIONS.ERROR_OUT });\n  const setAccount = (acc: any) => dispatch({ type: MODAL_ACTIONS.SET_ACCOUNT, payload: acc });\n\n  const handleMyAlgoConnect = async () => {\n    try {\n      stdlib.setWalletFallback(\n        stdlib.walletFallback({\n          providerEnv: conf.network,\n          MyAlgoConnect,\n        })\n      );\n\n      setAccount(await stdlib.getDefaultAccount());\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  const handleWalletConnect = async () => {\n    try {\n      stdlib.setWalletFallback(\n        stdlib.walletFallback({\n          providerEnv: conf.network,\n          WalletConnect,\n        })\n      );\n\n      setAccount(await stdlib.getDefaultAccount());\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  return (\n    <>\n      <ModalFormTitle title=\"Step 1: Connect Wallet\" />\n      <div className=\"flex-grow flex flex-col items-center justify-center\">\n        <div className=\"md:w-2/3\">\n          <button\n            onClick={handleMyAlgoConnect}\n            className=\"syne inline-flex justify-around text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full items-center\"\n          >\n            <img src={MyAlgoLogo} alt=\"My Algo Logo\" className=\"w-10\" />\n            My Algo Wallet\n          </button>\n          <button\n            onClick={handleWalletConnect}\n            className=\"syne inline-flex justify-around text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full items-center\"\n          >\n            <img src={WalletConnectLogo} alt=\"My Algo Logo\" className=\"w-10\" />\n            Wallet Connect\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n\ntype StartTransferProps = {\n  appId: number;\n  contractType: CONTRACT_TYPES;\n  state: ModalState;\n  dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n  setAcceptRef: any;\n};\nconst StartTransfer = ({\n  contractType,\n  appId,\n  state,\n  dispatch,\n  setAcceptRef,\n}: StartTransferProps) => {\n  const [clicked, setClicked] = useState<boolean>(false);\n\n  const makeError = () => dispatch({ type: MODAL_ACTIONS.ERROR_OUT });\n  const makeTimeout = () => dispatch({ type: MODAL_ACTIONS.TIME_OUT });\n  const makeProceed = () => dispatch({ type: MODAL_ACTIONS.PROCEED_STEP });\n  const makeSetSwap = (params: any) => dispatch({ type: MODAL_ACTIONS.SET_SWAP, payload: params });\n\n  const startTransfer = async () => {\n    try {\n      setClicked(true);\n      const backend = contractType === CONTRACT_TYPES.ATOMIC ? AtomicTransfer : SafeTransfer;\n      const ctc = await state.account.contract(backend, appId);\n\n      const bobInterface = {\n        seeTimeout: () => {\n          makeTimeout();\n        },\n\n        seeTransfer: () => {\n          console.log(\"seeTransfer\");\n          makeProceed();\n        },\n\n        acceptSwap: async (transferParams: any) => {\n          // Accept the NFT\n          const asa =\n            contractType === CONTRACT_TYPES.ATOMIC ? transferParams.tokenA : transferParams.token;\n          await state.account.tokenAccept(asa);\n\n          makeSetSwap({ transferParams, contractType });\n\n          return await new Promise<boolean>((resolve) => {\n            setAcceptRef(resolve);\n          });\n        },\n      };\n\n      ctc.p.Bob(bobInterface);\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  return (\n    <>\n      <ModalFormTitle title=\"Step 2: Start the Transfer\" />\n      <ModalFormAlert type=\"warning\">\n        This is an experimental feature, your funds may be lost forever.\n      </ModalFormAlert>\n\n      <div className=\"flex-grow flex flex-col items-center justify-center\">\n        {!clicked ? (\n          <button\n            onClick={startTransfer}\n            className=\"px-5 py-4 shadow-lg rounded-lg bg-green-800 syne text-white\"\n          >\n            I know the risks, start the transfer\n          </button>\n        ) : (\n          <div className=\"text-2xl syne text-white\">\n            <p>You'll now sign 1 transaction</p>\n            <p>- Opting in for the asset</p>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\ntype AcceptParamsProps = {\n  state: ModalState;\n  contractType: CONTRACT_TYPES;\n  acceptPrice: any;\n  closeModal: any;\n};\nconst AcceptParams = ({ state, contractType, acceptPrice, closeModal }: AcceptParamsProps) => {\n  return (\n    <>\n      <ModalFormTitle title=\"Step 3: Accept the Parameters\" />\n      <div className=\"bg-white text-center syne p-4 text-2xl rounded-lg shadow-lg\">\n        <p> NFT ID: {state.swap.tokenA.toString()}</p>\n        {contractType === CONTRACT_TYPES.ATOMIC ? (\n          <>\n            <p className=\"\">Price {stdlib.formatCurrency(state.swap.amountB, 4)} TOKENS</p>\n            <small className=\"\">Token ID: {state.swap.tokenB.toString()}</small>\n          </>\n        ) : (\n          <p className=\"\">Price {stdlib.formatCurrency(state.swap.amountB, 4)} ALGO</p>\n        )}\n      </div>\n      <div className=\"w-full flex justify-evenly mt-5\">\n        <button\n          className=\"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-green-800 text-white hover:bg-green-700\"\n          onClick={acceptPrice}\n        >\n          Accept\n        </button>\n\n        <button\n          className=\"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-red-800 text-white hover:bg-red-700\"\n          onClick={closeModal}\n        >\n          Reject\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default BuyerModal;\n","import { Context, createContext, useState } from \"react\";\nimport { VIEWS } from \"../constants\";\n\nconst AppContext: Context<any> = createContext({});\n\nconst AppProvider = (props: any) => {\n  const [settings, setSettings] = useState({\n    view: VIEWS.START,\n    darkMode: true,\n  });\n\n  const set = (f: string, v: any) => {\n    setSettings((prevSettings) => {\n      return Object.assign({}, prevSettings, { [f]: v });\n    });\n  };\n\n  return <AppContext.Provider value={{ settings, set }}>{props.children}</AppContext.Provider>;\n};\n\nexport default AppContext;\nexport { AppProvider };\n","export default __webpack_public_path__ + \"static/media/MyAlgoBlue.53c2f7a9.svg\";","export default __webpack_public_path__ + \"static/media/AlgoSigner.abcce80b.svg\";","export default __webpack_public_path__ + \"static/media/WalletConnect.bd8aa632.svg\";","export default __webpack_public_path__ + \"static/media/UnderConstruction.6a8f832d.png\";","import MyAlgo from \"@randlabs/myalgo-connect\";\nconst myAlgoWallet = new MyAlgo();\n\nconst connectToMyAlgo = async (set: any) => {\n  const accounts = await myAlgoWallet.connect();\n  const addresses = accounts.map((account) => account.address);\n\n  set(\"addresses\", addresses);\n};\n\nexport const connectWallet = (set: any) => ({\n  MyAlgo: () => connectToMyAlgo(set),\n});\n","const Modal = (props: any) => {\n  const stopBubble = (e: any) => {\n    e.stopPropagation();\n  };\n\n  return (\n    <div\n      onClick={props.outClick}\n      className=\"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-70\"\n    >\n      <div\n        className=\"\n            w-10/12\n            sm:w-9/12\n            md:w-8/12\n            lg:w-7/12 \n            xl:w-5/12 \n            \n            bg-indigo-800\n            rounded-xl \n            self-center\n            shadow-xl\n            \n            p-4 \n            flex flex-col \n            justify-center \n            overflow-y-auto\n            overflow-x-hidden\"\n        style={{ maxHeight: \"70vh\" }}\n        onClick={stopBubble}\n      >\n        {props.children}\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import MyAlgoLogo from \"../assets/MyAlgoBlue.svg\";\nimport AlgoSignerLogo from \"../assets/AlgoSigner.svg\";\nimport WalletConnectLogo from \"../assets/WalletConnect.svg\";\nimport UnderConstruction from \"../assets/UnderConstruction.png\";\nimport { connectWallet } from \"../lib/connectWallet\";\nimport { useContext } from \"react\";\nimport AppContext from \"../context/appContext\";\n\nimport Modal from \"./Modal\";\n\nconst WalletModal = (props: { close: any }) => {\n  const appContext = useContext(AppContext);\n  const connect = connectWallet(appContext.set);\n\n  return (\n    <Modal>\n      <p\n        className=\"text-4xl text-white text-center mb-16\"\n        style={{ fontFamily: \"'Syne', sans-serif\" }}\n      >\n        Connect Wallet\n      </p>\n      <WalletButton fn={connect.MyAlgo} logo={MyAlgoLogo} name=\"MyAlgo\" />\n      <span>\n        <WalletButton fn={async () => {}} logo={AlgoSignerLogo} name=\"AlgoSigner\" />\n        <img src={UnderConstruction} alt=\"\" className=\"absolute w-20 right-5 top-1/2\" />\n      </span>\n      <span>\n        <WalletButton fn={async () => {}} logo={WalletConnectLogo} name=\"WalletConnect\" />\n        <img\n          src={UnderConstruction}\n          alt=\"\"\n          className=\"absolute w-20 right-5 top-2/3 transform translate-y-3\"\n        />\n      </span>\n      <button\n        className=\"absolute text-white right-5 top-5 transform scale-105\"\n        onClick={props.close}\n      >\n        <span className=\"material-icons\">close</span>\n      </button>\n    </Modal>\n  );\n};\n\nconst WalletButton = (props: { logo: string; name: string; fn: () => Promise<any> }) => {\n  return (\n    <div className=\"grid grid-rows-1 grid-cols-12 transform bg-white pl-8 hover:bg-gray-200 rounded-xl mb-6 p-4\">\n      <img src={props.logo} alt={props.name} className=\"w-12 h-14 col-span-2\" />\n      <button\n        className=\"col-span-10 text-center text-2xl pr-10\"\n        style={{ fontFamily: \"'Syne', sans-serif\" }}\n        onClick={props.fn}\n      >\n        {props.name}\n      </button>\n    </div>\n  );\n};\n\nexport default WalletModal;\n","export default __webpack_public_path__ + \"static/media/Reach.8331c83d.svg\";","type Config = {\n  network: string;\n  algod: string;\n  blockExplorer: string;\n  ipfsGateway: string;\n  storageToken: string;\n};\n\nconst conf = require(\"../config.json\") as Config;\n\nexport { conf };\n","type ModalFormTextInputProps = {\n  st: any;\n  setSt: any;\n  label: string;\n  placeholder: string;\n  type?: string;\n  disabled?: boolean;\n};\n\nexport const ModalFormTextInput = (props: ModalFormTextInputProps) => {\n  return (\n    <div className=\"flex flex-col md:inline-flex md:flex-row md:w-full my-3\">\n      <label\n        htmlFor={props.label + \"-inp\"}\n        className=\"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\"\n      >\n        {props.label}\n      </label>\n      <input\n        disabled={props.disabled ?? false}\n        id={props.label + \"-inp\"}\n        name={props.label + \"-inp\"}\n        type={props.type ?? \"text\"}\n        value={props.st}\n        onChange={(e) => props.setSt(e.target.value)}\n        placeholder={props.placeholder}\n        className=\"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md anaheim flex-grow\"\n      />\n    </div>\n  );\n};\n\ntype ModalFormCheckboxProps = {\n  st: any;\n  setSt: any;\n  label: string;\n  disabled?: boolean;\n};\n\nexport const ModalFormCheckbox = (props: ModalFormCheckboxProps) => {\n  const onClick = (_e: any) => {\n    console.log(\"onClick\");\n    if (!props.disabled) {\n      props.setSt(!props.st);\n    }\n  };\n\n  const bgColor = props.disabled ? \"bg-gray-300\" : \"bg-white\";\n  const labelStyle = \"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\";\n  const checkStyle = \"w-5 h-5 self-center rounded shadow-lg \" + bgColor;\n\n  return (\n    <>\n      <label htmlFor={\"check-inp\"} className={labelStyle}>\n        {props.label}\n      </label>\n      <div onClick={onClick} className={checkStyle}>\n        {props.st && <span className=\"material-icons select-none relative text-sm\">done</span>}\n      </div>\n    </>\n  );\n};\n\ntype ModalFormPriceInputProps = {\n  st: any;\n  setSt: any;\n  label: string;\n  placeholder: string;\n  disabled?: boolean;\n  tokens?: boolean;\n};\n\nexport const ModalFormPriceInput = (props: ModalFormPriceInputProps) => {\n  const inputStyle =\n    \"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md text-center anaheim flex-grow\" +\n    (props.disabled ? \" bg-gray-300\" : \"\");\n\n  return (\n    <>\n      <div className=\"flex flex-col md:inline-flex md:flex-row md:w-full my-3\">\n        <label\n          htmlFor={props.label + \"-inp\"}\n          className=\"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\"\n        >\n          {props.label}\n        </label>\n        <input\n          disabled={props.disabled ?? false}\n          id={props.label + \"-inp\"}\n          name={props.label + \"-inp\"}\n          type=\"number\"\n          step=\"0.001\"\n          value={props.st}\n          onChange={(e) => props.setSt(e.target.value)}\n          placeholder={props.placeholder}\n          className={inputStyle}\n        />\n        <p className=\"px-3 py-2 rounded-2xl syne text-white text-center\">\n          {props.tokens ? \"TOKENS\" : \"ALGO\"}\n        </p>\n      </div>\n    </>\n  );\n};\n\ntype ModalFormAlertProps = {\n  type: \"success\" | \"alert\" | \"warning\" | \"info\";\n  children: any;\n};\n\nexport const ModalFormAlert = (props: ModalFormAlertProps) => {\n  let alertColor;\n  switch (props.type) {\n    case \"success\":\n      alertColor = \"bg-green-700\";\n      break;\n    case \"alert\":\n      alertColor = \"bg-red-700\";\n      break;\n    case \"warning\":\n      alertColor = \"bg-yellow-700\";\n      break;\n    case \"info\":\n      alertColor = \"bg-blue-500\";\n      break;\n    default:\n      alertColor = \"bg-gray-800\";\n      break;\n  }\n\n  const alertStyle = alertColor + \" rounded-lg shadow-xl p-3 inline-flex w-full\";\n\n  return (\n    <div className=\"mx-5 my-4\">\n      <div className={alertStyle}>\n        <span className=\"material-icons text-white self-center\">\n          {props.type === \"info\" ? \"info_outline\" : \"warning_amber\"}\n        </span>\n        <p className=\"syne text-white text-lg text-center flex-grow mx-4\">{props.children}</p>\n      </div>\n    </div>\n  );\n};\n\ntype ModalFormTitleProps = {\n  title: string;\n};\n\nexport const ModalFormTitle = (props: ModalFormTitleProps) => {\n  return <p className=\"text-5xl syne text-center mt-3 mb-6 shadow-sm text-white\">{props.title}</p>;\n};\n\ntype ModalFormProgressButtonProps = {\n  state: \"open\" | \"closed\" | \"restricted\";\n  txt: string;\n  onClick: any;\n};\n\nexport const ModalFormProgressButton = (props: ModalFormProgressButtonProps) => {\n  const stateColor =\n    props.state === \"open\"\n      ? \"bg-green-800\"\n      : props.state === \"closed\"\n      ? \"bg-gray-800\"\n      : props.state === \"restricted\"\n      ? \"bg-red-800\"\n      : \"bg-indigo-800\";\n\n  return (\n    <button\n      className={\"shadow-lg rounded-2xl py-4 px-5 h-full syne text-white \" + stateColor}\n      onClick={props.onClick}\n    >\n      {props.txt}\n    </button>\n  );\n};\n","import { useContext, useState } from \"react\";\nimport WalletModal from \"../components/WalletModal\";\nimport { VIEWS } from \"../constants\";\nimport AppContext from \"../context/appContext\";\n\nimport Reach from \"../assets/Reach.svg\";\nimport BuyerModal from \"../components/GetModal\";\n\nconst Start = () => {\n  const appContext = useContext(AppContext);\n  const [showModal, setShowModal] = useState(false);\n  const handleCloseModal = () => setShowModal(false);\n\n  const [showGetModal, setShowGetModal] = useState<boolean>(false);\n  const handleGetModal = (open: boolean) => () => setShowGetModal(open);\n\n  const [appId, setAppId] = useState<string>(\"\");\n  const handleAppId = (e: any) => setAppId(e.target.value);\n\n  const goToLib = () => {\n    appContext.set(\"view\", VIEWS.LIBRARY);\n  };\n\n  return (\n    <div\n      className=\"grid justify-items-center place-items-center h-screen w-screen\"\n      style={{ backgroundColor: \"#171717\" }}\n    >\n      <img src={Reach} alt=\"Reach Logo\" className=\"absolute bottom-12 text-center w-16\" />\n      <div>\n        <h1\n          className=\"text-6xl md:text-7xl lg:text-8xl xl:text-9xl mb-20 font-bold text-center text-white\"\n          style={{ fontFamily: \"'Syne', sans-serif\" }}\n        >\n          ga//ery\n        </h1>\n        <div className=\"flex flex-row justify-between mx-4 gap-8\">\n          <button\n            className=\"p-2 md:p-3 lg:p-3 xl:p-4 rounded-md text-white bg-indigo-700 hover:bg-indigo-500\"\n            style={{ fontFamily: \"'Syne', sans-serif\" }}\n            onClick={goToLib}\n          >\n            Go To My Collection\n          </button>\n\n          <div className=\"flex rounded-md bg-gray-200\">\n            <button onClick={handleGetModal(true)} className=\"flex h-full\">\n              <span className=\"material-icons self-center mx-3 opacity-50\">play_arrow</span>\n            </button>\n            <input\n              value={appId}\n              onChange={handleAppId}\n              className=\"anaheim h-full rounded-r-md pl-2 text-lg xl:text-xl\"\n              placeholder=\"Search for an app\"\n            />\n          </div>\n        </div>\n      </div>\n      {showGetModal && <BuyerModal appId={appId} close={handleGetModal(false)} />}\n      {showModal && <WalletModal close={handleCloseModal} />}\n    </div>\n  );\n};\n\nexport default Start;\n","// import { useReducer, useRef, useState } from \"react\";\n\n// const Modal = (props: any) => {\n//   const stopBubble = (e: any) => {\n//     e.stopPropagation();\n//   };\n\n//   return (\n//     <div\n//       onClick={props.outClick}\n//       className=\"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-yellow-100 bg-opacity-70\"\n//     >\n//       <div\n//         className=\"\n//             w-10/12\n//             sm:w-9/12\n//             md:w-8/12\n//             lg:w-7/12\n//             xl:w-5/12\n\n//             bg-indigo-800\n//             rounded-xl\n//             self-center\n//             shadow-xl\n\n//             p-4\n//             flex flex-col\n//             justify-center\n//             overflow-x-hidden\n//         \"\n//         style={{ maxHeight: \"70vh\" }}\n//         onClick={stopBubble}\n//       >\n//         {props.children}\n//       </div>\n//     </div>\n//   );\n// };\n\n// type ProgressButtonProps = {\n//   state: \"open\" | \"closed\" | \"restricted\";\n//   txt: string;\n//   onClick: any;\n// };\n// const ProgressButton = (props: ProgressButtonProps) => {\n//   const stateColor =\n//     props.state === \"open\"\n//       ? \"bg-green-600\"\n//       : props.state === \"closed\"\n//       ? \"bg-gray-800\"\n//       : props.state === \"restricted\"\n//       ? \"bg-red-800\"\n//       : \"bg-indigo-700\";\n\n//   return (\n//     <button\n//       className={\"shadow-lg rounded-2xl py-4 px-5 h-full syne text-white \" + stateColor}\n//       onClick={props.onClick}\n//     >\n//       {props.txt}\n//     </button>\n//   );\n// };\n\n// // const Test = () => {\n// //   const [f1, setF1] = useState<string>(\"\");\n// //   const [f2, setF2] = useState<number>(0);\n// //   const [c1, setC1] = useState<boolean>(false);\n\n// //   return (\n// //     <>\n// //       <Modal>\n// //         <div style={{ minHeight: \"40vh\" }} className=\"overflow-y-auto\">\n// //           <p className=\"text-5xl syne text-center my-3 shadow-sm text-white\">Title</p>\n// //           <ModalFormAlert type=\"warning\">\n// //             Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi quisquam perferendis\n// //             ullam, similique aliquam earum error exercitationem porro consequuntur eligendi, ea\n// //             tempora dolorem minima officia veniam quos facere, facilis excepturi.\n// //           </ModalFormAlert>\n// //           <form>\n// //             <ModalFormTextInput\n// //               st={f1}\n// //               setSt={setF1}\n// //               label=\"Field 1\"\n// //               placeholder=\"Fill the field\"\n// //             />\n// //             <ModalFormTextInput\n// //               st={f1}\n// //               setSt={setF1}\n// //               label=\"Field 1\"\n// //               placeholder=\"Fill the field\"\n// //               disabled={true}\n// //             />\n// //             <div className=\"inline-flex justify-center w-full my-3\">\n// //               <ModalFormCheckbox st={c1} setSt={setC1} label=\"Free\" />\n// //               <div className=\"w-2 sm:w-8 lg:w-16\" />\n// //               <ModalFormCheckbox st={c1} setSt={setC1} label=\"Use ASA\" disabled={true} />\n// //             </div>\n\n// //             <ModalFormPriceInput\n// //               st={f2}\n// //               setSt={setF2}\n// //               placeholder=\"\"\n// //               label=\"Amount\"\n// //               disabled={true}\n// //             />\n// //           </form>\n// //         </div>\n// //         <div style={{ minHeight: \"10vh\" }} className=\" flex justify-around items-center\">\n// //           <ProgressButton txt=\"< Previous\" state=\"closed\" />\n// //           <ProgressButton txt=\"Next >\" state=\"open\" />\n// //         </div>\n// //       </Modal>\n// //     </>\n// //   );\n// // };\n\n// const useReach = () => {\n//   const [acc, setAcc] = useState<any>(null);\n//   const [bkd, setBkd] = useState<any>(null);\n//   const [ctc, setCtc] = useState<any>(null);\n\n//   const setReach = (type: \"account\" | \"backend\" | \"contract\", payload: any) => {\n//     const f = type === \"account\" ? setAcc : type === \"backend\" ? setBkd : setCtc;\n//     f(payload);\n//   };\n\n//   return [\n//     {\n//       account: acc,\n//       backend: bkd,\n//       contract: ctc,\n//     },\n//     setReach,\n//   ];\n// };\n\n// enum MODAL_ACTIONS {\n//   MAKE_READY,\n//   PROCEED_STEP,\n//   SET_ACCOUNT,\n//   SET_CONTRACT,\n//   SET_BACKEND,\n// }\n\n// type ModalState = {\n//   step: number;\n//   ready: boolean;\n//   timeout: boolean;\n//   account: any;\n//   contract: any;\n//   backend: any;\n// };\n\n// function reducer(state: ModalState, action: { type: MODAL_ACTIONS; payload?: any }) {\n//   console.log(state.step);\n//   switch (action.type) {\n//     case MODAL_ACTIONS.MAKE_READY:\n//       return {\n//         ...state,\n//         ready: true,\n//       };\n//     case MODAL_ACTIONS.PROCEED_STEP:\n//       return {\n//         ...state,\n//         step: state.step + 1,\n//         ready: false,\n//       };\n//     default:\n//       return state;\n//   }\n// }\n\n// const initialState: ModalState = {\n//   step: 0,\n//   ready: false,\n//   timeout: false,\n//   account: null,\n//   contract: null,\n//   backend: null,\n// };\n\n// const Test = () => {\n//   const [state, dispatch] = useReducer(reducer, initialState);\n\n//   const acceptResolveRef = useRef<any>();\n//   const setAcceptResolveRef = (data: any) => {\n//     acceptResolveRef.current = data;\n//   };\n//   const acceptPrice = () => acceptResolveRef.current(true);\n\n//   return (\n//     <>\n//       <Modal>\n//         <div style={{ minHeight: \"40vh\" }} className=\"overflow-y-auto flex flex-col\">\n//           <FormSwitcher state={state} dispatch={dispatch} />\n//         </div>\n//         <div style={{ minHeight: \"10vh\" }} className=\" flex justify-around items-center\">\n//           {state.ready && (\n//             <ProgressButton\n//               txt=\"Next >\"\n//               state=\"open\"\n//               onClick={() => dispatch({ type: MODAL_ACTIONS.PROCEED_STEP })}\n//             />\n//           )}\n//         </div>\n//       </Modal>\n//     </>\n//   );\n// };\n\n// type FormSwitcherProps = {\n//   state: ModalState;\n//   dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n// };\n// const FormSwitcher = (props: FormSwitcherProps) => {\n//   const makeReady = () => props.dispatch({ type: MODAL_ACTIONS.MAKE_READY });\n\n//   switch (props.state.step) {\n//     case 0:\n//       return <ConnectWallet makeReady={makeReady} />;\n//     case 1:\n//       return <StartTransfer makeReady={makeReady} />;\n//     default:\n//       return <div />;\n//   }\n// };\n\n// const ConnectWallet = ({ makeReady }: any) => {\n//   const handleConnect = () => makeReady();\n\n//   return (\n//     <>\n//       <ModalFormTitle title=\"Step 1: Connect Wallet\" />\n//       <div className=\"flex-grow flex flex-col items-center justify-center\">\n//         <div className=\"md:w-2/3\">\n//           <button\n//             onClick={handleConnect}\n//             className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n//           >\n//             My Algo Wallet\n//           </button>\n//           <button\n//             onClick={handleConnect}\n//             className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n//           >\n//             Wallet Connect\n//           </button>\n//           <button\n//             onClick={handleConnect}\n//             className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n//           >\n//             Algo Signer\n//           </button>\n//         </div>\n//       </div>\n//     </>\n//   );\n// };\n\n// const StartTransfer = ({ makeReady }: any) => {\n//   const startTransfer = () => makeReady();\n\n//   return (\n//     <>\n//       <ModalFormTitle title=\"Step 2: Start the Transfer\" />\n//       <ModalFormAlert type=\"warning\">\n//         This is an experimental feature, your funds may be lost forever.\n//       </ModalFormAlert>\n\n//       <div className=\"flex-grow flex flex-col items-center justify-center\">\n//         <button\n//           onClick={startTransfer}\n//           className=\"px-5 py-4 shadow-lg rounded-lg bg-green-800 syne text-white\"\n//         >\n//           I know the risks, start the transfer\n//         </button>\n//       </div>\n//     </>\n//   );\n// };\n\n// type ModalFormTextInputProps = {\n//   st: any;\n//   setSt: any;\n//   label: string;\n//   placeholder: string;\n//   disabled?: boolean;\n// };\n\n// const ModalFormTextInput = (props: ModalFormTextInputProps) => {\n//   return (\n//     <div className=\"flex flex-col md:inline-flex md:flex-row md:w-full my-3\">\n//       <label\n//         htmlFor={props.label + \"-inp\"}\n//         className=\"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\"\n//       >\n//         {props.label}\n//       </label>\n//       <input\n//         disabled={props.disabled ?? false}\n//         id={props.label + \"-inp\"}\n//         name={props.label + \"-inp\"}\n//         type=\"text\"\n//         value={props.st}\n//         onChange={(e) => props.setSt(e.target.value)}\n//         placeholder={props.placeholder}\n//         className=\"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md anaheim flex-grow\"\n//       />\n//     </div>\n//   );\n// };\n\n// type ModalFormCheckboxProps = {\n//   st: any;\n//   setSt: any;\n//   label: string;\n//   disabled?: boolean;\n// };\n// const ModalFormCheckbox = (props: ModalFormCheckboxProps) => {\n//   const onClick = (_e: any) => {\n//     if (!props.disabled) {\n//       props.setSt(!props.st);\n//     }\n//   };\n\n//   const bgColor = props.disabled ? \"bg-gray-300\" : \"bg-white\";\n//   const labelStyle = \"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\";\n//   const checkStyle = \"w-5 h-5 self-center rounded shadow-lg \" + bgColor;\n\n//   return (\n//     <>\n//       <label htmlFor={\"check-inp\"} className={labelStyle}>\n//         {props.label}\n//       </label>\n//       <div onClick={onClick} className={checkStyle}>\n//         {props.st && <span className=\"material-icons select-none relative text-sm\">done</span>}\n//       </div>\n//     </>\n//   );\n// };\n\n// type ModalFormPriceInputProps = {\n//   st: any;\n//   setSt: any;\n//   label: string;\n//   placeholder: string;\n//   disabled?: boolean;\n//   tokens?: boolean;\n// };\n// const ModalFormPriceInput = (props: ModalFormPriceInputProps) => {\n//   const inputStyle =\n//     \"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md text-center anaheim flex-grow\" +\n//     (props.disabled ? \" bg-gray-300\" : \"\");\n\n//   return (\n//     <>\n//       <div className=\"flex flex-col md:inline-flex md:flex-row md:w-full my-3\">\n//         <label\n//           htmlFor={props.label + \"-inp\"}\n//           className=\"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\"\n//         >\n//           {props.label}\n//         </label>\n//         <input\n//           disabled={props.disabled ?? false}\n//           id={props.label + \"-inp\"}\n//           name={props.label + \"-inp\"}\n//           type=\"number\"\n//           step=\"0.001\"\n//           value={props.st}\n//           onChange={(e) => props.setSt(e.target.value)}\n//           placeholder={props.placeholder}\n//           className={inputStyle}\n//         />\n//         <p className=\"px-3 py-2 rounded-2xl syne text-white text-center\">\n//           {props.tokens ? \"TOKENS\" : \"ALGO\"}\n//         </p>\n//       </div>\n//     </>\n//   );\n// };\n\n// type ModalFormAlertProps = {\n//   type: \"success\" | \"alert\" | \"warning\";\n//   children: any;\n// };\n// const ModalFormAlert = (props: ModalFormAlertProps) => {\n//   let alertColor;\n//   switch (props.type) {\n//     case \"success\":\n//       alertColor = \"bg-green-700\";\n//       break;\n//     case \"alert\":\n//       alertColor = \"bg-red-700\";\n//       break;\n//     case \"warning\":\n//       alertColor = \"bg-yellow-700\";\n//       break;\n//     default:\n//       alertColor = \"bg-gray-800\";\n//       break;\n//   }\n\n//   const alertStyle = alertColor + \" rounded-lg shadow-xl p-3 inline-flex w-full\";\n\n//   return (\n//     <div className=\"mx-5 my-4\">\n//       <div className={alertStyle}>\n//         <span className=\"material-icons text-white self-center\">warning_amber</span>\n//         <p className=\"syne text-white text-lg text-center flex-grow mx-4\">{props.children}</p>\n//       </div>\n//     </div>\n//   );\n// };\n\n// type ModalFormTitleProps = {\n//   title: string;\n// };\n// const ModalFormTitle = (props: ModalFormTitleProps) => {\n//   return <p className=\"text-5xl syne text-center mt-3 mb-6 shadow-sm text-white\">{props.title}</p>;\n// };\n\n// export default Test;\n\nexport default function Test() {\n  return <div />;\n}\n","import { NFTMetadata } from \"./nft\";\n\nexport const getFromIPFS = async (url: string): Promise<NFTMetadata> => {\n  try {\n    const req = new Request(url);\n    const resp = await fetch(req);\n    const body = await resp.blob();\n\n    return JSON.parse(await body.text()) as NFTMetadata;\n  } catch (err) {\n    console.error(\"Failed to get Metadata from IPFS:\", err);\n  }\n\n  return new NFTMetadata();\n};\n","import { conf } from \"./config\";\nimport { getFromIPFS } from \"./ipfs\";\n\nconst ARC3_SUFFIX = \"@arc3\";\nconst METADATA_FILE = \"metadata.json\";\n\nexport function resolveURL(url: string | undefined): string {\n  if (!url) return \"-\";\n\n  const chunks = url.split(\"://\");\n\n  // give up\n  if (chunks.length < 2) return url;\n\n  const proto = chunks[0];\n\n  switch (proto) {\n    case \"ipfs\":\n      return conf.ipfsGateway + chunks[1];\n    case \"https\":\n      return url;\n  }\n\n  return url;\n}\n\nexport class NFT {\n  public url: string = \"\";\n  public name: string = \"\";\n  public creator: string = \"\";\n  public owner: string = \"\";\n  public count: number = 0;\n  public assetId: number = 0;\n  public arc3: boolean = false;\n\n  metadata: NFTMetadata | undefined = undefined;\n\n  constructor(owner: string, args: any = {}) {\n    this.owner = owner;\n    Object.assign(this, args);\n  }\n\n  static async fromToken(owner: string, token: any): Promise<NFT> {\n    const assetId = token.index;\n    const { name, url, creator, total } = token.params;\n    const metadata = await checkLocal(assetId, url);\n\n    return new NFT(owner, {\n      url: url,\n      name: name,\n      creator: creator,\n      owner: owner,\n      count: total,\n      assetId: assetId,\n      arc3: this.isArc3(token),\n      metadata: metadata,\n    });\n  }\n\n  imgURL(): string {\n    const url = resolveURL(this.arc3 ? this.metadata?.image : this.url);\n\n    if (url !== this.metadata?.image) {\n      return url;\n    }\n\n    if (this.url.endsWith(METADATA_FILE)) {\n      const dir = this.url.substring(0, this.url.length - METADATA_FILE.length);\n      return resolveURL(dir) + this.metadata.image;\n    }\n\n    return \"\";\n  }\n\n  static isArc3(token: any): boolean {\n    return token?.params?.name && token?.params?.name.endsWith(ARC3_SUFFIX);\n  }\n}\n\nexport class NFTMetadata {\n  name: string = \"\";\n  description: string = \"\";\n  image: string = \"\";\n\n  decimals?: number = 0;\n  image_integrity?: string = \"\";\n  image_mimetype?: string = \"\";\n  properties?: Properties;\n\n  constructor(args: any = {}) {\n    Object.assign(this, args);\n  }\n\n  toFile(): File {\n    const md_blob = new Blob([JSON.stringify({ ...this }, null, 2)], {\n      type: \"application/json\",\n    });\n    return new File([md_blob], METADATA_FILE);\n  }\n\n  arc3Name(): string {\n    //Max length of asset name is 32 bytes, need 5 for @arc3\n    return this.name.substring(0, 27) + ARC3_SUFFIX;\n  }\n}\n\nexport type Properties = {\n  [key: string]: string | number;\n};\n\ntype NFTMetadataFields = {\n  name: string;\n  description: string;\n  image: string;\n\n  decimals?: number;\n  image_mimetype?: string;\n  image_integrity?: string;\n  properties?: Properties;\n};\n\nfunction saveMdToLocal(assetId: number, md: NFTMetadata): NFTMetadata {\n  const mdCache = JSON.parse(localStorage.getItem(\"mds\") ?? \"{}\");\n  const { ...fields }: NFTMetadataFields = md;\n\n  mdCache[assetId] = { ...fields };\n  localStorage.setItem(\"mds\", JSON.stringify(mdCache));\n\n  return md;\n}\n\nexport async function checkLocal(\n  assetId: number,\n  url: string\n): Promise<NFTMetadata> {\n  const mdCache = JSON.parse(localStorage.getItem(\"mds\") ?? \"[]\");\n  if (!mdCache[assetId])\n    return saveMdToLocal(assetId, await getFromIPFS(resolveURL(url)));\n\n  return new NFTMetadata(mdCache[assetId]);\n}\n","import algosdk from \"algosdk\";\nimport { conf } from \"./config\";\nimport { NFT } from \"./nft\";\n\nconst client = new algosdk.Algodv2(\"\", conf.algod, \"\");\n\ntype OwnerAsaIds = {\n  owner: string;\n  assetIds: any[];\n};\n\nexport const getAssetIdsOfAddress = async (\n  address: string\n): Promise<OwnerAsaIds> => {\n  const results = await client.accountInformation(address).do();\n\n  // Filter the assets account has\n  const assetIds = Object.keys(results.assets)\n    .filter((id: any) => results[\"assets\"][id][\"amount\"] > 0)\n    .map((id: any) => results[\"assets\"][id][\"asset-id\"]);\n\n  return {\n    owner: address,\n    assetIds,\n  };\n};\n\nexport const getASAById = async (assetId: number): Promise<any> => {\n  return await client.getAssetByID(assetId).do();\n};\n\nexport const getDetailsOfNft = async (\n  owner: string,\n  assetId: number\n): Promise<NFT> => {\n  const asa = await getASAById(assetId);\n  return await NFT.fromToken(owner, asa);\n};\n\nexport class NFTIterator {\n  private counter: number = 0;\n  private idList: { owner: string; id: number }[];\n  private iterSize: number; // Number of items returned with each next()\n  private done: boolean = false;\n\n  constructor(ownerAsaIds: OwnerAsaIds[], iterSize: number) {\n    this.idList = ownerAsaIds.reduce((prev: any[], list: OwnerAsaIds) => {\n      const ids = list.assetIds.map((id) => ({ owner: list.owner, id }));\n      return [...prev, ...ids];\n    }, []);\n\n    this.iterSize = iterSize;\n  }\n\n  isDone() {\n    return this.done;\n  }\n\n  /**\n   * Return next batch of NFTs\n   * @returns NFTs of length <iterSize>\n   */\n  async next() {\n    const results = [];\n\n    for (let i = 0; i < this.iterSize; i++) {\n      if (this.counter + i >= this.idList.length) {\n        this.done = true;\n        break;\n      }\n\n      const asaIdx = this.counter++ + i;\n      const { owner, id } = this.idList[asaIdx];\n\n      const asa = await getASAById(id);\n      results.push(await NFT.fromToken(owner, asa));\n    }\n\n    return results;\n  }\n}\n\nexport const getNFTIterator = (\n  ownerAsaIds: OwnerAsaIds[],\n  iteratorSize: number\n): NFTIterator => new NFTIterator(ownerAsaIds, iteratorSize);\n","import { useState, useEffect, useRef } from \"react\";\nimport {\n  getAssetIdsOfAddress,\n  getNFTIterator,\n  NFTIterator,\n} from \"./lib/algoHelpers\";\nimport { NFT } from \"./lib/nft\";\n\nfunction getWindowDimensions() {\n  const { innerWidth: width } = window;\n  return {\n    width,\n  };\n}\n\nexport function useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowDimensions;\n}\n\ntype UseNftDefaults = {\n  accs: string[];\n};\nexport function useNfts(defs: UseNftDefaults) {\n  const [accs, setAccs] = useState<string[]>(defs.accs);\n  const [update, setUpdate] = useState<boolean>(true);\n  const [done, setDone] = useState<boolean>(false);\n  const [nftIterator, setNftIterator] = useState<NFTIterator | undefined>(\n    undefined\n  );\n\n  const [nfts, _setNfts] = useState<NFT[]>([]);\n  const nftsRef = useRef<NFT[]>(nfts);\n  const setNfts = (data: NFT[]) => {\n    nftsRef.current = data;\n    _setNfts(data);\n  };\n\n  const handleScroll = (e: any) => {\n    const scrollHeight = window.innerHeight + window.scrollY;\n    if (scrollHeight >= document.body.offsetHeight && !nftIterator?.isDone()) {\n      setDone(false);\n      setUpdate(true);\n    }\n  };\n\n  useEffect(() => {\n    const loadIterator = async () => {\n      const ownerAsaIds = [];\n      for (let account of accs)\n        ownerAsaIds.push(await getAssetIdsOfAddress(account));\n\n      const nftIter = getNFTIterator(ownerAsaIds, 5);\n      setNftIterator(nftIter);\n    };\n\n    loadIterator();\n\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accs, setNftIterator]);\n\n  useEffect(() => {\n    const updateNfts = async () => {\n      setDone(false);\n      setNfts([...nftsRef.current, ...(await nftIterator!.next())]);\n\n      setDone(true);\n      setUpdate(false);\n    };\n\n    if (nftIterator && update) {\n      updateNfts();\n    }\n  }, [update, nftIterator]);\n\n  return { accs, setAccs, done, nftIterator, nftsRef };\n}\n\nexport const useScroll = () => {\n  const scrollSpeed = useRef<number>();\n\n  var checkScrollSpeed = (function () {\n    var lastPos: number | null,\n      newPos: number,\n      timer: NodeJS.Timeout,\n      delta: number,\n      delay = 50; // in \"ms\" (higher means lower fidelity )\n\n    function clear() {\n      lastPos = null;\n      delta = 0;\n    }\n\n    clear();\n\n    return function () {\n      newPos = window.scrollY;\n      if (lastPos != null) {\n        // && newPos < maxScroll\n        delta = newPos - lastPos;\n      }\n      lastPos = newPos;\n      clearTimeout(timer);\n      timer = setTimeout(clear, delay);\n      return delta;\n    };\n  })();\n\n  // listen to \"scroll\" event\n  window.onscroll = function () {\n    scrollSpeed.current = checkScrollSpeed();\n  };\n\n  return { scrollSpeed: scrollSpeed.current };\n};\n","export const getStorageItem = (f: string, def: string) => {\n  return JSON.parse(localStorage.getItem(f) ?? def);\n};\n\nexport const setStorageItem = (f: string, val: any, def: any) => {\n  localStorage.setItem(f, JSON.stringify(val) ?? def);\n};\n","import { useState } from \"react\";\n\ntype AddressModalProps = {\n  addresses: string[];\n  setAddresses: any;\n  outClick: () => void;\n};\n\nconst AddressModal = (props: AddressModalProps) => {\n  const [curAddr, setCurAddr] = useState<string>(\"\");\n\n  const handleAddrChange = (e: any) => {\n    setCurAddr(e.target.value);\n  };\n\n  const stopBubble = (e: any) => {\n    e.stopPropagation();\n  };\n\n  const addAddress = () => {\n    props.setAddresses([...props.addresses, curAddr]);\n  };\n\n  const rmAddress = (address: string) => {\n    props.setAddresses(props.addresses.filter((addr) => addr !== address));\n  };\n\n  return (\n    <div\n      onClick={props.outClick}\n      className=\"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-20\"\n    >\n      <div\n        onClick={stopBubble}\n        className=\"w-10/12 sm:w-9/12 md:w-8/12 lg:w-7/12 xl:w-5/12 \n        bg-black text-white self-center justify-center p-4 flex flex-col items-center\"\n      >\n        <button className=\"material-icons self-end\" onClick={props.outClick}>\n          close\n        </button>\n        <div className=\"syne text-3xl text-center\">Enter address(es)</div>\n\n        <div className=\"py-5\" />\n\n        <span style={{ width: \"70%\" }}>\n          <input\n            style={{ width: \"80% \" }}\n            className=\"bg-black border-white border-4 text-white w-full pl-5\"\n            onChange={handleAddrChange}\n            placeholder=\"Enter address\"\n            type=\"text\"\n          />\n          <button\n            style={{ width: \"20%\" }}\n            className=\"bg-gray-400 hover:text-white text-black border-none h-full syne align-top\"\n            onClick={addAddress}\n          >\n            Enter\n          </button>\n        </span>\n\n        <div className=\"py-5\" />\n\n        <div style={{ width: \"70% \" }}>\n          {props.addresses.map((address) => {\n            return (\n              <div\n                className=\"bg-gray-900 text-white anaheim text-center text-xl transition-colors hover:bg-red-700 w-full\"\n                onClick={() => {\n                  rmAddress(address);\n                }}\n              >\n                {address.slice(0, 10) +\n                  \"...\" +\n                  address.slice(address.length - 10)}\n              </div>\n            );\n          })}\n        </div>\n\n        <div className=\"py-5\" />\n      </div>\n    </div>\n  );\n};\n\nexport default AddressModal;\n","export default __webpack_public_path__ + \"static/media/Frame12.7bd8d6fe.png\";","export default __webpack_public_path__ + \"static/media/Frame36.d07f9306.png\";","export default __webpack_public_path__ + \"static/media/Frame22.d59a070a.png\";","export default __webpack_public_path__ + \"static/media/Frame29.a10cf260.png\";","export default __webpack_public_path__ + \"static/media/Frame17.fbb462b9.png\";","export default __webpack_public_path__ + \"static/media/Frame20.1084c86f.png\";","export default __webpack_public_path__ + \"static/media/Frame05.41299913.png\";","export default __webpack_public_path__ + \"static/media/Frame11.f74cba01.png\";","export default __webpack_public_path__ + \"static/media/Frame21.093aa277.png\";","export default __webpack_public_path__ + \"static/media/Frame06.06c75b2d.png\";","export default __webpack_public_path__ + \"static/media/Frame25.3edc40a5.png\";","export default __webpack_public_path__ + \"static/media/Frame34.3cca3eaf.png\";","export default __webpack_public_path__ + \"static/media/Frame04.cd757996.png\";","export default __webpack_public_path__ + \"static/media/Frame30.7e5c290e.png\";","export default __webpack_public_path__ + \"static/media/Frame19.73677473.png\";","export default __webpack_public_path__ + \"static/media/Frame14.a84bd207.png\";","export default __webpack_public_path__ + \"static/media/Frame08.ef43d1d4.png\";","export default __webpack_public_path__ + \"static/media/Frame15.e3ceb2f8.png\";","export default __webpack_public_path__ + \"static/media/Frame26.fefbf749.png\";","export default __webpack_public_path__ + \"static/media/Frame32.c77e9562.png\";","export default __webpack_public_path__ + \"static/media/Frame03.d671b63e.png\";","export default __webpack_public_path__ + \"static/media/Frame13.5b3957c6.png\";","export default __webpack_public_path__ + \"static/media/Frame18.77a04e57.png\";","export default __webpack_public_path__ + \"static/media/Frame02.f19cf6d3.png\";","export default __webpack_public_path__ + \"static/media/Frame31.cd18258a.png\";","export default __webpack_public_path__ + \"static/media/Frame35.6a5ee20b.png\";","export default __webpack_public_path__ + \"static/media/Frame27.c8976c37.png\";","export default __webpack_public_path__ + \"static/media/Frame16.d70ca523.png\";","export default __webpack_public_path__ + \"static/media/Frame01.bdda2a6f.png\";","export default __webpack_public_path__ + \"static/media/Frame37.b50c74cb.png\";","export default __webpack_public_path__ + \"static/media/Frame23.087ec8b3.png\";","export default __webpack_public_path__ + \"static/media/Frame07.944d1fd6.png\";","export default __webpack_public_path__ + \"static/media/Frame28.80a58f9a.png\";","export default __webpack_public_path__ + \"static/media/Frame09.a75806d8.png\";","export default __webpack_public_path__ + \"static/media/Frame10.59be19cd.png\";","export default __webpack_public_path__ + \"static/media/Frame33.15030e42.png\";","import Frames1 from \"./VintageFrames/Frame12.png\";\nimport Frames2 from \"./VintageFrames/Frame36.png\";\nimport Frames3 from \"./VintageFrames/Frame22.png\";\nimport Frames4 from \"./VintageFrames/Frame29.png\";\nimport Frames5 from \"./VintageFrames/Frame17.png\";\nimport Frames6 from \"./VintageFrames/Frame20.png\";\nimport Frames7 from \"./VintageFrames/Frame05.png\";\nimport Frames8 from \"./VintageFrames/Frame11.png\";\nimport Frames9 from \"./VintageFrames/Frame21.png\";\nimport Frames10 from \"./VintageFrames/Frame06.png\";\nimport Frames11 from \"./VintageFrames/Frame25.png\";\nimport Frames12 from \"./VintageFrames/Frame34.png\";\nimport Frames13 from \"./VintageFrames/Frame04.png\";\nimport Frames14 from \"./VintageFrames/Frame30.png\";\nimport Frames15 from \"./VintageFrames/Frame19.png\";\nimport Frames16 from \"./VintageFrames/Frame14.png\";\nimport Frames17 from \"./VintageFrames/Frame08.png\";\nimport Frames18 from \"./VintageFrames/Frame15.png\";\nimport Frames19 from \"./VintageFrames/Frame26.png\";\nimport Frames20 from \"./VintageFrames/Frame32.png\";\nimport Frames21 from \"./VintageFrames/Frame03.png\";\nimport Frames22 from \"./VintageFrames/Frame13.png\";\nimport Frames23 from \"./VintageFrames/Frame18.png\";\nimport Frames24 from \"./VintageFrames/Frame02.png\";\nimport Frames25 from \"./VintageFrames/Frame31.png\";\nimport Frames26 from \"./VintageFrames/Frame35.png\";\nimport Frames27 from \"./VintageFrames/Frame27.png\";\nimport Frames28 from \"./VintageFrames/Frame16.png\";\nimport Frames29 from \"./VintageFrames/Frame01.png\";\nimport Frames30 from \"./VintageFrames/Frame37.png\";\nimport Frames31 from \"./VintageFrames/Frame23.png\";\nimport Frames32 from \"./VintageFrames/Frame07.png\";\nimport Frames33 from \"./VintageFrames/Frame28.png\";\nimport Frames34 from \"./VintageFrames/Frame09.png\";\nimport Frames35 from \"./VintageFrames/Frame10.png\";\nimport Frames36 from \"./VintageFrames/Frame33.png\";\n\nconst randomIdx = (arr: Array<string>) => {\n  return Math.floor(Math.random() * arr.length);\n};\n\nexport function selectFrame(ratio: number) {\n  const ratios = [\n    1.366093366093366, 0.8404255319148937, 0.8147058823529412,\n    1.3401486988847584, 1.300711743772242, 0.846553966189857,\n    1.2228070175438597, 1.5411954765751212, 0.8966942148760331,\n    0.7604912998976459, 0.7753164556962026, 1.1920415224913494,\n    1.2246065808297568, 0.8234442836468886, 1.1263157894736842,\n    1.2917431192660551, 1.2034313725490196, 1.1814744801512287,\n    1.1901931649331352, 0.8077544426494345, 0.7858136300417247,\n    1.1241534988713318, 0.87248322147651, 0.7247596153846154, 0.843042071197411,\n    1.1636636636636637, 1.133445945945946, 1.1673728813559323,\n    1.238938053097345, 0.6496732026143791, 1.1704745166959578, 1.23,\n    1.2421602787456445, 1.2330578512396695, 0.9634703196347032,\n    1.154727793696275,\n  ];\n  const frames = [\n    [Frames1],\n    [Frames2],\n    [Frames3],\n    [Frames4],\n    [Frames5],\n    [Frames6],\n    [Frames7],\n    [Frames8],\n    [Frames9],\n    [Frames10],\n    [Frames11],\n    [Frames12],\n    [Frames13],\n    [Frames14],\n    [Frames15],\n    [Frames16],\n    [Frames17],\n    [Frames18],\n    [Frames19],\n    [Frames20],\n    [Frames21],\n    [Frames22],\n    [Frames23],\n    [Frames24],\n    [Frames25],\n    [Frames26],\n    [Frames27],\n    [Frames28],\n    [Frames29],\n    [Frames30],\n    [Frames31],\n    [Frames32],\n    [Frames33],\n    [Frames34],\n    [Frames35],\n    [Frames36],\n  ];\n  const innerPercentages = [\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n    [{ w: 80, h: 80 }],\n  ];\n\n  const closest = ratios.reduce((prev, val, i) => {\n    if (Math.abs(ratio - val) < Math.abs(ratio - ratios[prev])) return i;\n    return prev;\n  }, 0);\n\n  const idx = randomIdx(frames[closest]);\n\n  return {\n    frame: frames[closest][idx],\n    ratio: ratios[closest],\n    innerPercentage: innerPercentages[closest][idx],\n  };\n}\n","import { CSSProperties, useEffect, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport TagsInput from \"react-tagsinput\";\nimport { selectFrame } from \"../assets/frames\";\nimport { getStorageItem, setStorageItem } from \"../lib/helpers\";\nimport { NFT } from \"../lib/nft\";\n\ntype FileDimensions = {\n  height: number;\n  width: number;\n};\n\nconst getDimensionsOf = async (url: string): Promise<FileDimensions> => {\n  return await new Promise((resolve) => {\n    const img = new Image();\n\n    img.addEventListener(\"load\", function () {\n      const width = this.naturalWidth;\n      const height = this.naturalHeight;\n      resolve({ width, height });\n    });\n\n    img.addEventListener(\"error\", function () {\n      const video = document.createElement(\"video\");\n      video.addEventListener(\n        \"loadedmetadata\",\n        function () {\n          const height = this.videoHeight;\n          const width = this.videoWidth;\n          resolve({ height, width });\n        },\n        false\n      );\n      video.addEventListener(\"error\", function () {\n        resolve({ height: 200, width: 200 });\n      });\n      video.src = url;\n    });\n    img.src = url;\n  });\n};\n\nconst setDiff = (a: Set<string>, b: Set<string>) => {\n  let _difference = new Set(a);\n  for (let elem of b) {\n    _difference.delete(elem);\n  }\n  return _difference;\n};\n\ntype NftCardProps = {\n  nft: NFT;\n  cardLength: number;\n  // tags: string[];\n};\nconst NftCard = (props: NftCardProps) => {\n  // Initialize tags with what's inside local storage\n  const [tags, setTags] = useState<string[]>(\n    getStorageItem(\"tags\", \"{}\")?.[props.nft.assetId] ?? []\n  );\n\n  const handleTagChange = (newTags: string[]) => {\n    const oldSet = new Set(tags);\n    const newSet = new Set(newTags);\n\n    // eslint-disable-next-line eqeqeq\n    if (oldSet == newSet) return;\n\n    const localTags = getStorageItem(\"tags\", \"{}\");\n    const newItem = [...setDiff(newSet, oldSet)][0];\n\n    if (!localTags[\"global\"]) localTags[\"global\"] = [];\n\n    localTags[props.nft.assetId] = [...newSet];\n\n    if (newItem && !localTags[\"global\"].includes(newItem)) {\n      localTags[\"global\"].push(newItem);\n    }\n\n    setStorageItem(\"tags\", localTags, {});\n    setTags([...newSet]);\n  };\n\n  const [loadError, setLoadError] = useState<boolean>(false);\n  const [sizeRatio, setSizeRatio] = useState<number>(0);\n  const imgUrl = props.nft.imgURL();\n\n  useEffect(() => {\n    async function getRatio() {\n      const { height, width } = await getDimensionsOf(imgUrl);\n      setSizeRatio(height / width);\n    }\n\n    getRatio();\n  }, [imgUrl]);\n\n  const { frame, ratio, innerPercentage } = selectFrame(sizeRatio);\n\n  return (\n    <>\n      <VerticalSpacer height={20 + Math.random() * 200} />\n      <div\n        style={{\n          height: props.cardLength * ratio + \"px\",\n          margin: \"10px\",\n          display: \"flex\",\n          backgroundImage: `url(${frame})`,\n          backgroundRepeat: \"no-repeat\",\n          backgroundSize: `${props.cardLength - 30}px ${\n            props.cardLength * ratio\n          }px`,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <FallbackContent\n          src={imgUrl}\n          nested={false}\n          extraStyle=\"syne\"\n          innerPercentage={innerPercentage}\n        />\n      </div>\n      <p className=\"syne text-4xl text-white ml-3 mb-4\">{props.nft.name}</p>\n      <TagsInput value={tags} onChange={handleTagChange} />\n      <VerticalSpacer height={Math.random() * 400} />\n    </>\n  );\n};\n\nconst VerticalSpacer = (props: { height: number }) => {\n  return <div style={{ height: props.height + \"px\" }} />;\n};\n\nconst FallbackContent = (props: {\n  src: string;\n  nested: boolean;\n  extraStyle?: string;\n  innerPercentage?: { w: number; h: number };\n}) => {\n  const [imageFailed, setImageFailed] = useState<boolean>(false);\n  const [videoFailed, setVideoFailed] = useState<boolean>(false);\n  const [audioFailed, setAudioFailed] = useState<boolean>(false);\n\n  const [fullscreen, setFullscreen] = useState<boolean>(false);\n\n  const contentStyle: CSSProperties = props.nested\n    ? {\n        transform: \"translateX(4px)\",\n        color: \"white\",\n        zIndex: -1,\n      }\n    : props.innerPercentage !== undefined\n    ? {\n        transform: \"translateX(4px)\",\n        color: \"white\",\n        // position: \"relative\",\n        width: props.innerPercentage.w + \"%\",\n        // height: props.innerPercentage.h + \"%\",\n      }\n    : {};\n\n  const goFullscreen = () => {\n    if (!props.nested) setFullscreen(true);\n  };\n  const closeFullscreen = () => setFullscreen(false);\n\n  const handleErrorImage = () => {\n    console.log(\"Image failed for\", props.src);\n    setImageFailed(true);\n  };\n\n  const handleErrorVideo = () => {\n    console.log(\"Video failed for\", props.src);\n    setVideoFailed(true);\n  };\n\n  const handleErrorAudio = () => {\n    console.log(\"Audio failed for\", props.src);\n    setAudioFailed(true);\n  };\n\n  return (\n    <>\n      {audioFailed ? (\n        <div onClick={goFullscreen}>{props.src}</div>\n      ) : videoFailed ? (\n        <div>\n          <audio\n            style={contentStyle}\n            src={props.src}\n            onError={(_e) => handleErrorAudio}\n          />\n        </div>\n      ) : imageFailed ? (\n        props.nested ? (\n          <video\n            autoPlay={true}\n            muted={false}\n            className={props.extraStyle}\n            src={props.src}\n            style={contentStyle}\n            onClick={goFullscreen}\n            onError={(_e) => handleErrorVideo()}\n          ></video>\n        ) : (\n          <video\n            autoPlay={true}\n            muted={true}\n            loop={true}\n            src={props.src}\n            style={contentStyle}\n            onClick={goFullscreen}\n            onError={(_e) => handleErrorVideo()}\n          ></video>\n        )\n      ) : (\n        <img\n          onClick={goFullscreen}\n          style={contentStyle}\n          className={props.extraStyle}\n          src={props.src}\n          alt=\"\"\n          onError={(_e) => handleErrorImage()}\n        />\n      )}\n\n      {fullscreen && <ItemDisplay src={props.src} close={closeFullscreen} />}\n    </>\n  );\n};\n\ntype ItemDisplayProps = {\n  src: string;\n  close: () => void;\n};\n\nconst ItemDisplay = (props: ItemDisplayProps) => {\n  return (\n    <ItemDisplayModal outClick={props.close}>\n      <FallbackContent src={props.src} extraStyle=\"h-full\" nested={true} />\n    </ItemDisplayModal>\n  );\n};\n\nconst ItemDisplayModal = (props: any) => {\n  const stopBubble = (e: any) => {\n    e.stopPropagation();\n  };\n\n  return (\n    <div\n      onClick={props.outClick}\n      className=\"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-70\"\n    >\n      <div\n        className=\"\n        rounded-xl \n      bg-transparent\n        shadow-lg\n        self-center\n        flex flex-col justify-center overflow-x-hidden\"\n        style={{ zIndex: -1, height: \"80%\" }}\n        onClick={stopBubble}\n      >\n        {props.children}\n      </div>\n    </div>\n  );\n};\n\nexport default NftCard;\n","import ReachLogo from \"../assets/Reach.svg\";\n\nimport { useContext, useState } from \"react\";\nimport { VIEWS } from \"../constants\";\n\nimport AppContext from \"../context/appContext\";\nimport Masonry from \"react-masonry-css\";\nimport { useNfts, useScroll, useWindowDimensions } from \"../utils\";\nimport { getStorageItem } from \"../lib/helpers\";\n\nimport AddressModal from \"../components/AddressModal\";\nimport NftCard from \"../components/NftCard\";\n\nconst Library = () => {\n  const appContext = useContext(AppContext);\n\n  const [showAddrModal, setShowAddrModal] = useState<boolean>(true);\n\n  const { scrollSpeed } = useScroll();\n  const { accs, setAccs, done, nftIterator, nftsRef } = useNfts({\n    accs: [\"N42L7IIGQGZA7OGNLGQXZWBUZHQYH5HJVU3M6625KGOMHWFFOFPAID22VA\"],\n    // accs: getStorageItem(\"accounts\", \"[]\"),\n  });\n  const { width } = useWindowDimensions();\n  const colCount = width < 800 ? 1 : width < 1200 ? 2 : 3;\n\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n  const switchSelectedTag = (tag: string) => {\n    return !selectedTags.includes(tag)\n      ? () => setSelectedTags((prevTags) => [...prevTags, tag])\n      : () => setSelectedTags((prevTags) => prevTags.filter((t) => t !== tag));\n  };\n\n  const willItemRender = (assetId: number) => {\n    const itemTags = getStorageItem(\"tags\", \"[]\")?.[assetId];\n    if (!itemTags) return true;\n\n    return selectedTags.reduce(\n      (prev, val) => prev || itemTags.includes(val),\n      false\n    );\n  };\n\n  const goToStart = () => {\n    appContext.set(\"view\", VIEWS.START);\n  };\n\n  return (\n    <div\n      className=\"h-full w-screen overflow-y-scroll\"\n      style={{ backgroundColor: \"#171717\" }}\n    >\n      <LibraryTopBar\n        goToStart={goToStart}\n        showAddrModal={() => {\n          setShowAddrModal(true);\n        }}\n      />\n\n      <Masonry\n        breakpointCols={colCount}\n        className=\"flex mt-10\"\n        columnClassName=\"mx-2 my-4\"\n      >\n        {nftsRef.current\n          .filter((el) => willItemRender(el.assetId))\n          .map((el) => (\n            <>\n              <NftCard\n                cardLength={width / colCount}\n                nft={el}\n                key={el.assetId}\n              />\n              {/* <Spacer factor={Math.abs(scrollSpeed ?? 0) / 500} /> */}\n            </>\n          ))}\n      </Masonry>\n\n      {showAddrModal && (\n        <AddressModal\n          addresses={accs}\n          setAddresses={setAccs}\n          outClick={() => {\n            setShowAddrModal(false);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\ntype SpacerProps = {\n  factor: number;\n};\nconst Spacer = (props: SpacerProps) => {\n  const height = 100 + 400 * props.factor;\n\n  return <div style={{ height: height + \"px\" }} />;\n};\n\ntype LibraryTopBarProps = {\n  goToStart: () => void;\n  showAddrModal: any;\n};\nconst LibraryTopBar = (props: LibraryTopBarProps) => {\n  return (\n    <span className=\"py-16 pl-16 flex flex-col text-center md:inline-flex md:flex-row gap-3 md:gap-0 w-full justify-between\">\n      <div className=\"flex justify-evenly\">\n        {/* <button onClick={props.goToStart}>\n          <span className=\"material-icons transform scale-150 align-middle mr-4 text-white\">\n            chevron_left\n          </span>\n        </button> */}\n\n        <h1 className=\"syne self-center text-3xl md:text-4xl lg:text-5xl xl:text-5xl font-bold text-white\">\n          Your Collection\n        </h1>\n\n        <button\n          className=\"p-3 self-center md:ml-8\"\n          onClick={() => {\n            localStorage.removeItem(\"nfts\");\n            localStorage.removeItem(\"accounts\");\n            localStorage.removeItem(\"mds\");\n          }}\n        >\n          <span className=\"text-white material-icons font-sm\">filter_list</span>\n        </button>\n      </div>\n\n      <div className=\"mr-20\">\n        <button\n          onClick={props.showAddrModal}\n          className=\"inline syne mr-8 bg-indigo-400 hover:bg-indigo-500 \n          transition-colors bg-opacity-60 px-3 py-2 rounded-sm text-white\"\n        >\n          Manage addresses\n        </button>\n        <img className=\"inline\" width={75} src={ReachLogo} alt=\"Reach logo\" />\n      </div>\n    </span>\n  );\n};\n\nexport default Library;\n","import { useContext } from \"react\";\nimport { VIEWS } from \"./constants\";\nimport AppContext from \"./context/appContext\";\n\nimport Start from \"./views/Start\";\nimport Test from \"./components/Test\";\nimport Lib from \"./views/Lib\";\n\nfunction App() {\n  const appContext = useContext(AppContext);\n  const view = appContext.settings.view;\n\n  switch (view) {\n    case VIEWS.START:\n      return <Start />;\n    case VIEWS.LIBRARY:\n      return <Lib />;\n    case VIEWS.TEST:\n      return <Test />;\n    default:\n      return <NotFound />;\n  }\n}\n\nconst NotFound = () => {\n  return (\n    <div className=\"h-screen w-screen grid place-items-center text-white\">\n      <h1 className=\"syne text-4xl\">404 Not Found</h1>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AppProvider } from \"./context/appContext\";\n\nimport \"./css/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}