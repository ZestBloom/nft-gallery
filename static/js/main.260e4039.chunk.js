(this["webpackJsonpnft-gallery"]=this["webpackJsonpnft-gallery"]||[]).push([[0],{287:function(n,e){},326:function(n,e){},328:function(n,e){},338:function(n,e){},340:function(n,e){},366:function(n,e){},368:function(n,e){},369:function(n,e){},374:function(n,e){},376:function(n,e){},382:function(n,e){},384:function(n,e){},403:function(n,e){},415:function(n,e){},418:function(n,e){},421:function(n,e){},422:function(n,e){},427:function(n){n.exports=JSON.parse('{"ipfsGateway":"http://localhost:8080/ipfs/","blockExplorer":"https://algoexplorer.io/","algod":"https://algoexplorerapi.io","network":"MainNet"}')},434:function(n,e,t){"use strict";t.r(e),t.d(e,"_version",(function(){return o})),t.d(e,"_versionHash",(function(){return c})),t.d(e,"_backendVersion",(function(){return d})),t.d(e,"getExports",(function(){return l})),t.d(e,"_getViews",(function(){return u})),t.d(e,"_getMaps",(function(){return p})),t.d(e,"Alice",(function(){return b})),t.d(e,"Bob",(function(){return m})),t.d(e,"_Connectors",(function(){return x})),t.d(e,"_Participants",(function(){return h})),t.d(e,"_APIs",(function(){return y}));var a=t(33),s=t(0),r=t(19),i=t(9),o="0.1.6",c="0.1.6 (fb449c94)",d=5;function l(n){n.reachStdlib;return{}}function u(n,e){var t=n.reachStdlib,a=t.T_Address,s=t.T_Token,r=t.T_UInt;return{infos:{},views:{1:[a,s,r,r,r],2:[a,s,r,r,r]}}}function p(n){return{mapDataTy:n.reachStdlib.T_Tuple([])}}function b(n,e){return f.apply(this,arguments)}function f(){return f=Object(i.a)(s.mark((function n(e,t){var o,c,d,l,u,p,b,f,m,g,x,h,y,j,T,v,w,k,A,O,_,S,N,C,E,R,I,P,F,L;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("object"===typeof e&&void 0!==e._initialize){n.next=2;break}return n.abrupt("return",Promise.reject(new Error("The backend for Alice expects to receive a contract as its first argument.")));case 2:if("object"===typeof t){n.next=4;break}return n.abrupt("return",Promise.reject(new Error("The backend for Alice expects to receive an interact object as its second argument.")));case 4:return o=e._initialize(),c=o.stdlib,d=c.T_UInt,l=c.T_Token,u=c.T_Object({amountAlgo:d,amountToken:d,time:d,token:l}),p=c.T_Null,b=c.T_Address,n.t0=c,n.t1=u,n.next=15,t.getSwap();case 15:return n.t2=n.sent,n.t3={at:"./safeTransfer.rsh:34:85:application",fs:["at ./safeTransfer.rsh:33:11:application call to [unknown function] (defined at: ./safeTransfer.rsh:33:15:function exp)"],msg:"getSwap",who:"Alice"},f=n.t0.protect.call(n.t0,n.t1,n.t2,n.t3),m=f.token,g=f.amountToken,x=f.amountAlgo,h=f.time,n.next=24,o.sendrecv({args:[m,g,x,h],evt_cnt:4,funcNum:0,lct:c.checkedBigNumberify("./safeTransfer.rsh:36:7:dot",c.UInt_max,0),onlyIf:!0,out_tys:[l,d,d,d],pay:[c.checkedBigNumberify("./safeTransfer.rsh:decimal",c.UInt_max,0),[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,a,i;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},a=Object(r.a)(e.data,4),i=a[0],a[1],a[2],a[3],e.secs,e.time,e.didSend,e.from,t.txns.push({amt:c.checkedBigNumberify("<builtin>",c.UInt_max,0),kind:"init",tok:i}),t.txns.push({amt:c.checkedBigNumberify("./safeTransfer.rsh:decimal",c.UInt_max,0),kind:"to",tok:void 0}),t.isHalt=!1,n.abrupt("return",t);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[l,d,d,d],waitIfNotPresent:!1});case 24:return y=n.sent,j=Object(r.a)(y.data,4),T=j[0],v=j[1],w=j[2],k=j[3],y.secs,A=y.time,y.didSend,O=y.from,n.next=30,o.sendrecv({args:[O,T,v,w,k],evt_cnt:0,funcNum:1,lct:A,onlyIf:!0,out_tys:[],pay:[c.checkedBigNumberify("./safeTransfer.rsh:40:7:dot",c.UInt_max,0),[[v,T]]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r,i,o;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),r=e.secs,e.time,e.didSend,i=e.from,t.txns.push({amt:c.checkedBigNumberify("./safeTransfer.rsh:40:7:dot",c.UInt_max,0),kind:"to",tok:void 0}),t.txns.push({amt:v,kind:"to",tok:T}),o=c.addressEq(O,i),c.assert(o,{at:"./safeTransfer.rsh:40:7:dot",fs:[],msg:"sender correct",who:"Alice"}),c.add(r,k),t.isHalt=!1,n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[b,l,d,d,d],waitIfNotPresent:!1});case 30:return _=n.sent,Object(a.a)(_.data),S=_.secs,N=_.time,_.didSend,C=_.from,E=c.addressEq(O,C),c.assert(E,{at:"./safeTransfer.rsh:40:7:dot",fs:[],msg:"sender correct",who:"Alice"}),R=c.add(S,k),n.next=39,o.recv({didSend:!1,evt_cnt:0,funcNum:2,out_tys:[],timeoutAt:["secs",R],waitIfNotPresent:!1});case 39:if(!(I=n.sent).didTimeout){n.next=59;break}return n.next=43,o.sendrecv({args:[O,T,v,w,R],evt_cnt:0,funcNum:3,lct:N,onlyIf:!0,out_tys:[],pay:[c.checkedBigNumberify("./safeTransfer.rsh:decimal",c.UInt_max,0),[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r,i;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),e.secs,e.time,e.didSend,r=e.from,t.txns.push({amt:c.checkedBigNumberify("./safeTransfer.rsh:decimal",c.UInt_max,0),kind:"to",tok:void 0}),i=c.addressEq(O,r),c.assert(i,{at:"./safeTransfer.rsh:51:15:dot",fs:[],msg:"sender correct",who:"Alice"}),t.txns.push({amt:v,kind:"from",to:O,tok:T}),t.txns.push({kind:"halt",tok:T}),t.txns.push({kind:"halt",tok:void 0}),t.isHalt=!0,n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[b,l,d,d,d],waitIfNotPresent:!1});case 43:return P=n.sent,Object(a.a)(P.data),P.secs,P.time,P.didSend,F=P.from,L=c.addressEq(O,F),c.assert(L,{at:"./safeTransfer.rsh:51:15:dot",fs:[],msg:"sender correct",who:"Alice"}),n.t4=c,n.t5=p,n.next=53,t.seeTimeout();case 53:return n.t6=n.sent,n.t7={at:"./safeTransfer.rsh:53:51:application",fs:["at ./safeTransfer.rsh:53:17:application call to [unknown function] (defined at: ./safeTransfer.rsh:53:29:function exp)"],msg:"seeTimeout",who:"Alice"},n.t4.protect.call(n.t4,n.t5,n.t6,n.t7),n.abrupt("return");case 59:return Object(a.a)(I.data),I.secs,I.time,I.didSend,I.from,n.t8=c,n.t9=p,n.next=67,t.seeTransfer();case 67:return n.t10=n.sent,n.t11={at:"./safeTransfer.rsh:61:44:application",fs:["at ./safeTransfer.rsh:61:9:application call to [unknown function] (defined at: ./safeTransfer.rsh:61:21:function exp)"],msg:"seeTransfer",who:"Alice"},n.t8.protect.call(n.t8,n.t9,n.t10,n.t11),n.abrupt("return");case 71:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}function m(n,e){return g.apply(this,arguments)}function g(){return g=Object(i.a)(s.mark((function n(e,t){var o,c,d,l,u,p,b,f,m,g,x,h,y,j,T,v,w,k,A,O,_,S,N,C,E,R;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("object"===typeof e&&void 0!==e._initialize){n.next=2;break}return n.abrupt("return",Promise.reject(new Error("The backend for Bob expects to receive a contract as its first argument.")));case 2:if("object"===typeof t){n.next=4;break}return n.abrupt("return",Promise.reject(new Error("The backend for Bob expects to receive an interact object as its second argument.")));case 4:return o=e._initialize(),c=o.stdlib,d=c.T_Token,l=c.T_UInt,u=c.T_Bool,p=c.T_Null,b=c.T_Address,n.next=13,o.recv({didSend:!1,evt_cnt:4,funcNum:0,out_tys:[d,l,l,l],timeoutAt:void 0,waitIfNotPresent:!1});case 13:return f=n.sent,m=Object(r.a)(f.data,4),g=m[0],x=m[1],h=m[2],y=m[3],f.secs,f.time,f.didSend,j=f.from,n.next=19,o.recv({didSend:!1,evt_cnt:0,funcNum:1,out_tys:[],timeoutAt:void 0,waitIfNotPresent:!1});case 19:return T=n.sent,Object(a.a)(T.data),v=T.secs,w=T.time,T.didSend,k=T.from,A=c.addressEq(j,k),c.assert(A,{at:"./safeTransfer.rsh:40:7:dot",fs:[],msg:"sender correct",who:"Bob"}),O=c.add(v,y),_={amountAlgo:h,amountToken:x,time:y,token:g},n.t0=c,n.t1=u,n.next=31,t.acceptSwap(_);case 31:return n.t2=n.sent,n.t3={at:"./safeTransfer.rsh:45:64:application",fs:["at ./safeTransfer.rsh:44:11:application call to [unknown function] (defined at: ./safeTransfer.rsh:44:15:function exp)"],msg:"acceptSwap",who:"Bob"},S=n.t0.protect.call(n.t0,n.t1,n.t2,n.t3),n.next=36,o.sendrecv({args:[j,g,x,h,O],evt_cnt:0,funcNum:2,lct:w,onlyIf:S,out_tys:[],pay:[h,[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),e.secs,e.time,e.didSend,r=e.from,t.txns.push({amt:h,kind:"to",tok:void 0}),t.txns.push({amt:h,kind:"from",to:j,tok:void 0}),t.txns.push({amt:x,kind:"from",to:r,tok:g}),t.txns.push({kind:"halt",tok:g}),t.txns.push({kind:"halt",tok:void 0}),t.isHalt=!0,n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:["secs",O],tys:[b,d,l,l,l],waitIfNotPresent:!1});case 36:if(!(N=n.sent).didTimeout){n.next=56;break}return n.next=40,o.recv({didSend:!1,evt_cnt:0,funcNum:3,out_tys:[],timeoutAt:void 0,waitIfNotPresent:!1});case 40:return C=n.sent,Object(a.a)(C.data),C.secs,C.time,C.didSend,E=C.from,R=c.addressEq(j,E),c.assert(R,{at:"./safeTransfer.rsh:51:15:dot",fs:[],msg:"sender correct",who:"Bob"}),n.t4=c,n.t5=p,n.next=50,t.seeTimeout();case 50:return n.t6=n.sent,n.t7={at:"./safeTransfer.rsh:53:51:application",fs:["at ./safeTransfer.rsh:53:17:application call to [unknown function] (defined at: ./safeTransfer.rsh:53:29:function exp)"],msg:"seeTimeout",who:"Bob"},n.t4.protect.call(n.t4,n.t5,n.t6,n.t7),n.abrupt("return");case 56:return Object(a.a)(N.data),N.secs,N.time,N.didSend,N.from,n.t8=c,n.t9=p,n.next=64,t.seeTransfer();case 64:return n.t10=n.sent,n.t11={at:"./safeTransfer.rsh:61:44:application",fs:["at ./safeTransfer.rsh:61:9:application call to [unknown function] (defined at: ./safeTransfer.rsh:61:21:function exp)"],msg:"seeTransfer",who:"Bob"},n.t8.protect.call(n.t8,n.t9,n.t10,n.t11),n.abrupt("return");case 68:case"end":return n.stop()}}),n)}))),g.apply(this,arguments)}var x={ALGO:{appApproval:'#pragma version 5\ntxn RekeyTo\nglobal ZeroAddress\n==\nassert\ntxn Lease\nglobal ZeroAddress\n==\nassert\nint 0\nstore 0\ntxn ApplicationID\nbz alloc\nbyte base64()\napp_global_get\ndup\nint 0\nextract_uint64\nstore 1\ndup\nint 8\nextract_uint64\nstore 2\nextract 16 32\nstore 3\ntxn NumAppArgs\nint 3\n==\nassert\ntxna ApplicationArgs 0\nbtoi\npreamble:\n// Handler 0\ndup\nint 0\n==\nbz l0_afterHandler0\npop\n// check step\nint 0\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nbyte base64()\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 64\n==\nassert\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxn Sender\nglobal CreatorAddress\n==\nassert\nload 255\nstore 3\n// "CheckPay"\n// "./safeTransfer.rsh:36:7:dot"\n// "[]"\nint 100000\ndup\nbz l1_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl1_checkTxnK:\npop\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl2_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl3_checkTxnK:\npop\n// "CheckPay"\n// "./safeTransfer.rsh:36:7:dot"\n// "[]"\ntxn Sender\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 64\napp_global_put\npop\nint 1\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl0_afterHandler0:\n// Handler 1\ndup\nint 1\n==\nbz l4_afterHandler1\npop\n// check step\nint 1\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\n// "CheckPay"\n// "./safeTransfer.rsh:40:7:dot"\n// "[]"\n// "CheckPay"\n// "./safeTransfer.rsh:40:7:dot"\n// "[]"\nload 253\ndup\nbz l5_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl5_checkTxnK:\npop\n// Just "sender correct"\n// "./safeTransfer.rsh:40:7:dot"\n// "[]"\nload 255\ntxn Sender\n==\nassert\nglobal LatestTimestamp\nload 251\n+\nstore 250\nload 255\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 250\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 64\napp_global_put\npop\nint 2\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl4_afterHandler1:\n// Handler 2\ndup\nint 2\n==\nbz l6_afterHandler2\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 251\n<\nassert\n// "CheckPay"\n// "./safeTransfer.rsh:49:7:dot"\n// "[]"\nload 252\ndup\nbz l7_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl7_checkTxnK:\npop\nload 252\ndup\nbz l8_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns Receiver\n==\nassert\nl8_checkTxnK:\npop\nload 253\ndup\nbz l9_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\ntxn Sender\ndig 1\ngtxns AssetReceiver\n==\nassert\nl9_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl10_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl11_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl6_afterHandler2:\n// Handler 3\ndup\nint 3\n==\nbz l12_afterHandler3\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 251\n>=\nassert\n// "CheckPay"\n// "./safeTransfer.rsh:51:15:dot"\n// "[]"\n// Just "sender correct"\n// "./safeTransfer.rsh:51:15:dot"\n// "[]"\nload 255\ntxn Sender\n==\nassert\nload 253\ndup\nbz l13_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl13_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl14_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl15_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl12_afterHandler3:\nint 0\nassert\nupdateState:\nbyte base64()\nload 1\nitob\nload 2\nitob\nload 3\nconcat\nconcat\napp_global_put\ncheckSize:\nload 0\ndup\ndup\nint 1\n+\nglobal GroupSize\n==\nassert\ntxn GroupIndex\n==\nassert\nint 1000\n*\ntxn Fee\n<=\nassert\ndone:\nint 1\nreturn\nalloc:\ntxn OnCompletion\nint NoOp\n==\nassert\nint 0\nstore 1\nint 0\nstore 2\nglobal ZeroAddress\nstore 3\nb updateState\n',appClear:"#pragma version 5\nint 0\n",escrow:"#pragma version 5\nglobal GroupSize\nint 1\n-\ndup\ngtxns TypeEnum\nint appl\n==\nassert\ngtxns ApplicationID\nint {{ApplicationID}}\n==\nassert\ndone:\nint 1\n",mapDataKeys:0,mapDataSize:0,stateKeys:1,stateSize:64,unsupported:[],version:5},ETH:{ABI:'[\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "components": [\n              {\n                "internalType": "address payable",\n                "name": "v104",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v105",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v106",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v107",\n                "type": "uint256"\n              }\n            ],\n            "internalType": "struct T1",\n            "name": "msg",\n            "type": "tuple"\n          }\n        ],\n        "internalType": "struct T2",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "stateMutability": "payable",\n    "type": "constructor"\n  },\n  {\n    "inputs": [\n      {\n        "internalType": "uint256",\n        "name": "msg",\n        "type": "uint256"\n      }\n    ],\n    "name": "ReachError",\n    "type": "error"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "components": [\n              {\n                "internalType": "address payable",\n                "name": "v104",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v105",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v106",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v107",\n                "type": "uint256"\n              }\n            ],\n            "internalType": "struct T1",\n            "name": "msg",\n            "type": "tuple"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T2",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e0",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e1",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e2",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e3",\n    "type": "event"\n  },\n  {\n    "stateMutability": "payable",\n    "type": "fallback"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCreationTime",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCurrentState",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      },\n      {\n        "internalType": "bytes",\n        "name": "",\n        "type": "bytes"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCurrentTime",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m1",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m2",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m3",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "stateMutability": "payable",\n    "type": "receive"\n  }\n]',Bytecode:"0x608060405260405162000f7c38038062000f7c833981016040819052620000269162000291565b60008055604080518251815260208084015180516001600160a01b0316828401529081015182840152808301516060808401919091520151608082015290517ffefad5e0d88b997203a7f63b283abe03e4e673fa9ccc91b6b9327ca8f53a9be19181900360a00190a16200009d341560076200018a565b620000e26040518060a0016040528060006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160008152602001600081525090565b3380825260208381018051516001600160a01b039081168386019081528251840151604080880191825284518101516060808a0191825295518601516080808b01918252600160008190554390558351808a019a909a5294519095168883015291519487019490945251908501525160a0808501919091528151808503909101815260c0909301905281516200017d926002920190620001b4565b5050436003555062000388565b81620001b05760405163100960cb60e01b81526004810182905260240160405180910390fd5b5050565b828054620001c2906200034b565b90600052602060002090601f016020900481019282620001e6576000855562000231565b82601f106200020157805160ff191683800117855562000231565b8280016001018555821562000231579182015b828111156200023157825182559160200191906001019062000214565b506200023f92915062000243565b5090565b5b808211156200023f576000815560010162000244565b604051608081016001600160401b03811182821017156200028b57634e487b7160e01b600052604160045260246000fd5b60405290565b600081830360a0811215620002a557600080fd5b604080519081016001600160401b0381118282101715620002d657634e487b7160e01b600052604160045260246000fd5b604052835181526080601f1983011215620002f057600080fd5b620002fa6200025a565b60208501519092506001600160a01b03811681146200031857600080fd5b80835250604084015160208301526060840151604083015260808401516060830152816020820152809250505092915050565b600181811c908216806200036057607f821691505b602082108114156200038257634e487b7160e01b600052602260045260246000fd5b50919050565b610be480620003986000396000f3fe6080604052600436106100565760003560e01c80631e93b0f11461005f5780637963168e146100835780638323075714610096578063ab53f2c6146100ab578063f147248d146100ce578063fd948b86146100e157005b3661005d57005b005b34801561006b57600080fd5b506003545b6040519081526020015b60405180910390f35b61005d6100913660046109a3565b6100f4565b3480156100a257600080fd5b50600154610070565b3480156100b757600080fd5b506100c061030d565b60405161007a9291906109eb565b61005d6100dc3660046109a3565b6103aa565b61005d6100ef3660046109a3565b610517565b610104600160005414600b610690565b61011e8135158061011757506001548235145b600c610690565b60008080556002805461013090610a25565b80601f016020809104026020016040519081016040528092919081815260200182805461015c90610a25565b80156101a95780601f1061017e576101008083540402835291602001916101a9565b820191906000526020600020905b81548152906001019060200180831161018c57829003601f168201915b50505050508060200190518101906101c19190610b00565b90506101d96040518060200160405280600081525090565b7f9f41c6cf17ede288cbb2cfbbafdd05b2b2025dea3b047cdb79dbc892d7a9286d836040516102089190610b2a565b60405180910390a161021c34156008610690565b61023961023233846020015185604001516106b6565b6009610690565b8151610251906001600160a01b03163314600a610690565b60808201516102609042610b4f565b81526040805160a0808201835260008083526020808401828152848601838152606080870185815260808089018781528c516001600160a01b03908116808c528e890151821688528e8d015187528e86015185528d5183526002998a9055436001558c51808a0191909152965116868c0152935192850192909252519083015251818501528551808203909401845260c0019094528151929361030693919201906108cd565b5050505050565b60006060600054600280805461032290610a25565b80601f016020809104026020016040519081016040528092919081815260200182805461034e90610a25565b801561039b5780601f106103705761010080835404028352916020019161039b565b820191906000526020600020905b81548152906001019060200180831161037e57829003601f168201915b50505050509050915091509091565b6103ba6002600054146013610690565b6103d4813515806103cd57506001548235145b6014610690565b6000808055600280546103e690610a25565b80601f016020809104026020016040519081016040528092919081815260200182805461041290610a25565b801561045f5780601f106104345761010080835404028352916020019161045f565b820191906000526020600020905b81548152906001019060200180831161044257829003601f168201915b50505050508060200190518101906104779190610b00565b905061048b81608001514210156015610690565b7fe92d4e1229145c13e718fdc692a322df4a6700c6bebac0841f0e9f44c56a1529826040516104ba9190610b2a565b60405180910390a16104ce34156011610690565b80516104e6906001600160a01b031633146012610690565b6104fd8160200151826000015183604001516106ce565b6000808055600181905561051390600290610951565b5050565b610527600260005414600e610690565b6105418135158061053a57506001548235145b600f610690565b60008080556002805461055390610a25565b80601f016020809104026020016040519081016040528092919081815260200182805461057f90610a25565b80156105cc5780601f106105a1576101008083540402835291602001916105cc565b820191906000526020600020905b8154815290600101906020018083116105af57829003601f168201915b50505050508060200190518101906105e49190610b00565b90506105f7816080015142106010610690565b7fe0777bbb0edbebd8a5c254bf54fd955256e9bf9fb0fe4138cd88ac193a101d15826040516106269190610b2a565b60405180910390a161063f81606001513414600d610690565b805160608201516040516001600160a01b039092169181156108fc0291906000818181858888f1935050505015801561067c573d6000803e3d6000fd5b506104fd81602001513383604001516106ce565b816105135760405163100960cb60e01b8152600481018290526024015b60405180910390fd5b60006106c4838530856106e7565b90505b9392505050565b6106d98383836107c1565b6106e257600080fd5b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392839291891691839161074e91610b75565b60006040518083038185875af1925050503d806000811461078b576040519150601f19603f3d011682016040523d82523d6000602084013e610790565b606091505b50915091506107a182826001610892565b50808060200190518101906107b69190610b91565b979650505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392839291881691839161082091610b75565b60006040518083038185875af1925050503d806000811461085d576040519150601f19603f3d011682016040523d82523d6000602084013e610862565b606091505b509150915061087382826002610892565b50808060200190518101906108889190610b91565b9695505050505050565b606083156108a15750816106c7565b8251156108b15782518084602001fd5b60405163100960cb60e01b8152600481018390526024016106ad565b8280546108d990610a25565b90600052602060002090601f0160209004810192826108fb5760008555610941565b82601f1061091457805160ff1916838001178555610941565b82800160010185558215610941579182015b82811115610941578251825591602001919060010190610926565b5061094d92915061098e565b5090565b50805461095d90610a25565b6000825580601f1061096d575050565b601f01602090049060005260206000209081019061098b919061098e565b50565b5b8082111561094d576000815560010161098f565b6000604082840312156109b557600080fd5b50919050565b60005b838110156109d65781810151838201526020016109be565b838111156109e5576000848401525b50505050565b8281526040602082015260008251806040840152610a108160608501602087016109bb565b601f01601f1916919091016060019392505050565b600181811c90821680610a3957607f821691505b602082108114156109b557634e487b7160e01b600052602260045260246000fd5b80516001600160a01b0381168114610a7157600080fd5b919050565b600060a08284031215610a8857600080fd5b60405160a0810181811067ffffffffffffffff82111715610ab957634e487b7160e01b600052604160045260246000fd5b604052905080610ac883610a5a565b8152610ad660208401610a5a565b60208201526040830151604082015260608301516060820152608083015160808201525092915050565b600060a08284031215610b1257600080fd5b6106c78383610a76565b801515811461098b57600080fd5b81358152604081016020830135610b4081610b1c565b80151560208401525092915050565b60008219821115610b7057634e487b7160e01b600052601160045260246000fd5b500190565b60008251610b878184602087016109bb565b9190910192915050565b600060208284031215610ba357600080fd5b81516106c781610b1c56fea2646970667358221220a93d7012333bc8b2e69250ea08e0ce14667483b3f8c8ab888ca9b10ba38303df64736f6c63430008090033",BytecodeLen:3964,Which:"oD",version:5,views:{}}},h={Alice:b,Bob:m},y={}},435:function(n,e,t){"use strict";t.r(e),t.d(e,"_version",(function(){return o})),t.d(e,"_versionHash",(function(){return c})),t.d(e,"_backendVersion",(function(){return d})),t.d(e,"getExports",(function(){return l})),t.d(e,"_getViews",(function(){return u})),t.d(e,"_getMaps",(function(){return p})),t.d(e,"Alice",(function(){return b})),t.d(e,"Bob",(function(){return m})),t.d(e,"_Connectors",(function(){return x})),t.d(e,"_Participants",(function(){return h})),t.d(e,"_APIs",(function(){return y}));var a=t(33),s=t(0),r=t(19),i=t(9),o="0.1.6",c="0.1.6 (fb449c94)",d=5;function l(n){n.reachStdlib;return{}}function u(n,e){var t=n.reachStdlib,a=t.T_Address,s=t.T_Token,r=t.T_UInt;return{infos:{},views:{1:[a,s,r,s,r,r],2:[a,s,r,s,r,r]}}}function p(n){return{mapDataTy:n.reachStdlib.T_Tuple([])}}function b(n,e){return f.apply(this,arguments)}function f(){return f=Object(i.a)(s.mark((function n(e,t){var o,c,d,l,u,p,b,f,m,g,x,h,y,j,T,v,w,k,A,O,_,S,N,C,E,R,I,P,F,L,B,Z,M,z,K,H;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("object"===typeof e&&void 0!==e._initialize){n.next=2;break}return n.abrupt("return",Promise.reject(new Error("The backend for Alice expects to receive a contract as its first argument.")));case 2:if("object"===typeof t){n.next=4;break}return n.abrupt("return",Promise.reject(new Error("The backend for Alice expects to receive an interact object as its second argument.")));case 4:return o=e._initialize(),c=o.stdlib,d=c.T_UInt,l=c.T_Token,u=c.T_Object({amountA:d,amountB:d,time:d,tokenA:l,tokenB:l}),p=c.T_Null,b=c.T_Address,n.t0=c,n.t1=u,n.next=15,t.getSwap();case 15:return n.t2=n.sent,n.t3={at:"./atomicTransfer.rsh:39:87:application",fs:["at ./atomicTransfer.rsh:38:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:38:15:function exp)"],msg:"getSwap",who:"Alice"},f=n.t0.protect.call(n.t0,n.t1,n.t2,n.t3),m=f.tokenA,g=f.amountA,x=f.tokenB,h=f.amountB,y=f.time,j=c.tokenEq(m,x),T=!j,c.assert(T,{at:"./atomicTransfer.rsh:40:15:application",fs:["at ./atomicTransfer.rsh:38:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:38:15:function exp)"],msg:null,who:"Alice"}),n.next=28,o.sendrecv({args:[m,g,x,h,y],evt_cnt:5,funcNum:0,lct:c.checkedBigNumberify("./atomicTransfer.rsh:42:7:dot",c.UInt_max,0),onlyIf:!0,out_tys:[l,d,l,d,d],pay:[c.checkedBigNumberify("./atomicTransfer.rsh:decimal",c.UInt_max,0),[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,a,i,o,d,l;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},a=Object(r.a)(e.data,5),i=a[0],a[1],o=a[2],a[3],a[4],e.secs,e.time,e.didSend,e.from,d=c.tokenEq(i,o),l=!d,c.assert(l,{at:"./atomicTransfer.rsh:42:7:dot",fs:[],msg:null,who:"Alice"}),t.txns.push({amt:c.checkedBigNumberify("<builtin>",c.UInt_max,0),kind:"init",tok:i}),t.txns.push({amt:c.checkedBigNumberify("<builtin>",c.UInt_max,0),kind:"init",tok:o}),t.txns.push({amt:c.checkedBigNumberify("./atomicTransfer.rsh:decimal",c.UInt_max,0),kind:"to",tok:void 0}),t.isHalt=!1,n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[l,d,l,d,d],waitIfNotPresent:!1});case 28:return v=n.sent,w=Object(r.a)(v.data,5),k=w[0],A=w[1],O=w[2],_=w[3],S=w[4],v.secs,N=v.time,v.didSend,C=v.from,E=c.tokenEq(k,O),R=!E,c.assert(R,{at:"./atomicTransfer.rsh:42:7:dot",fs:[],msg:null,who:"Alice"}),n.next=38,o.sendrecv({args:[C,k,A,O,_,S],evt_cnt:0,funcNum:1,lct:N,onlyIf:!0,out_tys:[],pay:[c.checkedBigNumberify("./atomicTransfer.rsh:44:7:dot",c.UInt_max,0),[[A,k]]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r,i,o;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),r=e.secs,e.time,e.didSend,i=e.from,t.txns.push({amt:c.checkedBigNumberify("./atomicTransfer.rsh:44:7:dot",c.UInt_max,0),kind:"to",tok:void 0}),t.txns.push({amt:A,kind:"to",tok:k}),o=c.addressEq(C,i),c.assert(o,{at:"./atomicTransfer.rsh:44:7:dot",fs:[],msg:"sender correct",who:"Alice"}),c.add(r,S),t.isHalt=!1,n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[b,l,d,l,d,d],waitIfNotPresent:!1});case 38:return I=n.sent,Object(a.a)(I.data),P=I.secs,F=I.time,I.didSend,L=I.from,B=c.addressEq(C,L),c.assert(B,{at:"./atomicTransfer.rsh:44:7:dot",fs:[],msg:"sender correct",who:"Alice"}),Z=c.add(P,S),n.next=47,o.recv({didSend:!1,evt_cnt:0,funcNum:2,out_tys:[],timeoutAt:["secs",Z],waitIfNotPresent:!1});case 47:if(!(M=n.sent).didTimeout){n.next=67;break}return n.next=51,o.sendrecv({args:[C,k,A,O,_,Z],evt_cnt:0,funcNum:3,lct:F,onlyIf:!0,out_tys:[],pay:[c.checkedBigNumberify("./atomicTransfer.rsh:decimal",c.UInt_max,0),[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r,i;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),e.secs,e.time,e.didSend,r=e.from,t.txns.push({amt:c.checkedBigNumberify("./atomicTransfer.rsh:decimal",c.UInt_max,0),kind:"to",tok:void 0}),i=c.addressEq(C,r),c.assert(i,{at:"./atomicTransfer.rsh:53:15:dot",fs:[],msg:"sender correct",who:"Alice"}),t.txns.push({amt:A,kind:"from",to:C,tok:k}),t.txns.push({kind:"halt",tok:O}),t.txns.push({kind:"halt",tok:k}),t.txns.push({kind:"halt",tok:void 0}),t.isHalt=!0,n.abrupt("return",t);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[b,l,d,l,d,d],waitIfNotPresent:!1});case 51:return z=n.sent,Object(a.a)(z.data),z.secs,z.time,z.didSend,K=z.from,H=c.addressEq(C,K),c.assert(H,{at:"./atomicTransfer.rsh:53:15:dot",fs:[],msg:"sender correct",who:"Alice"}),n.t4=c,n.t5=p,n.next=61,t.seeTimeout();case 61:return n.t6=n.sent,n.t7={at:"./atomicTransfer.rsh:55:51:application",fs:["at ./atomicTransfer.rsh:55:17:application call to [unknown function] (defined at: ./atomicTransfer.rsh:55:29:function exp)"],msg:"seeTimeout",who:"Alice"},n.t4.protect.call(n.t4,n.t5,n.t6,n.t7),n.abrupt("return");case 67:return Object(a.a)(M.data),M.secs,M.time,M.didSend,M.from,n.t8=c,n.t9=p,n.next=76,t.seeTransfer();case 76:return n.t10=n.sent,n.t11={at:"./atomicTransfer.rsh:61:44:application",fs:["at ./atomicTransfer.rsh:61:9:application call to [unknown function] (defined at: ./atomicTransfer.rsh:61:21:function exp)"],msg:"seeTransfer",who:"Alice"},n.t8.protect.call(n.t8,n.t9,n.t10,n.t11),n.abrupt("return");case 80:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}function m(n,e){return g.apply(this,arguments)}function g(){return g=Object(i.a)(s.mark((function n(e,t){var o,c,d,l,u,p,b,f,m,g,x,h,y,j,T,v,w,k,A,O,_,S,N,C,E,R,I,P,F;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("object"===typeof e&&void 0!==e._initialize){n.next=2;break}return n.abrupt("return",Promise.reject(new Error("The backend for Bob expects to receive a contract as its first argument.")));case 2:if("object"===typeof t){n.next=4;break}return n.abrupt("return",Promise.reject(new Error("The backend for Bob expects to receive an interact object as its second argument.")));case 4:return o=e._initialize(),c=o.stdlib,d=c.T_Token,l=c.T_UInt,u=c.T_Bool,p=c.T_Null,b=c.T_Address,n.next=13,o.recv({didSend:!1,evt_cnt:5,funcNum:0,out_tys:[d,l,d,l,l],timeoutAt:void 0,waitIfNotPresent:!1});case 13:return f=n.sent,m=Object(r.a)(f.data,5),g=m[0],x=m[1],h=m[2],y=m[3],j=m[4],f.secs,f.time,f.didSend,T=f.from,v=c.tokenEq(g,h),w=!v,c.assert(w,{at:"./atomicTransfer.rsh:42:7:dot",fs:[],msg:null,who:"Bob"}),n.next=23,o.recv({didSend:!1,evt_cnt:0,funcNum:1,out_tys:[],timeoutAt:void 0,waitIfNotPresent:!1});case 23:return k=n.sent,Object(a.a)(k.data),A=k.secs,O=k.time,k.didSend,_=k.from,S=c.addressEq(T,_),c.assert(S,{at:"./atomicTransfer.rsh:44:7:dot",fs:[],msg:"sender correct",who:"Bob"}),N=c.add(A,j),C={amountA:x,amountB:y,time:j,tokenA:g,tokenB:h},n.t0=c,n.t1=u,n.next=35,t.accSwap(C);case 35:return n.t2=n.sent,n.t3={at:"./atomicTransfer.rsh:48:50:application",fs:["at ./atomicTransfer.rsh:47:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:47:15:function exp)"],msg:"accSwap",who:"Bob"},E=n.t0.protect.call(n.t0,n.t1,n.t2,n.t3),n.next=40,o.sendrecv({args:[T,g,x,h,y,N],evt_cnt:0,funcNum:2,lct:O,onlyIf:E,out_tys:[],pay:[c.checkedBigNumberify("./atomicTransfer.rsh:50:7:dot",c.UInt_max,0),[[y,h]]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),e.secs,e.time,e.didSend,r=e.from,t.txns.push({amt:c.checkedBigNumberify("./atomicTransfer.rsh:50:7:dot",c.UInt_max,0),kind:"to",tok:void 0}),t.txns.push({amt:y,kind:"to",tok:h}),t.txns.push({amt:y,kind:"from",to:T,tok:h}),t.txns.push({amt:x,kind:"from",to:r,tok:g}),t.txns.push({kind:"halt",tok:h}),t.txns.push({kind:"halt",tok:g}),t.txns.push({kind:"halt",tok:void 0}),t.isHalt=!0,n.abrupt("return",t);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:["secs",N],tys:[b,d,l,d,l,l],waitIfNotPresent:!1});case 40:if(!(R=n.sent).didTimeout){n.next=60;break}return n.next=44,o.recv({didSend:!1,evt_cnt:0,funcNum:3,out_tys:[],timeoutAt:void 0,waitIfNotPresent:!1});case 44:return I=n.sent,Object(a.a)(I.data),I.secs,I.time,I.didSend,P=I.from,F=c.addressEq(T,P),c.assert(F,{at:"./atomicTransfer.rsh:53:15:dot",fs:[],msg:"sender correct",who:"Bob"}),n.t4=c,n.t5=p,n.next=54,t.seeTimeout();case 54:return n.t6=n.sent,n.t7={at:"./atomicTransfer.rsh:55:51:application",fs:["at ./atomicTransfer.rsh:55:17:application call to [unknown function] (defined at: ./atomicTransfer.rsh:55:29:function exp)"],msg:"seeTimeout",who:"Bob"},n.t4.protect.call(n.t4,n.t5,n.t6,n.t7),n.abrupt("return");case 60:return Object(a.a)(R.data),R.secs,R.time,R.didSend,R.from,n.t8=c,n.t9=p,n.next=69,t.seeTransfer();case 69:return n.t10=n.sent,n.t11={at:"./atomicTransfer.rsh:61:44:application",fs:["at ./atomicTransfer.rsh:61:9:application call to [unknown function] (defined at: ./atomicTransfer.rsh:61:21:function exp)"],msg:"seeTransfer",who:"Bob"},n.t8.protect.call(n.t8,n.t9,n.t10,n.t11),n.abrupt("return");case 73:case"end":return n.stop()}}),n)}))),g.apply(this,arguments)}var x={ALGO:{appApproval:'#pragma version 5\ntxn RekeyTo\nglobal ZeroAddress\n==\nassert\ntxn Lease\nglobal ZeroAddress\n==\nassert\nint 0\nstore 0\ntxn ApplicationID\nbz alloc\nbyte base64()\napp_global_get\ndup\nint 0\nextract_uint64\nstore 1\ndup\nint 8\nextract_uint64\nstore 2\nextract 16 32\nstore 3\ntxn NumAppArgs\nint 3\n==\nassert\ntxna ApplicationArgs 0\nbtoi\npreamble:\n// Handler 0\ndup\nint 0\n==\nbz l0_afterHandler0\npop\n// check step\nint 0\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nbyte base64()\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 72\n==\nassert\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxn Sender\nglobal CreatorAddress\n==\nassert\nload 255\nstore 3\n// "CheckPay"\n// "./atomicTransfer.rsh:42:7:dot"\n// "[]"\nint 100000\ndup\nbz l1_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl1_checkTxnK:\npop\n// Nothing\n// "./atomicTransfer.rsh:42:7:dot"\n// "[]"\nload 254\nload 252\n==\n!\nassert\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl2_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl3_checkTxnK:\npop\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl4_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl5_checkTxnK:\npop\n// "CheckPay"\n// "./atomicTransfer.rsh:42:7:dot"\n// "[]"\ntxn Sender\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nload 250\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 72\napp_global_put\npop\nint 1\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl0_afterHandler0:\n// Handler 1\ndup\nint 1\n==\nbz l6_afterHandler1\npop\n// check step\nint 1\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\n// "CheckPay"\n// "./atomicTransfer.rsh:44:7:dot"\n// "[]"\n// "CheckPay"\n// "./atomicTransfer.rsh:44:7:dot"\n// "[]"\nload 253\ndup\nbz l7_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl7_checkTxnK:\npop\n// Just "sender correct"\n// "./atomicTransfer.rsh:44:7:dot"\n// "[]"\nload 255\ntxn Sender\n==\nassert\nglobal LatestTimestamp\nload 250\n+\nstore 249\nload 255\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nload 249\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 72\napp_global_put\npop\nint 2\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl6_afterHandler1:\n// Handler 2\ndup\nint 2\n==\nbz l8_afterHandler2\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 250\n<\nassert\n// "CheckPay"\n// "./atomicTransfer.rsh:50:7:dot"\n// "[]"\n// "CheckPay"\n// "./atomicTransfer.rsh:50:7:dot"\n// "[]"\nload 251\ndup\nbz l9_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl9_checkTxnK:\npop\nload 251\ndup\nbz l10_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl10_checkTxnK:\npop\nload 253\ndup\nbz l11_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\ntxn Sender\ndig 1\ngtxns AssetReceiver\n==\nassert\nl11_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl12_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl13_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl14_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl8_afterHandler2:\n// Handler 3\ndup\nint 3\n==\nbz l15_afterHandler3\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 250\n>=\nassert\n// "CheckPay"\n// "./atomicTransfer.rsh:53:15:dot"\n// "[]"\n// Just "sender correct"\n// "./atomicTransfer.rsh:53:15:dot"\n// "[]"\nload 255\ntxn Sender\n==\nassert\nload 253\ndup\nbz l16_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl16_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl17_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl18_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl19_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl15_afterHandler3:\nint 0\nassert\nupdateState:\nbyte base64()\nload 1\nitob\nload 2\nitob\nload 3\nconcat\nconcat\napp_global_put\ncheckSize:\nload 0\ndup\ndup\nint 1\n+\nglobal GroupSize\n==\nassert\ntxn GroupIndex\n==\nassert\nint 1000\n*\ntxn Fee\n<=\nassert\ndone:\nint 1\nreturn\nalloc:\ntxn OnCompletion\nint NoOp\n==\nassert\nint 0\nstore 1\nint 0\nstore 2\nglobal ZeroAddress\nstore 3\nb updateState\n',appClear:"#pragma version 5\nint 0\n",escrow:"#pragma version 5\nglobal GroupSize\nint 1\n-\ndup\ngtxns TypeEnum\nint appl\n==\nassert\ngtxns ApplicationID\nint {{ApplicationID}}\n==\nassert\ndone:\nint 1\n",mapDataKeys:0,mapDataSize:0,stateKeys:1,stateSize:72,unsupported:[],version:5},ETH:{ABI:'[\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "components": [\n              {\n                "internalType": "address payable",\n                "name": "v119",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v120",\n                "type": "uint256"\n              },\n              {\n                "internalType": "address payable",\n                "name": "v121",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v122",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v123",\n                "type": "uint256"\n              }\n            ],\n            "internalType": "struct T1",\n            "name": "msg",\n            "type": "tuple"\n          }\n        ],\n        "internalType": "struct T2",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "stateMutability": "payable",\n    "type": "constructor"\n  },\n  {\n    "inputs": [\n      {\n        "internalType": "uint256",\n        "name": "msg",\n        "type": "uint256"\n      }\n    ],\n    "name": "ReachError",\n    "type": "error"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "components": [\n              {\n                "internalType": "address payable",\n                "name": "v119",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v120",\n                "type": "uint256"\n              },\n              {\n                "internalType": "address payable",\n                "name": "v121",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v122",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v123",\n                "type": "uint256"\n              }\n            ],\n            "internalType": "struct T1",\n            "name": "msg",\n            "type": "tuple"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T2",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e0",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e1",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e2",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e3",\n    "type": "event"\n  },\n  {\n    "stateMutability": "payable",\n    "type": "fallback"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCreationTime",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCurrentState",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      },\n      {\n        "internalType": "bytes",\n        "name": "",\n        "type": "bytes"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCurrentTime",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m1",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m2",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m3",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "stateMutability": "payable",\n    "type": "receive"\n  }\n]',Bytecode:"0x60806040526040516200103938038062001039833981016040819052620000269162000307565b60008055604080518251815260208084015180516001600160a01b0390811683850152918101518385015292830151166060808301919091528201516080808301919091529091015160a08201527f2f2e1b322fe4c931a7f65952bbed29e8a203ee40710e6e8d285f2761f1205be19060c00160405180910390a1602081015160408101519051620000d8916001600160a01b03918216911614620000cd576001620000d0565b60005b6007620001e3565b620000e634156008620001e3565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a08101919091523380825260208381018051516001600160a01b0390811683860190815282518401516040808801918252845181015184166060808a0191825286518101516080808c01918252975188015160a0808d019182526001600081905543905585519a8b019b909b5295518716938901939093529251928701929092529051909216928401929092525192820192909252905160c082015260e00160405160208183030381529060405260029080519060200190620001d69291906200020d565b50504360035550620003ff565b81620002095760405163100960cb60e01b81526004810182905260240160405180910390fd5b5050565b8280546200021b90620003c2565b90600052602060002090601f0160209004810192826200023f57600085556200028a565b82601f106200025a57805160ff19168380011785556200028a565b828001600101855582156200028a579182015b828111156200028a5782518255916020019190600101906200026d565b50620002989291506200029c565b5090565b5b808211156200029857600081556001016200029d565b60405160a081016001600160401b0381118282101715620002e457634e487b7160e01b600052604160045260246000fd5b60405290565b80516001600160a01b03811681146200030257600080fd5b919050565b600081830360c08112156200031b57600080fd5b604080519081016001600160401b03811182821017156200034c57634e487b7160e01b600052604160045260246000fd5b6040528351815260a0601f19830112156200036657600080fd5b62000370620002b3565b91506200038060208501620002ea565b8252604084015160208301526200039a60608501620002ea565b6040830152608084810151606084015260a09094015193820193909352602083015250919050565b600181811c90821680620003d757607f821691505b60208210811415620003f957634e487b7160e01b600052602260045260246000fd5b50919050565b610c2a806200040f6000396000f3fe6080604052600436106100565760003560e01c80631e93b0f11461005f5780637963168e146100835780638323075714610096578063ab53f2c6146100ab578063f147248d146100ce578063fd948b86146100e157005b3661005d57005b005b34801561006b57600080fd5b506003545b6040519081526020015b60405180910390f35b61005d6100913660046109d8565b6100f4565b3480156100a257600080fd5b50600154610070565b3480156100b757600080fd5b506100c0610351565b60405161007a929190610a20565b61005d6100dc3660046109d8565b6103ee565b61005d6100ef3660046109d8565b61055b565b610104600160005414600c6106c5565b61011e8135158061011757506001548235145b600d6106c5565b60008080556002805461013090610a5a565b80601f016020809104026020016040519081016040528092919081815260200182805461015c90610a5a565b80156101a95780601f1061017e576101008083540402835291602001916101a9565b820191906000526020600020905b81548152906001019060200180831161018c57829003601f168201915b50505050508060200190518101906101c19190610b46565b90506101d96040518060200160405280600081525090565b7f9f41c6cf17ede288cbb2cfbbafdd05b2b2025dea3b047cdb79dbc892d7a9286d836040516102089190610b70565b60405180910390a161021c341560096106c5565b61023961023233846020015185604001516106eb565b600a6106c5565b8151610251906001600160a01b03163314600b6106c5565b60a08201516102609042610b95565b81526040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915282516001600160a01b0390811680835260208086015183168185019081526040808801518187019081526060808a015187168189019081526080808c0151818b019081528b5160a0808d019182526002600055436001558751998a019a909a5296518a16958801959095529251918601919091525190951694830194909452925191810191909152905160c082015260e0016040516020818303038152906040526002908051906020019061034a929190610902565b5050505050565b60006060600054600280805461036690610a5a565b80601f016020809104026020016040519081016040528092919081815260200182805461039290610a5a565b80156103df5780601f106103b4576101008083540402835291602001916103df565b820191906000526020600020905b8154815290600101906020018083116103c257829003601f168201915b50505050509050915091509091565b6103fe60026000541460156106c5565b6104188135158061041157506001548235145b60166106c5565b60008080556002805461042a90610a5a565b80601f016020809104026020016040519081016040528092919081815260200182805461045690610a5a565b80156104a35780601f10610478576101008083540402835291602001916104a3565b820191906000526020600020905b81548152906001019060200180831161048657829003601f168201915b50505050508060200190518101906104bb9190610b46565b90506104cf8160a0015142101560176106c5565b7fe92d4e1229145c13e718fdc692a322df4a6700c6bebac0841f0e9f44c56a1529826040516104fe9190610b70565b60405180910390a1610512341560136106c5565b805161052a906001600160a01b0316331460146106c5565b610541816020015182600001518360400151610703565b6000808055600181905561055790600290610986565b5050565b61056b60026000541460106106c5565b6105858135158061057e57506001548235145b60116106c5565b60008080556002805461059790610a5a565b80601f01602080910402602001604051908101604052809291908181526020018280546105c390610a5a565b80156106105780601f106105e557610100808354040283529160200191610610565b820191906000526020600020905b8154815290600101906020018083116105f357829003601f168201915b50505050508060200190518101906106289190610b46565b905061063b8160a00151421060126106c5565b7fe0777bbb0edbebd8a5c254bf54fd955256e9bf9fb0fe4138cd88ac193a101d158260405161066a9190610b70565b60405180910390a161067e3415600e6106c5565b61069b61069433836060015184608001516106eb565b600f6106c5565b6106b2816060015182600001518360800151610703565b6105418160200151338360400151610703565b816105575760405163100960cb60e01b8152600481018290526024015b60405180910390fd5b60006106f98385308561071c565b90505b9392505050565b61070e8383836107f6565b61071757600080fd5b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392839291891691839161078391610bbb565b60006040518083038185875af1925050503d80600081146107c0576040519150601f19603f3d011682016040523d82523d6000602084013e6107c5565b606091505b50915091506107d6828260016108c7565b50808060200190518101906107eb9190610bd7565b979650505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392839291881691839161085591610bbb565b60006040518083038185875af1925050503d8060008114610892576040519150601f19603f3d011682016040523d82523d6000602084013e610897565b606091505b50915091506108a8828260026108c7565b50808060200190518101906108bd9190610bd7565b9695505050505050565b606083156108d65750816106fc565b8251156108e65782518084602001fd5b60405163100960cb60e01b8152600481018390526024016106e2565b82805461090e90610a5a565b90600052602060002090601f0160209004810192826109305760008555610976565b82601f1061094957805160ff1916838001178555610976565b82800160010185558215610976579182015b8281111561097657825182559160200191906001019061095b565b506109829291506109c3565b5090565b50805461099290610a5a565b6000825580601f106109a2575050565b601f0160209004906000526020600020908101906109c091906109c3565b50565b5b8082111561098257600081556001016109c4565b6000604082840312156109ea57600080fd5b50919050565b60005b83811015610a0b5781810151838201526020016109f3565b83811115610a1a576000848401525b50505050565b8281526040602082015260008251806040840152610a458160608501602087016109f0565b601f01601f1916919091016060019392505050565b600181811c90821680610a6e57607f821691505b602082108114156109ea57634e487b7160e01b600052602260045260246000fd5b80516001600160a01b0381168114610aa657600080fd5b919050565b600060c08284031215610abd57600080fd5b60405160c0810181811067ffffffffffffffff82111715610aee57634e487b7160e01b600052604160045260246000fd5b604052905080610afd83610a8f565b8152610b0b60208401610a8f565b602082015260408301516040820152610b2660608401610a8f565b60608201526080830151608082015260a083015160a08201525092915050565b600060c08284031215610b5857600080fd5b6106fc8383610aab565b80151581146109c057600080fd5b81358152604081016020830135610b8681610b62565b80151560208401525092915050565b60008219821115610bb657634e487b7160e01b600052601160045260246000fd5b500190565b60008251610bcd8184602087016109f0565b9190910192915050565b600060208284031215610be957600080fd5b81516106fc81610b6256fea264697066735822122020fe6f314cfc33f4e077f571ec2a73cb32272ad4235552b069c65cc348bfc33664736f6c63430008090033",BytecodeLen:4153,Which:"oD",version:5,views:{}}},h={Alice:b,Bob:m},y={}},439:function(n,e,t){},440:function(n,e,t){"use strict";t.r(e);var a,s=t(12),r=t.n(s),i=t(253),o=t.n(i);!function(n){n.START="Start",n.LIBRARY="Library",n.TEST="Test"}(a||(a={}));var c,d,l=t(49),u=t(19),p=t(4),b=Object(s.createContext)({}),f=function(n){var e=Object(s.useState)({view:a.START,darkMode:!0}),t=Object(u.a)(e,2),r=t[0],i=t[1];return Object(p.jsx)(b.Provider,{value:{settings:r,set:function(n,e){i((function(t){return Object.assign({},t,Object(l.a)({},n,e))}))}},children:n.children})},m=b,g=t(0),x=t.n(g),h=t(9),y=t.p+"static/media/MyAlgoBlue.53c2f7a9.svg",j=t.p+"static/media/AlgoSigner.abcce80b.svg",T=t.p+"static/media/WalletConnect.bd8aa632.svg",v=t.p+"static/media/UnderConstruction.6a8f832d.png",w=t(109),k=new(t.n(w).a),A=function(){var n=Object(h.a)(x.a.mark((function n(e){var t,a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.connect();case 2:t=n.sent,a=t.map((function(n){return n.address})),e("addresses",a);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),O=function(n){return Object(p.jsx)("div",{onClick:n.outClick,className:"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-70",children:Object(p.jsx)("div",{className:" w-10/12 sm:w-9/12 md:w-8/12 lg:w-7/12  xl:w-5/12  bg-indigo-800 rounded-xl  self-center shadow-xl p-4  flex flex-col  justify-center  overflow-y-auto overflow-x-hidden",style:{maxHeight:"70vh"},onClick:function(n){n.stopPropagation()},children:n.children})})},_=function(n){return Object(p.jsxs)("div",{className:"grid grid-rows-1 grid-cols-12 transform bg-white pl-8 hover:bg-gray-200 rounded-xl mb-6 p-4",children:[Object(p.jsx)("img",{src:n.logo,alt:n.name,className:"w-12 h-14 col-span-2"}),Object(p.jsx)("button",{className:"col-span-10 text-center text-2xl pr-10",style:{fontFamily:"'Syne', sans-serif"},onClick:n.fn,children:n.name})]})},S=function(n){var e,t=Object(s.useContext)(m),a=(e=t.set,{MyAlgo:function(){return A(e)}});return Object(p.jsxs)(O,{children:[Object(p.jsx)("p",{className:"text-4xl text-white text-center mb-16",style:{fontFamily:"'Syne', sans-serif"},children:"Connect Wallet"}),Object(p.jsx)(_,{fn:a.MyAlgo,logo:y,name:"MyAlgo"}),Object(p.jsxs)("span",{children:[Object(p.jsx)(_,{fn:Object(h.a)(x.a.mark((function n(){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)}))),logo:j,name:"AlgoSigner"}),Object(p.jsx)("img",{src:v,alt:"",className:"absolute w-20 right-5 top-1/2"})]}),Object(p.jsxs)("span",{children:[Object(p.jsx)(_,{fn:Object(h.a)(x.a.mark((function n(){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)}))),logo:T,name:"WalletConnect"}),Object(p.jsx)("img",{src:v,alt:"",className:"absolute w-20 right-5 top-2/3 transform translate-y-3"})]}),Object(p.jsx)("button",{className:"absolute text-white right-5 top-5 transform scale-105",onClick:n.close,children:Object(p.jsx)("span",{className:"material-icons",children:"close"})})]})},N=t.p+"static/media/Reach.8331c83d.svg",C=t(32),E=t(254),R=t(269),I=t(427),P=t(265),F=function(n){var e;switch(n.type){case"success":e="bg-green-700";break;case"alert":e="bg-red-700";break;case"warning":e="bg-yellow-700";break;case"info":e="bg-blue-500";break;default:e="bg-gray-800"}var t=e+" rounded-lg shadow-xl p-3 inline-flex w-full";return Object(p.jsx)("div",{className:"mx-5 my-4",children:Object(p.jsxs)("div",{className:t,children:[Object(p.jsx)("span",{className:"material-icons text-white self-center",children:"info"===n.type?"info_outline":"warning_amber"}),Object(p.jsx)("p",{className:"syne text-white text-lg text-center flex-grow mx-4",children:n.children})]})})},L=function(n){return Object(p.jsx)("p",{className:"text-5xl syne text-center mt-3 mb-6 shadow-sm text-white",children:n.title})},B=function(n){var e="open"===n.state?"bg-green-800":"closed"===n.state?"bg-gray-800":"restricted"===n.state?"bg-red-800":"bg-indigo-800";return Object(p.jsx)("button",{className:"shadow-lg rounded-2xl py-4 px-5 h-full syne text-white "+e,onClick:n.onClick,children:n.txt})},Z=t(434),M=t(435),z=Object(P.loadStdlib)("ALGO");function K(n,e){switch(console.log(n.step),e.type){case c.MAKE_READY:return Object(C.a)(Object(C.a)({},n),{},{ready:!0});case c.PROCEED_STEP:return Object(C.a)(Object(C.a)({},n),{},{step:n.step+1,ready:!1});case c.TIME_OUT:return Object(C.a)(Object(C.a)({},n),{},{timeout:!0});case c.ERROR_OUT:return Object(C.a)(Object(C.a)({},n),{},{error:!0});case c.CLEAR_ERRORS:return Object(C.a)(Object(C.a)({},n),{},{error:!1,timeout:!1});case c.SET_ACCOUNT:if(!e.payload)throw new Error("Account payload is falsy");return Object(C.a)(Object(C.a)({},n),{},{account:e.payload,ready:!0});case c.SET_SWAP:if(!e.payload)throw new Error("Account payload is falsy");return e.payload.contractType===d.ATOMIC?Object(C.a)(Object(C.a)({},n),{},{step:n.step+1,swap:{tokenA:e.payload.transferParams.tokenA,amountA:e.payload.transferParams.amountA,tokenB:e.payload.transferParams.tokenB,amountB:e.payload.transferParams.amountB}}):Object(C.a)(Object(C.a)({},n),{},{step:n.step+1,swap:{tokenA:e.payload.transferParams.token,amountA:e.payload.transferParams.amountToken,amountB:e.payload.transferParams.amountAlgo}});default:return n}}!function(n){n[n.MAKE_READY=0]="MAKE_READY",n[n.PROCEED_STEP=1]="PROCEED_STEP",n[n.ERROR_OUT=2]="ERROR_OUT",n[n.TIME_OUT=3]="TIME_OUT",n[n.CLEAR_ERRORS=4]="CLEAR_ERRORS",n[n.SET_ACCOUNT=5]="SET_ACCOUNT",n[n.SET_SWAP=6]="SET_SWAP"}(c||(c={})),function(n){n[n.SAFE=0]="SAFE",n[n.ATOMIC=1]="ATOMIC"}(d||(d={}));var H={step:0,ready:!1,timeout:!1,error:!1,account:null,swap:null},U=function(n){switch(n.state.step){case 0:return Object(p.jsx)(D,{state:n.state,dispatch:n.dispatch});case 1:return Object(p.jsx)(W,{state:n.state,dispatch:n.dispatch,contractType:n.contractType,appId:n.appId,setAcceptRef:n.setAcceptRef});case 2:return Object(p.jsx)(X,{contractType:n.contractType,state:n.state,acceptPrice:n.acceptPrice,closeModal:n.closeModal});default:return Object(p.jsx)("div",{})}},D=function(n){var e=n.dispatch,t=function(){return e({type:c.ERROR_OUT})},a=function(n){return e({type:c.SET_ACCOUNT,payload:n})},s=function(){var n=Object(h.a)(x.a.mark((function n(){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,z.setWalletFallback(z.walletFallback({providerEnv:I.network,MyAlgoConnect:E.a})),n.t0=a,n.next=5,z.getDefaultAccount();case 5:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 9:n.prev=9,n.t2=n.catch(0),console.log(n.t2),t();case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),r=function(){var n=Object(h.a)(x.a.mark((function n(){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,z.setWalletFallback(z.walletFallback({providerEnv:I.network,WalletConnect:R.a})),n.t0=a,n.next=5,z.getDefaultAccount();case 5:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 9:n.prev=9,n.t2=n.catch(0),console.log(n.t2),t();case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(L,{title:"Step 1: Connect Wallet"}),Object(p.jsx)("div",{className:"flex-grow flex flex-col items-center justify-center",children:Object(p.jsxs)("div",{className:"md:w-2/3",children:[Object(p.jsxs)("button",{onClick:s,className:"syne inline-flex justify-around text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full items-center",children:[Object(p.jsx)("img",{src:y,alt:"My Algo Logo",className:"w-10"}),"My Algo Wallet"]}),Object(p.jsxs)("button",{onClick:r,className:"syne inline-flex justify-around text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full items-center",children:[Object(p.jsx)("img",{src:T,alt:"My Algo Logo",className:"w-10"}),"Wallet Connect"]})]})})]})},W=function(n){var e=n.contractType,t=n.appId,a=n.state,r=n.dispatch,i=n.setAcceptRef,o=Object(s.useState)(!1),l=Object(u.a)(o,2),b=l[0],f=l[1],m=function(){var n=Object(h.a)(x.a.mark((function n(){var s,o,l;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,f(!0),s=e===d.ATOMIC?M:Z,n.next=5,a.account.contract(s,t);case 5:o=n.sent,l={seeTimeout:function(){r({type:c.TIME_OUT})},seeTransfer:function(){console.log("seeTransfer"),r({type:c.PROCEED_STEP})},acceptSwap:function(){var n=Object(h.a)(x.a.mark((function n(t){var s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=e===d.ATOMIC?t.tokenA:t.token,n.next=3,a.account.tokenAccept(s);case 3:return o={transferParams:t,contractType:e},r({type:c.SET_SWAP,payload:o}),n.next=6,new Promise((function(n){i(n)}));case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}var o}),n)})));return function(e){return n.apply(this,arguments)}}()},o.p.Bob(l),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0),r({type:c.ERROR_OUT});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(L,{title:"Step 2: Start the Transfer"}),Object(p.jsx)(F,{type:"warning",children:"This is an experimental feature, your funds may be lost forever."}),Object(p.jsx)("div",{className:"flex-grow flex flex-col items-center justify-center",children:b?Object(p.jsxs)("div",{className:"text-2xl syne text-white",children:[Object(p.jsx)("p",{children:"You'll now sign 1 transaction"}),Object(p.jsx)("p",{children:"- Opting in for the asset"})]}):Object(p.jsx)("button",{onClick:m,className:"px-5 py-4 shadow-lg rounded-lg bg-green-800 syne text-white",children:"I know the risks, start the transfer"})})]})},X=function(n){var e=n.state,t=n.contractType,a=n.acceptPrice,s=n.closeModal;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(L,{title:"Step 3: Accept the Parameters"}),Object(p.jsxs)("div",{className:"bg-white text-center syne p-4 text-2xl rounded-lg shadow-lg",children:[Object(p.jsxs)("p",{children:[" NFT ID: ",e.swap.tokenA.toString()]}),t===d.ATOMIC?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"",children:["Price ",z.formatCurrency(e.swap.amountB,4)," TOKENS"]}),Object(p.jsxs)("small",{className:"",children:["Token ID: ",e.swap.tokenB.toString()]})]}):Object(p.jsxs)("p",{className:"",children:["Price ",z.formatCurrency(e.swap.amountB,4)," ALGO"]})]}),Object(p.jsxs)("div",{className:"w-full flex justify-evenly mt-5",children:[Object(p.jsx)("button",{className:"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-green-800 text-white hover:bg-green-700",onClick:a,children:"Accept"}),Object(p.jsx)("button",{className:"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-red-800 text-white hover:bg-red-700",onClick:s,children:"Reject"})]})]})},G=function(n){var e="a"===n.appId.slice(0,1)?d.ATOMIC:d.SAFE,t=parseInt(n.appId.slice(1)),a=Object(s.useReducer)(K,H),r=Object(u.a)(a,2),i=r[0],o=r[1],l=Object(s.useRef)();return i.error?Object(p.jsx)(O,{outClick:function(){o({type:c.CLEAR_ERRORS}),n.close()},children:Object(p.jsxs)("div",{className:"text-2xl text-white text-center p-6 my-6",children:[Object(p.jsx)("span",{className:"material-icons transform scale-150 mb-4",children:"error"}),Object(p.jsxs)("h2",{className:"syne",children:["An error occured while transferring.",Object(p.jsx)("br",{}),"Please refresh and try again."]})]})}):Object(p.jsxs)(O,{outClick:n.close,children:[Object(p.jsx)("div",{style:{minHeight:"40vh"},className:"overflow-y-auto flex flex-col",children:Object(p.jsx)(U,{state:i,dispatch:o,contractType:e,appId:t,acceptPrice:function(){l.current(!0)},setAcceptRef:function(n){l.current=n},closeModal:n.close})}),Object(p.jsx)("div",{style:{minHeight:"10vh"},className:" flex justify-around items-center",children:i.ready&&Object(p.jsx)(B,{txt:"Next >",state:"open",onClick:function(){return o({type:c.PROCEED_STEP})}})})]})},q=function(){var n=Object(s.useContext)(m),e=Object(s.useState)(!1),t=Object(u.a)(e,2),r=t[0],i=t[1],o=Object(s.useState)(!1),c=Object(u.a)(o,2),d=c[0],l=c[1],b=function(n){return function(){return l(n)}},f=Object(s.useState)(""),g=Object(u.a)(f,2),x=g[0],h=g[1];return Object(p.jsxs)("div",{className:"grid justify-items-center place-items-center h-screen w-screen",style:{backgroundColor:"#171717"},children:[Object(p.jsx)("img",{src:N,alt:"Reach Logo",className:"absolute bottom-12 text-center w-16"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"text-6xl md:text-7xl lg:text-8xl xl:text-9xl mb-20 font-bold text-center text-white",style:{fontFamily:"'Syne', sans-serif"},children:"ga//ery"}),Object(p.jsxs)("div",{className:"flex flex-row justify-between mx-4 gap-8",children:[Object(p.jsx)("button",{className:"p-2 md:p-3 lg:p-3 xl:p-4 rounded-md text-white bg-indigo-700 hover:bg-indigo-500",style:{fontFamily:"'Syne', sans-serif"},onClick:function(){n.set("view",a.LIBRARY)},children:"Go To My Collection"}),Object(p.jsxs)("div",{className:"flex rounded-md bg-gray-200",children:[Object(p.jsx)("button",{onClick:b(!0),className:"flex h-full",children:Object(p.jsx)("span",{className:"material-icons self-center mx-3 opacity-50",children:"play_arrow"})}),Object(p.jsx)("input",{value:x,onChange:function(n){return h(n.target.value)},className:"anaheim h-full rounded-r-md pl-2 text-lg xl:text-xl",placeholder:"Search for an app"})]})]})]}),d&&Object(p.jsx)(G,{appId:x,close:b(!1)}),r&&Object(p.jsx)(S,{close:function(){return i(!1)}})]})};function J(){return Object(p.jsx)("div",{})}var Y=t(31),V=t(266),Q=t(116),$=t(5),nn=t(6),en=t(267),tn=t.n(en),an=function(){var n=Object(h.a)(x.a.mark((function n(e){var t,a,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new Request(e),n.next=4,fetch(t);case 4:return a=n.sent,n.next=7,a.blob();case 7:return s=n.sent,n.t0=JSON,n.next=11,s.text();case 11:return n.t1=n.sent,n.abrupt("return",n.t0.parse.call(n.t0,n.t1));case 15:n.prev=15,n.t2=n.catch(0),console.error("Failed to get Metadata from IPFS:",n.t2);case 18:return n.abrupt("return",new dn);case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}(),sn="@arc3",rn="metadata.json";function on(n){if(!n)return"-";var e=n.split("://");if(e.length<2)return n;switch(e[0]){case"ipfs":return I.ipfsGateway+e[1];case"https":return n}return n}var cn=function(){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object($.a)(this,n),this.url="",this.name="",this.creator="",this.owner="",this.count=0,this.assetId=0,this.arc3=!1,this.metadata=void 0,this.owner=e,Object.assign(this,t)}return Object(nn.a)(n,[{key:"imgURL",value:function(){var n,e,t=on(this.arc3?null===(n=this.metadata)||void 0===n?void 0:n.image:this.url);return t!==(null===(e=this.metadata)||void 0===e?void 0:e.image)?t:this.url.endsWith(rn)?on(this.url.substring(0,this.url.length-rn.length))+this.metadata.image:""}}],[{key:"fromToken",value:function(){var e=Object(h.a)(x.a.mark((function e(t,a){var s,r,i,o,c,d,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.index,r=a.params,i=r.name,o=r.url,c=r.creator,d=r.total,e.next=4,un(s,o);case 4:return l=e.sent,e.abrupt("return",new n(t,{url:o,name:i,creator:c,owner:t,count:d,assetId:s,arc3:this.isArc3(a),metadata:l}));case 6:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"isArc3",value:function(n){var e,t;return(null===n||void 0===n||null===(e=n.params)||void 0===e?void 0:e.name)&&(null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.name.endsWith(sn))}}]),n}(),dn=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object($.a)(this,n),this.name="",this.description="",this.image="",this.decimals=0,this.image_integrity="",this.image_mimetype="",this.properties=void 0,Object.assign(this,e)}return Object(nn.a)(n,[{key:"toFile",value:function(){var n=new Blob([JSON.stringify(Object(C.a)({},this),null,2)],{type:"application/json"});return new File([n],rn)}},{key:"arc3Name",value:function(){return this.name.substring(0,27)+sn}}]),n}();function ln(n,e){var t,a=JSON.parse(null!==(t=localStorage.getItem("mds"))&&void 0!==t?t:"{}"),s=Object.assign({},e);return a[n]=Object(C.a)({},s),localStorage.setItem("mds",JSON.stringify(a)),e}function un(n,e){return pn.apply(this,arguments)}function pn(){return(pn=Object(h.a)(x.a.mark((function n(e,t){var a,s;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((s=JSON.parse(null!==(a=localStorage.getItem("mds"))&&void 0!==a?a:"[]"))[e]){n.next=8;break}return n.t0=ln,n.t1=e,n.next=6,an(on(t));case 6:return n.t2=n.sent,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 8:return n.abrupt("return",new dn(s[e]));case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var bn=new tn.a.Algodv2("",I.algod,""),fn=function(){var n=Object(h.a)(x.a.mark((function n(e){var t,a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bn.accountInformation(e).do();case 2:return t=n.sent,a=Object.keys(t.assets).filter((function(n){return t.assets[n].amount>0})).map((function(n){return t.assets[n]["asset-id"]})),n.abrupt("return",{owner:e,assetIds:a});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),mn=function(){var n=Object(h.a)(x.a.mark((function n(e){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bn.getAssetByID(e).do();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),gn=function(){function n(e,t){Object($.a)(this,n),this.counter=0,this.idList=void 0,this.iterSize=void 0,this.done=!1,this.idList=e.reduce((function(n,e){var t=e.assetIds.map((function(n){return{owner:e.owner,id:n}}));return[].concat(Object(Y.a)(n),Object(Y.a)(t))}),[]),this.iterSize=t}return Object(nn.a)(n,[{key:"isDone",value:function(){return this.done}},{key:"next",value:function(){var n=Object(h.a)(x.a.mark((function n(){var e,t,a,s,r,i,o;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=[],t=0;case 2:if(!(t<this.iterSize)){n.next=19;break}if(!(this.counter+t>=this.idList.length)){n.next=6;break}return this.done=!0,n.abrupt("break",19);case 6:return a=this.counter+++t,s=this.idList[a],r=s.owner,i=s.id,n.next=10,mn(i);case 10:return o=n.sent,n.t0=e,n.next=14,cn.fromToken(r,o);case 14:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 16:t++,n.next=2;break;case 19:return n.abrupt("return",e);case 20:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()}]),n}(),xn=function(n,e){return new gn(n,e)};function hn(){return{width:window.innerWidth}}var yn=function(n,e){var t;return JSON.parse(null!==(t=localStorage.getItem(n))&&void 0!==t?t:e)},jn=function(n){var e=Object(s.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(p.jsx)("div",{onClick:n.outClick,className:"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-20",children:Object(p.jsxs)("div",{onClick:function(n){n.stopPropagation()},className:"w-10/12 sm:w-9/12 md:w-8/12 lg:w-7/12 xl:w-5/12  bg-black text-white self-center justify-center p-4 flex flex-col items-center",children:[Object(p.jsx)("button",{className:"material-icons self-end",onClick:n.outClick,children:"close"}),Object(p.jsx)("div",{className:"syne text-3xl text-center",children:"Enter address(es)"}),Object(p.jsx)("div",{className:"py-5"}),Object(p.jsxs)("span",{style:{width:"70%"},children:[Object(p.jsx)("input",{style:{width:"80% "},className:"bg-black border-white border-4 text-white w-full pl-5",onChange:function(n){r(n.target.value)},placeholder:"Enter address",type:"text"}),Object(p.jsx)("button",{style:{width:"20%"},className:"bg-gray-400 hover:text-white text-black border-none h-full syne align-top",onClick:function(){n.setAddresses([].concat(Object(Y.a)(n.addresses),[a]))},children:"Enter"})]}),Object(p.jsx)("div",{className:"py-5"}),Object(p.jsx)("div",{style:{width:"70% "},children:n.addresses.map((function(e){return Object(p.jsx)("div",{className:"bg-gray-900 text-white anaheim text-center text-xl transition-colors hover:bg-red-700 w-full",onClick:function(){!function(e){n.setAddresses(n.addresses.filter((function(n){return n!==e})))}(e)},children:e.slice(0,10)+"..."+e.slice(e.length-10)})}))}),Object(p.jsx)("div",{className:"py-5"})]})})},Tn=t(268),vn=t.n(Tn),wn=t.p+"static/media/Frame12.7bd8d6fe.png",kn=t.p+"static/media/Frame36.d07f9306.png",An=t.p+"static/media/Frame22.d59a070a.png",On=t.p+"static/media/Frame29.a10cf260.png",_n=t.p+"static/media/Frame17.fbb462b9.png",Sn=t.p+"static/media/Frame20.1084c86f.png",Nn=t.p+"static/media/Frame05.41299913.png",Cn=t.p+"static/media/Frame11.f74cba01.png",En=t.p+"static/media/Frame21.093aa277.png",Rn=t.p+"static/media/Frame06.06c75b2d.png",In=t.p+"static/media/Frame25.3edc40a5.png",Pn=t.p+"static/media/Frame34.3cca3eaf.png",Fn=t.p+"static/media/Frame04.cd757996.png",Ln=t.p+"static/media/Frame30.7e5c290e.png",Bn=t.p+"static/media/Frame19.73677473.png",Zn=t.p+"static/media/Frame14.a84bd207.png",Mn=t.p+"static/media/Frame08.ef43d1d4.png",zn=t.p+"static/media/Frame15.e3ceb2f8.png",Kn=t.p+"static/media/Frame26.fefbf749.png",Hn=t.p+"static/media/Frame32.c77e9562.png",Un=t.p+"static/media/Frame03.d671b63e.png",Dn=t.p+"static/media/Frame13.5b3957c6.png",Wn=t.p+"static/media/Frame18.77a04e57.png",Xn=t.p+"static/media/Frame02.f19cf6d3.png",Gn=t.p+"static/media/Frame31.cd18258a.png",qn=t.p+"static/media/Frame35.6a5ee20b.png",Jn=t.p+"static/media/Frame27.c8976c37.png",Yn=t.p+"static/media/Frame16.d70ca523.png",Vn=t.p+"static/media/Frame01.bdda2a6f.png",Qn=t.p+"static/media/Frame37.b50c74cb.png",$n=t.p+"static/media/Frame23.087ec8b3.png",ne=t.p+"static/media/Frame07.944d1fd6.png",ee=t.p+"static/media/Frame28.80a58f9a.png",te=t.p+"static/media/Frame09.a75806d8.png",ae=t.p+"static/media/Frame10.59be19cd.png",se=t.p+"static/media/Frame33.15030e42.png";function re(n){var e,t=[1.366093366093366,.8404255319148937,.8147058823529412,1.3401486988847584,1.300711743772242,.846553966189857,1.2228070175438597,1.5411954765751212,.8966942148760331,.7604912998976459,.7753164556962026,1.1920415224913494,1.2246065808297568,.8234442836468886,1.1263157894736842,1.2917431192660551,1.2034313725490196,1.1814744801512287,1.1901931649331352,.8077544426494345,.7858136300417247,1.1241534988713318,.87248322147651,.7247596153846154,.843042071197411,1.1636636636636637,1.133445945945946,1.1673728813559323,1.238938053097345,.6496732026143791,1.1704745166959578,1.23,1.2421602787456445,1.2330578512396695,.9634703196347032,1.154727793696275],a=[[wn],[kn],[An],[On],[_n],[Sn],[Nn],[Cn],[En],[Rn],[In],[Pn],[Fn],[Ln],[Bn],[Zn],[Mn],[zn],[Kn],[Hn],[Un],[Dn],[Wn],[Xn],[Gn],[qn],[Jn],[Yn],[Vn],[Qn],[$n],[ne],[ee],[te],[ae],[se]],s=t.reduce((function(e,a,s){return Math.abs(n-a)<Math.abs(n-t[e])?s:e}),0),r=(e=a[s],Math.floor(Math.random()*e.length));return{frame:a[s][r],ratio:t[s],innerPercentage:[[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}],[{w:80,h:80}]][s][r]}}var ie=function(){var n=Object(h.a)(x.a.mark((function n(e){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n){var t=new Image;t.addEventListener("load",(function(){var e=this.naturalWidth,t=this.naturalHeight;n({width:e,height:t})})),t.addEventListener("error",(function(){var t=document.createElement("video");t.addEventListener("loadedmetadata",(function(){var e=this.videoHeight,t=this.videoWidth;n({height:e,width:t})}),!1),t.addEventListener("error",(function(){n({height:200,width:200})})),t.src=e})),t.src=e}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),oe=function(n){return Object(p.jsx)("div",{style:{height:n.height+"px"}})},ce=function(n){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(!1),o=Object(u.a)(i,2),c=o[0],d=o[1],l=Object(s.useState)(!1),b=Object(u.a)(l,2),f=b[0],m=b[1],g=Object(s.useState)(!1),x=Object(u.a)(g,2),h=x[0],y=x[1],j=n.nested?{transform:"translateX(4px)",color:"white",zIndex:-1}:void 0!==n.innerPercentage?{transform:"translateX(4px)",color:"white",width:n.innerPercentage.w+"%"}:{},T=function(){n.nested||y(!0)},v=function(){console.log("Video failed for",n.src),d(!0)},w=function(){console.log("Audio failed for",n.src),m(!0)};return Object(p.jsxs)(p.Fragment,{children:[f?Object(p.jsx)("div",{onClick:T,children:n.src}):c?Object(p.jsx)("div",{children:Object(p.jsx)("audio",{style:j,src:n.src,onError:function(n){return w}})}):a?n.nested?Object(p.jsx)("video",{autoPlay:!0,muted:!1,className:n.extraStyle,src:n.src,style:j,onClick:T,onError:function(n){return v()}}):Object(p.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,src:n.src,style:j,onClick:T,onError:function(n){return v()}}):Object(p.jsx)("img",{onClick:T,style:j,className:n.extraStyle,src:n.src,alt:"",onError:function(e){return console.log("Image failed for",n.src),void r(!0)}}),h&&Object(p.jsx)(de,{src:n.src,close:function(){return y(!1)}})]})},de=function(n){return Object(p.jsx)(le,{outClick:n.close,children:Object(p.jsx)(ce,{src:n.src,extraStyle:"h-full",nested:!0})})},le=function(n){return Object(p.jsx)("div",{onClick:n.outClick,className:"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-70",children:Object(p.jsx)("div",{className:" rounded-xl  bg-transparent shadow-lg self-center flex flex-col justify-center overflow-x-hidden",style:{zIndex:-1,height:"80%"},onClick:function(n){n.stopPropagation()},children:n.children})})},ue=function(n){var e,t,a=Object(s.useState)(null!==(e=null===(t=yn("tags","{}"))||void 0===t?void 0:t[n.nft.assetId])&&void 0!==e?e:[]),r=Object(u.a)(a,2),i=r[0],o=r[1],c=Object(s.useState)(!1),d=Object(u.a)(c,2),l=(d[0],d[1],Object(s.useState)(0)),b=Object(u.a)(l,2),f=b[0],m=b[1],g=n.nft.imgURL();Object(s.useEffect)((function(){function n(){return(n=Object(h.a)(x.a.mark((function n(){var e,t,a;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ie(g);case 2:e=n.sent,t=e.height,a=e.width,m(t/a);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[g]);var y=re(f),j=y.frame,T=y.ratio,v=y.innerPercentage;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(oe,{height:20+200*Math.random()}),Object(p.jsx)("div",{style:{height:n.cardLength*T+"px",margin:"10px",display:"flex",backgroundImage:"url(".concat(j,")"),backgroundRepeat:"no-repeat",backgroundSize:"".concat(n.cardLength-30,"px ").concat(n.cardLength*T,"px"),justifyContent:"center",alignItems:"center"},children:Object(p.jsx)(ce,{src:g,nested:!1,extraStyle:"syne",innerPercentage:v})}),Object(p.jsx)("p",{className:"syne text-4xl text-white ml-3 mb-4",children:n.nft.name}),Object(p.jsx)(vn.a,{value:i,onChange:function(e){var t=new Set(i),a=new Set(e);if(t!=a){var s=yn("tags","{}"),r=Object(Y.a)(function(n,e){var t,a=new Set(n),s=Object(Q.a)(e);try{for(s.s();!(t=s.n()).done;){var r=t.value;a.delete(r)}}catch(i){s.e(i)}finally{s.f()}return a}(a,t))[0];s.global||(s.global=[]),s[n.nft.assetId]=Object(Y.a)(a),r&&!s.global.includes(r)&&s.global.push(r),function(n,e,t){var a;localStorage.setItem(n,null!==(a=JSON.stringify(e))&&void 0!==a?a:t)}("tags",s,{}),o(Object(Y.a)(a))}}}),Object(p.jsx)(oe,{height:400*Math.random()})]})},pe=function(n){return Object(p.jsxs)("span",{className:"py-16 pl-16 flex flex-col text-center md:inline-flex md:flex-row gap-3 md:gap-0 w-full justify-between",children:[Object(p.jsxs)("div",{className:"flex justify-evenly",children:[Object(p.jsx)("h1",{className:"syne self-center text-3xl md:text-4xl lg:text-5xl xl:text-5xl font-bold text-white",children:"Your Collection"}),Object(p.jsx)("button",{className:"p-3 self-center md:ml-8",onClick:function(){localStorage.removeItem("nfts"),localStorage.removeItem("accounts"),localStorage.removeItem("mds")},children:Object(p.jsx)("span",{className:"text-white material-icons font-sm",children:"filter_list"})})]}),Object(p.jsxs)("div",{className:"mr-20",children:[Object(p.jsx)("button",{onClick:n.showAddrModal,className:"inline syne mr-8 bg-indigo-400 hover:bg-indigo-500  transition-colors bg-opacity-60 px-3 py-2 rounded-sm text-white",children:"Manage addresses"}),Object(p.jsx)("img",{className:"inline",width:75,src:N,alt:"Reach logo"})]})]})},be=function(){var n=Object(s.useContext)(m),e=Object(s.useState)(!0),t=Object(u.a)(e,2),r=t[0],i=t[1],o=function(){var n=Object(s.useRef)(),e=function(){var n,e,t,a;function s(){n=null,a=0}return s(),function(){return e=window.scrollY,null!=n&&(a=e-n),n=e,clearTimeout(t),t=setTimeout(s,50),a}}();return window.onscroll=function(){n.current=e()},{scrollSpeed:n.current}}(),c=(o.scrollSpeed,function(n){var e=Object(s.useState)(n.accs),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(!0),o=Object(u.a)(i,2),c=o[0],d=o[1],l=Object(s.useState)(!1),p=Object(u.a)(l,2),b=p[0],f=p[1],m=Object(s.useState)(void 0),g=Object(u.a)(m,2),y=g[0],j=g[1],T=Object(s.useState)([]),v=Object(u.a)(T,2),w=v[0],k=v[1],A=Object(s.useRef)(w),O=function(n){A.current=n,k(n)},_=function(n){window.innerHeight+window.scrollY>=document.body.offsetHeight&&!(null===y||void 0===y?void 0:y.isDone())&&(f(!1),d(!0))};return Object(s.useEffect)((function(){var n=function(){var n=Object(h.a)(x.a.mark((function n(){var e,t,s,r,i;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=[],t=Object(Q.a)(a),n.prev=2,t.s();case 4:if((s=t.n()).done){n.next=13;break}return r=s.value,n.t0=e,n.next=9,fn(r);case 9:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 11:n.next=4;break;case 13:n.next=18;break;case 15:n.prev=15,n.t2=n.catch(2),t.e(n.t2);case 18:return n.prev=18,t.f(),n.finish(18);case 21:i=xn(e,5),j(i);case 23:case"end":return n.stop()}}),n,null,[[2,15,18,21]])})));return function(){return n.apply(this,arguments)}}();return n(),window.addEventListener("scroll",_),function(){window.removeEventListener("scroll",_)}}),[a,j]),Object(s.useEffect)((function(){var n=function(){var n=Object(h.a)(x.a.mark((function n(){return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return f(!1),n.t0=O,n.t1=[],n.t2=Object(Y.a)(A.current),n.t3=Y.a,n.next=7,y.next();case 7:n.t4=n.sent,n.t5=(0,n.t3)(n.t4),n.t6=n.t1.concat.call(n.t1,n.t2,n.t5),(0,n.t0)(n.t6),f(!0),d(!1);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();y&&c&&n()}),[c,y]),{accs:a,setAccs:r,done:b,nftIterator:y,nftsRef:A}}({accs:["N42L7IIGQGZA7OGNLGQXZWBUZHQYH5HJVU3M6625KGOMHWFFOFPAID22VA"]})),d=c.accs,l=c.setAccs,b=(c.done,c.nftIterator,c.nftsRef),f=function(){var n=Object(s.useState)(hn()),e=Object(u.a)(n,2),t=e[0],a=e[1];return Object(s.useEffect)((function(){function n(){a(hn())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),t}(),g=f.width,y=g<800?1:g<1200?2:3,j=Object(s.useState)([]),T=Object(u.a)(j,2),v=T[0];T[1];return Object(p.jsxs)("div",{className:"h-full w-screen overflow-y-scroll",style:{backgroundColor:"#171717"},children:[Object(p.jsx)(pe,{goToStart:function(){n.set("view",a.START)},showAddrModal:function(){i(!0)}}),Object(p.jsx)(V.a,{breakpointCols:y,className:"flex mt-10",columnClassName:"mx-2 my-4",children:b.current.filter((function(n){return function(n){var e,t=null===(e=yn("tags","[]"))||void 0===e?void 0:e[n];return!t||v.reduce((function(n,e){return n||t.includes(e)}),!1)}(n.assetId)})).map((function(n){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(ue,{cardLength:g/y,nft:n},n.assetId)})}))}),r&&Object(p.jsx)(jn,{addresses:d,setAddresses:l,outClick:function(){i(!1)}})]})};var fe=function(){return Object(p.jsx)("div",{className:"h-screen w-screen grid place-items-center text-white",children:Object(p.jsx)("h1",{className:"syne text-4xl",children:"404 Not Found"})})},me=function(){switch(Object(s.useContext)(m).settings.view){case a.START:return Object(p.jsx)(q,{});case a.LIBRARY:return Object(p.jsx)(be,{});case a.TEST:return Object(p.jsx)(J,{});default:return Object(p.jsx)(fe,{})}};t(439);o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(f,{children:Object(p.jsx)(me,{})})}),document.getElementById("root"))}},[[440,1,2]]]);
//# sourceMappingURL=main.260e4039.chunk.js.map