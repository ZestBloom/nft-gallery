(this["webpackJsonpnft-gallery"]=this["webpackJsonpnft-gallery"]||[]).push([[0],{254:function(n,e,t){"use strict";t.r(e),t.d(e,"_version",(function(){return c})),t.d(e,"_backendVersion",(function(){return o})),t.d(e,"getExports",(function(){return l})),t.d(e,"_getViews",(function(){return d})),t.d(e,"_getMaps",(function(){return u})),t.d(e,"Alice",(function(){return p})),t.d(e,"Bob",(function(){return f})),t.d(e,"_Connectors",(function(){return x})),t.d(e,"_Participants",(function(){return g})),t.d(e,"_APIs",(function(){return h}));var a=t(32),s=t(0),r=t(16),i=t(7),c="0.1.6",o=5;function l(n){n.reachStdlib;return{}}function d(n,e){var t=n.reachStdlib,a=t.T_Address,s=t.T_Token,r=t.T_UInt;return{infos:{},views:{1:[a,s,r,r,r],2:[a,s,r,r,r]}}}function u(n){return{mapDataTy:n.reachStdlib.T_Tuple([])}}function p(n,e){return b.apply(this,arguments)}function b(){return b=Object(i.a)(s.mark((function n(e,t){var c,o,l,d,u,p,b,f,m,x,g,h,y,j,T,O,v,k,w,A,_,S,N,E,C,R,I,P,F,B;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("object"===typeof e&&void 0!==e._initialize){n.next=2;break}return n.abrupt("return",Promise.reject(new Error("The backend for Alice expects to receive a contract as its first argument.")));case 2:if("object"===typeof t){n.next=4;break}return n.abrupt("return",Promise.reject(new Error("The backend for Alice expects to receive an interact object as its second argument.")));case 4:return c=e._initialize(),o=c.stdlib,l=o.T_UInt,d=o.T_Token,u=o.T_Object({amountAlgo:l,amountToken:l,time:l,token:d}),p=o.T_Null,b=o.T_Address,n.t0=o,n.t1=u,n.next=15,t.getSwap();case 15:return n.t2=n.sent,n.t3={at:"./safeTransfer.rsh:34:85:application",fs:["at ./safeTransfer.rsh:33:11:application call to [unknown function] (defined at: ./safeTransfer.rsh:33:15:function exp)"],msg:"getSwap",who:"Alice"},f=n.t0.protect.call(n.t0,n.t1,n.t2,n.t3),m=f.token,x=f.amountToken,g=f.amountAlgo,h=f.time,n.next=24,c.sendrecv({args:[m,x,g,h],evt_cnt:4,funcNum:0,lct:o.checkedBigNumberify("./safeTransfer.rsh:36:7:dot",o.UInt_max,0),onlyIf:!0,out_tys:[d,l,l,l],pay:[o.checkedBigNumberify("./safeTransfer.rsh:decimal",o.UInt_max,0),[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,a,i;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},a=Object(r.a)(e.data,4),i=a[0],a[1],a[2],a[3],e.secs,e.time,e.didSend,e.from,t.txns.push({amt:o.checkedBigNumberify("<builtin>",o.UInt_max,0),kind:"init",tok:i}),t.txns.push({amt:o.checkedBigNumberify("./safeTransfer.rsh:decimal",o.UInt_max,0),kind:"to",tok:void 0}),t.isHalt=!1,n.abrupt("return",t);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[d,l,l,l],waitIfNotPresent:!1});case 24:return y=n.sent,j=Object(r.a)(y.data,4),T=j[0],O=j[1],v=j[2],k=j[3],y.secs,w=y.time,y.didSend,A=y.from,n.next=30,c.sendrecv({args:[A,T,O,v,k],evt_cnt:0,funcNum:1,lct:w,onlyIf:!0,out_tys:[],pay:[o.checkedBigNumberify("./safeTransfer.rsh:40:7:dot",o.UInt_max,0),[[O,T]]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r,i,c;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),r=e.secs,e.time,e.didSend,i=e.from,t.txns.push({amt:o.checkedBigNumberify("./safeTransfer.rsh:40:7:dot",o.UInt_max,0),kind:"to",tok:void 0}),t.txns.push({amt:O,kind:"to",tok:T}),c=o.addressEq(A,i),o.assert(c,{at:"./safeTransfer.rsh:40:7:dot",fs:[],msg:"sender correct",who:"Alice"}),o.add(r,k),t.isHalt=!1,n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[b,d,l,l,l],waitIfNotPresent:!1});case 30:return _=n.sent,Object(a.a)(_.data),S=_.secs,N=_.time,_.didSend,E=_.from,C=o.addressEq(A,E),o.assert(C,{at:"./safeTransfer.rsh:40:7:dot",fs:[],msg:"sender correct",who:"Alice"}),R=o.add(S,k),n.next=39,c.recv({didSend:!1,evt_cnt:0,funcNum:2,out_tys:[],timeoutAt:["secs",R],waitIfNotPresent:!1});case 39:if(!(I=n.sent).didTimeout){n.next=59;break}return n.next=43,c.sendrecv({args:[A,T,O,v,R],evt_cnt:0,funcNum:3,lct:N,onlyIf:!0,out_tys:[],pay:[o.checkedBigNumberify("./safeTransfer.rsh:decimal",o.UInt_max,0),[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r,i;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),e.secs,e.time,e.didSend,r=e.from,t.txns.push({amt:o.checkedBigNumberify("./safeTransfer.rsh:decimal",o.UInt_max,0),kind:"to",tok:void 0}),i=o.addressEq(A,r),o.assert(i,{at:"./safeTransfer.rsh:51:15:dot",fs:[],msg:"sender correct",who:"Alice"}),t.txns.push({amt:O,kind:"from",to:A,tok:T}),t.txns.push({kind:"halt",tok:T}),t.txns.push({kind:"halt",tok:void 0}),t.isHalt=!0,n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[b,d,l,l,l],waitIfNotPresent:!1});case 43:return P=n.sent,Object(a.a)(P.data),P.secs,P.time,P.didSend,F=P.from,B=o.addressEq(A,F),o.assert(B,{at:"./safeTransfer.rsh:51:15:dot",fs:[],msg:"sender correct",who:"Alice"}),n.t4=o,n.t5=p,n.next=53,t.seeTimeout();case 53:return n.t6=n.sent,n.t7={at:"./safeTransfer.rsh:53:51:application",fs:["at ./safeTransfer.rsh:53:17:application call to [unknown function] (defined at: ./safeTransfer.rsh:53:29:function exp)"],msg:"seeTimeout",who:"Alice"},n.t4.protect.call(n.t4,n.t5,n.t6,n.t7),n.abrupt("return");case 59:return Object(a.a)(I.data),I.secs,I.time,I.didSend,I.from,n.t8=o,n.t9=p,n.next=67,t.seeTransfer();case 67:return n.t10=n.sent,n.t11={at:"./safeTransfer.rsh:61:44:application",fs:["at ./safeTransfer.rsh:61:9:application call to [unknown function] (defined at: ./safeTransfer.rsh:61:21:function exp)"],msg:"seeTransfer",who:"Alice"},n.t8.protect.call(n.t8,n.t9,n.t10,n.t11),n.abrupt("return");case 71:case"end":return n.stop()}}),n)}))),b.apply(this,arguments)}function f(n,e){return m.apply(this,arguments)}function m(){return m=Object(i.a)(s.mark((function n(e,t){var c,o,l,d,u,p,b,f,m,x,g,h,y,j,T,O,v,k,w,A,_,S,N,E,C,R;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("object"===typeof e&&void 0!==e._initialize){n.next=2;break}return n.abrupt("return",Promise.reject(new Error("The backend for Bob expects to receive a contract as its first argument.")));case 2:if("object"===typeof t){n.next=4;break}return n.abrupt("return",Promise.reject(new Error("The backend for Bob expects to receive an interact object as its second argument.")));case 4:return c=e._initialize(),o=c.stdlib,l=o.T_Token,d=o.T_UInt,u=o.T_Bool,p=o.T_Null,b=o.T_Address,n.next=13,c.recv({didSend:!1,evt_cnt:4,funcNum:0,out_tys:[l,d,d,d],timeoutAt:void 0,waitIfNotPresent:!1});case 13:return f=n.sent,m=Object(r.a)(f.data,4),x=m[0],g=m[1],h=m[2],y=m[3],f.secs,f.time,f.didSend,j=f.from,n.next=19,c.recv({didSend:!1,evt_cnt:0,funcNum:1,out_tys:[],timeoutAt:void 0,waitIfNotPresent:!1});case 19:return T=n.sent,Object(a.a)(T.data),O=T.secs,v=T.time,T.didSend,k=T.from,w=o.addressEq(j,k),o.assert(w,{at:"./safeTransfer.rsh:40:7:dot",fs:[],msg:"sender correct",who:"Bob"}),A=o.add(O,y),_={amountAlgo:h,amountToken:g,time:y,token:x},n.t0=o,n.t1=u,n.next=31,t.acceptSwap(_);case 31:return n.t2=n.sent,n.t3={at:"./safeTransfer.rsh:45:64:application",fs:["at ./safeTransfer.rsh:44:11:application call to [unknown function] (defined at: ./safeTransfer.rsh:44:15:function exp)"],msg:"acceptSwap",who:"Bob"},S=n.t0.protect.call(n.t0,n.t1,n.t2,n.t3),n.next=36,c.sendrecv({args:[j,x,g,h,A],evt_cnt:0,funcNum:2,lct:v,onlyIf:S,out_tys:[],pay:[h,[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),e.secs,e.time,e.didSend,r=e.from,t.txns.push({amt:h,kind:"to",tok:void 0}),t.txns.push({amt:h,kind:"from",to:j,tok:void 0}),t.txns.push({amt:g,kind:"from",to:r,tok:x}),t.txns.push({kind:"halt",tok:x}),t.txns.push({kind:"halt",tok:void 0}),t.isHalt=!0,n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:["secs",A],tys:[b,l,d,d,d],waitIfNotPresent:!1});case 36:if(!(N=n.sent).didTimeout){n.next=56;break}return n.next=40,c.recv({didSend:!1,evt_cnt:0,funcNum:3,out_tys:[],timeoutAt:void 0,waitIfNotPresent:!1});case 40:return E=n.sent,Object(a.a)(E.data),E.secs,E.time,E.didSend,C=E.from,R=o.addressEq(j,C),o.assert(R,{at:"./safeTransfer.rsh:51:15:dot",fs:[],msg:"sender correct",who:"Bob"}),n.t4=o,n.t5=p,n.next=50,t.seeTimeout();case 50:return n.t6=n.sent,n.t7={at:"./safeTransfer.rsh:53:51:application",fs:["at ./safeTransfer.rsh:53:17:application call to [unknown function] (defined at: ./safeTransfer.rsh:53:29:function exp)"],msg:"seeTimeout",who:"Bob"},n.t4.protect.call(n.t4,n.t5,n.t6,n.t7),n.abrupt("return");case 56:return Object(a.a)(N.data),N.secs,N.time,N.didSend,N.from,n.t8=o,n.t9=p,n.next=64,t.seeTransfer();case 64:return n.t10=n.sent,n.t11={at:"./safeTransfer.rsh:61:44:application",fs:["at ./safeTransfer.rsh:61:9:application call to [unknown function] (defined at: ./safeTransfer.rsh:61:21:function exp)"],msg:"seeTransfer",who:"Bob"},n.t8.protect.call(n.t8,n.t9,n.t10,n.t11),n.abrupt("return");case 68:case"end":return n.stop()}}),n)}))),m.apply(this,arguments)}var x={ALGO:{appApproval:'#pragma version 5\ntxn RekeyTo\nglobal ZeroAddress\n==\nassert\ntxn Lease\nglobal ZeroAddress\n==\nassert\nint 0\nstore 0\ntxn ApplicationID\nbz alloc\nbyte base64()\napp_global_get\ndup\nint 0\nextract_uint64\nstore 1\ndup\nint 8\nextract_uint64\nstore 2\nextract 16 32\nstore 3\ntxn NumAppArgs\nint 3\n==\nassert\ntxna ApplicationArgs 0\nbtoi\npreamble:\n// Handler 0\ndup\nint 0\n==\nbz l0_afterHandler0\npop\n// check step\nint 0\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nbyte base64()\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 64\n==\nassert\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxn Sender\nglobal CreatorAddress\n==\nassert\nload 255\nstore 3\n// "CheckPay"\n// "./safeTransfer.rsh:36:7:dot"\n// "[]"\nint 100000\ndup\nbz l1_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl1_checkTxnK:\npop\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl2_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl3_checkTxnK:\npop\n// "CheckPay"\n// "./safeTransfer.rsh:36:7:dot"\n// "[]"\ntxn Sender\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 64\napp_global_put\npop\nint 1\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl0_afterHandler0:\n// Handler 1\ndup\nint 1\n==\nbz l4_afterHandler1\npop\n// check step\nint 1\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\n// "CheckPay"\n// "./safeTransfer.rsh:40:7:dot"\n// "[]"\n// "CheckPay"\n// "./safeTransfer.rsh:40:7:dot"\n// "[]"\nload 253\ndup\nbz l5_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl5_checkTxnK:\npop\n// Just "sender correct"\n// "./safeTransfer.rsh:40:7:dot"\n// "[]"\nload 255\ntxn Sender\n==\nassert\nglobal LatestTimestamp\nload 251\n+\nstore 250\nload 255\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 250\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 64\napp_global_put\npop\nint 2\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl4_afterHandler1:\n// Handler 2\ndup\nint 2\n==\nbz l6_afterHandler2\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 251\n<\nassert\n// "CheckPay"\n// "./safeTransfer.rsh:49:7:dot"\n// "[]"\nload 252\ndup\nbz l7_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl7_checkTxnK:\npop\nload 252\ndup\nbz l8_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns Receiver\n==\nassert\nl8_checkTxnK:\npop\nload 253\ndup\nbz l9_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\ntxn Sender\ndig 1\ngtxns AssetReceiver\n==\nassert\nl9_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl10_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl11_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl6_afterHandler2:\n// Handler 3\ndup\nint 3\n==\nbz l12_afterHandler3\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 251\n>=\nassert\n// "CheckPay"\n// "./safeTransfer.rsh:51:15:dot"\n// "[]"\n// Just "sender correct"\n// "./safeTransfer.rsh:51:15:dot"\n// "[]"\nload 255\ntxn Sender\n==\nassert\nload 253\ndup\nbz l13_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl13_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl14_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl15_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl12_afterHandler3:\nint 0\nassert\nupdateState:\nbyte base64()\nload 1\nitob\nload 2\nitob\nload 3\nconcat\nconcat\napp_global_put\ncheckSize:\nload 0\ndup\ndup\nint 1\n+\nglobal GroupSize\n==\nassert\ntxn GroupIndex\n==\nassert\nint 1000\n*\ntxn Fee\n<=\nassert\ndone:\nint 1\nreturn\nalloc:\ntxn OnCompletion\nint NoOp\n==\nassert\nint 0\nstore 1\nint 0\nstore 2\nglobal ZeroAddress\nstore 3\nb updateState\n',appClear:"#pragma version 5\nint 0\n",escrow:"#pragma version 5\nglobal GroupSize\nint 1\n-\ndup\ngtxns TypeEnum\nint appl\n==\nassert\ngtxns ApplicationID\nint {{ApplicationID}}\n==\nassert\ndone:\nint 1\n",mapDataKeys:0,mapDataSize:0,stateKeys:1,stateSize:64,unsupported:[],version:5},ETH:{ABI:'[\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "components": [\n              {\n                "internalType": "address payable",\n                "name": "v104",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v105",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v106",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v107",\n                "type": "uint256"\n              }\n            ],\n            "internalType": "struct T1",\n            "name": "msg",\n            "type": "tuple"\n          }\n        ],\n        "internalType": "struct T2",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "stateMutability": "payable",\n    "type": "constructor"\n  },\n  {\n    "inputs": [\n      {\n        "internalType": "uint256",\n        "name": "msg",\n        "type": "uint256"\n      }\n    ],\n    "name": "ReachError",\n    "type": "error"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "components": [\n              {\n                "internalType": "address payable",\n                "name": "v104",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v105",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v106",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v107",\n                "type": "uint256"\n              }\n            ],\n            "internalType": "struct T1",\n            "name": "msg",\n            "type": "tuple"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T2",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e0",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e1",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e2",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e3",\n    "type": "event"\n  },\n  {\n    "stateMutability": "payable",\n    "type": "fallback"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCurrentState",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      },\n      {\n        "internalType": "bytes",\n        "name": "",\n        "type": "bytes"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCurrentTime",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m1",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m2",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m3",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "stateMutability": "payable",\n    "type": "receive"\n  }\n]',Bytecode:"0x608060405260405162000f5738038062000f5783398101604081905262000026916200028d565b60008055604080518251815260208084015180516001600160a01b0316828401529081015182840152808301516060808401919091520151608082015290517ffefad5e0d88b997203a7f63b283abe03e4e673fa9ccc91b6b9327ca8f53a9be19181900360a00190a16200009d3415600762000186565b620000e26040518060a0016040528060006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160008152602001600081525090565b3380825260208381018051516001600160a01b039081168386019081528251840151604080880191825284518101516060808a0191825295518601516080808b01918252600160008190554390558351808a019a909a5294519095168883015291519487019490945251908501525160a0808501919091528151808503909101815260c0909301905281516200017d926002920190620001b0565b50505062000384565b81620001ac5760405163100960cb60e01b81526004810182905260240160405180910390fd5b5050565b828054620001be9062000347565b90600052602060002090601f016020900481019282620001e257600085556200022d565b82601f10620001fd57805160ff19168380011785556200022d565b828001600101855582156200022d579182015b828111156200022d57825182559160200191906001019062000210565b506200023b9291506200023f565b5090565b5b808211156200023b576000815560010162000240565b604051608081016001600160401b03811182821017156200028757634e487b7160e01b600052604160045260246000fd5b60405290565b600081830360a0811215620002a157600080fd5b604080519081016001600160401b0381118282101715620002d257634e487b7160e01b600052604160045260246000fd5b604052835181526080601f1983011215620002ec57600080fd5b620002f662000256565b60208501519092506001600160a01b03811681146200031457600080fd5b80835250604084015160208301526060840151604083015260808401516060830152816020820152809250505092915050565b600181811c908216806200035c57607f821691505b602082108114156200037e57634e487b7160e01b600052602260045260246000fd5b50919050565b610bc380620003946000396000f3fe60806040526004361061004b5760003560e01c80637963168e146100545780638323075714610067578063ab53f2c61461008a578063f147248d146100ad578063fd948b86146100c057005b3661005257005b005b610052610062366004610982565b6100d3565b34801561007357600080fd5b506001546040519081526020015b60405180910390f35b34801561009657600080fd5b5061009f6102ec565b6040516100819291906109ca565b6100526100bb366004610982565b610389565b6100526100ce366004610982565b6104f6565b6100e3600160005414600b61066f565b6100fd813515806100f657506001548235145b600c61066f565b60008080556002805461010f90610a04565b80601f016020809104026020016040519081016040528092919081815260200182805461013b90610a04565b80156101885780601f1061015d57610100808354040283529160200191610188565b820191906000526020600020905b81548152906001019060200180831161016b57829003601f168201915b50505050508060200190518101906101a09190610adf565b90506101b86040518060200160405280600081525090565b7f9f41c6cf17ede288cbb2cfbbafdd05b2b2025dea3b047cdb79dbc892d7a9286d836040516101e79190610b09565b60405180910390a16101fb3415600861066f565b6102186102113384602001518560400151610695565b600961066f565b8151610230906001600160a01b03163314600a61066f565b608082015161023f9042610b2e565b81526040805160a0808201835260008083526020808401828152848601838152606080870185815260808089018781528c516001600160a01b03908116808c528e890151821688528e8d015187528e86015185528d5183526002998a9055436001558c51808a0191909152965116868c0152935192850192909252519083015251818501528551808203909401845260c001909452815192936102e593919201906108ac565b5050505050565b60006060600054600280805461030190610a04565b80601f016020809104026020016040519081016040528092919081815260200182805461032d90610a04565b801561037a5780601f1061034f5761010080835404028352916020019161037a565b820191906000526020600020905b81548152906001019060200180831161035d57829003601f168201915b50505050509050915091509091565b610399600260005414601361066f565b6103b3813515806103ac57506001548235145b601461066f565b6000808055600280546103c590610a04565b80601f01602080910402602001604051908101604052809291908181526020018280546103f190610a04565b801561043e5780601f106104135761010080835404028352916020019161043e565b820191906000526020600020905b81548152906001019060200180831161042157829003601f168201915b50505050508060200190518101906104569190610adf565b905061046a8160800151421015601561066f565b7fe92d4e1229145c13e718fdc692a322df4a6700c6bebac0841f0e9f44c56a1529826040516104999190610b09565b60405180910390a16104ad3415601161066f565b80516104c5906001600160a01b03163314601261066f565b6104dc8160200151826000015183604001516106ad565b600080805560018190556104f290600290610930565b5050565b610506600260005414600e61066f565b6105208135158061051957506001548235145b600f61066f565b60008080556002805461053290610a04565b80601f016020809104026020016040519081016040528092919081815260200182805461055e90610a04565b80156105ab5780601f10610580576101008083540402835291602001916105ab565b820191906000526020600020905b81548152906001019060200180831161058e57829003601f168201915b50505050508060200190518101906105c39190610adf565b90506105d681608001514210601061066f565b7fe0777bbb0edbebd8a5c254bf54fd955256e9bf9fb0fe4138cd88ac193a101d15826040516106059190610b09565b60405180910390a161061e81606001513414600d61066f565b805160608201516040516001600160a01b039092169181156108fc0291906000818181858888f1935050505015801561065b573d6000803e3d6000fd5b506104dc81602001513383604001516106ad565b816104f25760405163100960cb60e01b8152600481018290526024015b60405180910390fd5b60006106a3838530856106c6565b90505b9392505050565b6106b88383836107a0565b6106c157600080fd5b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392839291891691839161072d91610b54565b60006040518083038185875af1925050503d806000811461076a576040519150601f19603f3d011682016040523d82523d6000602084013e61076f565b606091505b509150915061078082826001610871565b50808060200190518101906107959190610b70565b979650505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b1790529151600092839283929188169183916107ff91610b54565b60006040518083038185875af1925050503d806000811461083c576040519150601f19603f3d011682016040523d82523d6000602084013e610841565b606091505b509150915061085282826002610871565b50808060200190518101906108679190610b70565b9695505050505050565b606083156108805750816106a6565b8251156108905782518084602001fd5b60405163100960cb60e01b81526004810183905260240161068c565b8280546108b890610a04565b90600052602060002090601f0160209004810192826108da5760008555610920565b82601f106108f357805160ff1916838001178555610920565b82800160010185558215610920579182015b82811115610920578251825591602001919060010190610905565b5061092c92915061096d565b5090565b50805461093c90610a04565b6000825580601f1061094c575050565b601f01602090049060005260206000209081019061096a919061096d565b50565b5b8082111561092c576000815560010161096e565b60006040828403121561099457600080fd5b50919050565b60005b838110156109b557818101518382015260200161099d565b838111156109c4576000848401525b50505050565b82815260406020820152600082518060408401526109ef81606085016020870161099a565b601f01601f1916919091016060019392505050565b600181811c90821680610a1857607f821691505b6020821081141561099457634e487b7160e01b600052602260045260246000fd5b80516001600160a01b0381168114610a5057600080fd5b919050565b600060a08284031215610a6757600080fd5b60405160a0810181811067ffffffffffffffff82111715610a9857634e487b7160e01b600052604160045260246000fd5b604052905080610aa783610a39565b8152610ab560208401610a39565b60208201526040830151604082015260608301516060820152608083015160808201525092915050565b600060a08284031215610af157600080fd5b6106a68383610a55565b801515811461096a57600080fd5b81358152604081016020830135610b1f81610afb565b80151560208401525092915050565b60008219821115610b4f57634e487b7160e01b600052601160045260246000fd5b500190565b60008251610b6681846020870161099a565b9190910192915050565b600060208284031215610b8257600080fd5b81516106a681610afb56fea264697066735822122069adb54c4dfe18b847e0dc747d5c326a32962bd7f6ed8b9ac31515e4beca31d764736f6c63430008090033",BytecodeLen:3927,Which:"oD",version:4,views:{}}},g={Alice:p,Bob:f},h={}},255:function(n,e,t){"use strict";t.r(e),t.d(e,"_version",(function(){return c})),t.d(e,"_backendVersion",(function(){return o})),t.d(e,"getExports",(function(){return l})),t.d(e,"_getViews",(function(){return d})),t.d(e,"_getMaps",(function(){return u})),t.d(e,"Alice",(function(){return p})),t.d(e,"Bob",(function(){return f})),t.d(e,"_Connectors",(function(){return x})),t.d(e,"_Participants",(function(){return g})),t.d(e,"_APIs",(function(){return h}));var a=t(32),s=t(0),r=t(16),i=t(7),c="0.1.6",o=5;function l(n){n.reachStdlib;return{}}function d(n,e){var t=n.reachStdlib,a=t.T_Address,s=t.T_Token,r=t.T_UInt;return{infos:{},views:{1:[a,s,r,s,r,r],2:[a,s,r,s,r,r]}}}function u(n){return{mapDataTy:n.reachStdlib.T_Tuple([])}}function p(n,e){return b.apply(this,arguments)}function b(){return b=Object(i.a)(s.mark((function n(e,t){var c,o,l,d,u,p,b,f,m,x,g,h,y,j,T,O,v,k,w,A,_,S,N,E,C,R,I,P,F,B,D,L,Z,M,z,U;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("object"===typeof e&&void 0!==e._initialize){n.next=2;break}return n.abrupt("return",Promise.reject(new Error("The backend for Alice expects to receive a contract as its first argument.")));case 2:if("object"===typeof t){n.next=4;break}return n.abrupt("return",Promise.reject(new Error("The backend for Alice expects to receive an interact object as its second argument.")));case 4:return c=e._initialize(),o=c.stdlib,l=o.T_UInt,d=o.T_Token,u=o.T_Object({amountA:l,amountB:l,time:l,tokenA:d,tokenB:d}),p=o.T_Null,b=o.T_Address,n.t0=o,n.t1=u,n.next=15,t.getSwap();case 15:return n.t2=n.sent,n.t3={at:"./atomicTransfer.rsh:39:87:application",fs:["at ./atomicTransfer.rsh:38:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:38:15:function exp)"],msg:"getSwap",who:"Alice"},f=n.t0.protect.call(n.t0,n.t1,n.t2,n.t3),m=f.tokenA,x=f.amountA,g=f.tokenB,h=f.amountB,y=f.time,j=o.tokenEq(m,g),T=!j,o.assert(T,{at:"./atomicTransfer.rsh:40:15:application",fs:["at ./atomicTransfer.rsh:38:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:38:15:function exp)"],msg:null,who:"Alice"}),n.next=28,c.sendrecv({args:[m,x,g,h,y],evt_cnt:5,funcNum:0,lct:o.checkedBigNumberify("./atomicTransfer.rsh:42:7:dot",o.UInt_max,0),onlyIf:!0,out_tys:[d,l,d,l,l],pay:[o.checkedBigNumberify("./atomicTransfer.rsh:decimal",o.UInt_max,0),[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,a,i,c,l,d;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},a=Object(r.a)(e.data,5),i=a[0],a[1],c=a[2],a[3],a[4],e.secs,e.time,e.didSend,e.from,l=o.tokenEq(i,c),d=!l,o.assert(d,{at:"./atomicTransfer.rsh:42:7:dot",fs:[],msg:null,who:"Alice"}),t.txns.push({amt:o.checkedBigNumberify("<builtin>",o.UInt_max,0),kind:"init",tok:i}),t.txns.push({amt:o.checkedBigNumberify("<builtin>",o.UInt_max,0),kind:"init",tok:c}),t.txns.push({amt:o.checkedBigNumberify("./atomicTransfer.rsh:decimal",o.UInt_max,0),kind:"to",tok:void 0}),t.isHalt=!1,n.abrupt("return",t);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[d,l,d,l,l],waitIfNotPresent:!1});case 28:return O=n.sent,v=Object(r.a)(O.data,5),k=v[0],w=v[1],A=v[2],_=v[3],S=v[4],O.secs,N=O.time,O.didSend,E=O.from,C=o.tokenEq(k,A),R=!C,o.assert(R,{at:"./atomicTransfer.rsh:42:7:dot",fs:[],msg:null,who:"Alice"}),n.next=38,c.sendrecv({args:[E,k,w,A,_,S],evt_cnt:0,funcNum:1,lct:N,onlyIf:!0,out_tys:[],pay:[o.checkedBigNumberify("./atomicTransfer.rsh:44:7:dot",o.UInt_max,0),[[w,k]]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r,i,c;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),r=e.secs,e.time,e.didSend,i=e.from,t.txns.push({amt:o.checkedBigNumberify("./atomicTransfer.rsh:44:7:dot",o.UInt_max,0),kind:"to",tok:void 0}),t.txns.push({amt:w,kind:"to",tok:k}),c=o.addressEq(E,i),o.assert(c,{at:"./atomicTransfer.rsh:44:7:dot",fs:[],msg:"sender correct",who:"Alice"}),o.add(r,S),t.isHalt=!1,n.abrupt("return",t);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[b,d,l,d,l,l],waitIfNotPresent:!1});case 38:return I=n.sent,Object(a.a)(I.data),P=I.secs,F=I.time,I.didSend,B=I.from,D=o.addressEq(E,B),o.assert(D,{at:"./atomicTransfer.rsh:44:7:dot",fs:[],msg:"sender correct",who:"Alice"}),L=o.add(P,S),n.next=47,c.recv({didSend:!1,evt_cnt:0,funcNum:2,out_tys:[],timeoutAt:["secs",L],waitIfNotPresent:!1});case 47:if(!(Z=n.sent).didTimeout){n.next=67;break}return n.next=51,c.sendrecv({args:[E,k,w,A,_,L],evt_cnt:0,funcNum:3,lct:F,onlyIf:!0,out_tys:[],pay:[o.checkedBigNumberify("./atomicTransfer.rsh:decimal",o.UInt_max,0),[]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r,i;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),e.secs,e.time,e.didSend,r=e.from,t.txns.push({amt:o.checkedBigNumberify("./atomicTransfer.rsh:decimal",o.UInt_max,0),kind:"to",tok:void 0}),i=o.addressEq(E,r),o.assert(i,{at:"./atomicTransfer.rsh:53:15:dot",fs:[],msg:"sender correct",who:"Alice"}),t.txns.push({amt:w,kind:"from",to:E,tok:k}),t.txns.push({kind:"halt",tok:A}),t.txns.push({kind:"halt",tok:k}),t.txns.push({kind:"halt",tok:void 0}),t.isHalt=!0,n.abrupt("return",t);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:void 0,tys:[b,d,l,d,l,l],waitIfNotPresent:!1});case 51:return M=n.sent,Object(a.a)(M.data),M.secs,M.time,M.didSend,z=M.from,U=o.addressEq(E,z),o.assert(U,{at:"./atomicTransfer.rsh:53:15:dot",fs:[],msg:"sender correct",who:"Alice"}),n.t4=o,n.t5=p,n.next=61,t.seeTimeout();case 61:return n.t6=n.sent,n.t7={at:"./atomicTransfer.rsh:55:51:application",fs:["at ./atomicTransfer.rsh:55:17:application call to [unknown function] (defined at: ./atomicTransfer.rsh:55:29:function exp)"],msg:"seeTimeout",who:"Alice"},n.t4.protect.call(n.t4,n.t5,n.t6,n.t7),n.abrupt("return");case 67:return Object(a.a)(Z.data),Z.secs,Z.time,Z.didSend,Z.from,n.t8=o,n.t9=p,n.next=76,t.seeTransfer();case 76:return n.t10=n.sent,n.t11={at:"./atomicTransfer.rsh:61:44:application",fs:["at ./atomicTransfer.rsh:61:9:application call to [unknown function] (defined at: ./atomicTransfer.rsh:61:21:function exp)"],msg:"seeTransfer",who:"Alice"},n.t8.protect.call(n.t8,n.t9,n.t10,n.t11),n.abrupt("return");case 80:case"end":return n.stop()}}),n)}))),b.apply(this,arguments)}function f(n,e){return m.apply(this,arguments)}function m(){return m=Object(i.a)(s.mark((function n(e,t){var c,o,l,d,u,p,b,f,m,x,g,h,y,j,T,O,v,k,w,A,_,S,N,E,C,R,I,P,F;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("object"===typeof e&&void 0!==e._initialize){n.next=2;break}return n.abrupt("return",Promise.reject(new Error("The backend for Bob expects to receive a contract as its first argument.")));case 2:if("object"===typeof t){n.next=4;break}return n.abrupt("return",Promise.reject(new Error("The backend for Bob expects to receive an interact object as its second argument.")));case 4:return c=e._initialize(),o=c.stdlib,l=o.T_Token,d=o.T_UInt,u=o.T_Bool,p=o.T_Null,b=o.T_Address,n.next=13,c.recv({didSend:!1,evt_cnt:5,funcNum:0,out_tys:[l,d,l,d,d],timeoutAt:void 0,waitIfNotPresent:!1});case 13:return f=n.sent,m=Object(r.a)(f.data,5),x=m[0],g=m[1],h=m[2],y=m[3],j=m[4],f.secs,f.time,f.didSend,T=f.from,O=o.tokenEq(x,h),v=!O,o.assert(v,{at:"./atomicTransfer.rsh:42:7:dot",fs:[],msg:null,who:"Bob"}),n.next=23,c.recv({didSend:!1,evt_cnt:0,funcNum:1,out_tys:[],timeoutAt:void 0,waitIfNotPresent:!1});case 23:return k=n.sent,Object(a.a)(k.data),w=k.secs,A=k.time,k.didSend,_=k.from,S=o.addressEq(T,_),o.assert(S,{at:"./atomicTransfer.rsh:44:7:dot",fs:[],msg:"sender correct",who:"Bob"}),N=o.add(w,j),E={amountA:g,amountB:y,time:j,tokenA:x,tokenB:h},n.t0=o,n.t1=u,n.next=35,t.accSwap(E);case 35:return n.t2=n.sent,n.t3={at:"./atomicTransfer.rsh:48:50:application",fs:["at ./atomicTransfer.rsh:47:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:47:15:function exp)"],msg:"accSwap",who:"Bob"},C=n.t0.protect.call(n.t0,n.t1,n.t2,n.t3),n.next=40,c.sendrecv({args:[T,x,g,h,y,N],evt_cnt:0,funcNum:2,lct:A,onlyIf:C,out_tys:[],pay:[o.checkedBigNumberify("./atomicTransfer.rsh:50:7:dot",o.UInt_max,0),[[y,h]]],sim_p:function(){var n=Object(i.a)(s.mark((function n(e){var t,r;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={txns:[],mapRefs:[],mapsPrev:[],mapsNext:[]},Object(a.a)(e.data),e.secs,e.time,e.didSend,r=e.from,t.txns.push({amt:o.checkedBigNumberify("./atomicTransfer.rsh:50:7:dot",o.UInt_max,0),kind:"to",tok:void 0}),t.txns.push({amt:y,kind:"to",tok:h}),t.txns.push({amt:y,kind:"from",to:T,tok:h}),t.txns.push({amt:g,kind:"from",to:r,tok:x}),t.txns.push({kind:"halt",tok:h}),t.txns.push({kind:"halt",tok:x}),t.txns.push({kind:"halt",tok:void 0}),t.isHalt=!0,n.abrupt("return",t);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),soloSend:!0,timeoutAt:["secs",N],tys:[b,l,d,l,d,d],waitIfNotPresent:!1});case 40:if(!(R=n.sent).didTimeout){n.next=60;break}return n.next=44,c.recv({didSend:!1,evt_cnt:0,funcNum:3,out_tys:[],timeoutAt:void 0,waitIfNotPresent:!1});case 44:return I=n.sent,Object(a.a)(I.data),I.secs,I.time,I.didSend,P=I.from,F=o.addressEq(T,P),o.assert(F,{at:"./atomicTransfer.rsh:53:15:dot",fs:[],msg:"sender correct",who:"Bob"}),n.t4=o,n.t5=p,n.next=54,t.seeTimeout();case 54:return n.t6=n.sent,n.t7={at:"./atomicTransfer.rsh:55:51:application",fs:["at ./atomicTransfer.rsh:55:17:application call to [unknown function] (defined at: ./atomicTransfer.rsh:55:29:function exp)"],msg:"seeTimeout",who:"Bob"},n.t4.protect.call(n.t4,n.t5,n.t6,n.t7),n.abrupt("return");case 60:return Object(a.a)(R.data),R.secs,R.time,R.didSend,R.from,n.t8=o,n.t9=p,n.next=69,t.seeTransfer();case 69:return n.t10=n.sent,n.t11={at:"./atomicTransfer.rsh:61:44:application",fs:["at ./atomicTransfer.rsh:61:9:application call to [unknown function] (defined at: ./atomicTransfer.rsh:61:21:function exp)"],msg:"seeTransfer",who:"Bob"},n.t8.protect.call(n.t8,n.t9,n.t10,n.t11),n.abrupt("return");case 73:case"end":return n.stop()}}),n)}))),m.apply(this,arguments)}var x={ALGO:{appApproval:'#pragma version 5\ntxn RekeyTo\nglobal ZeroAddress\n==\nassert\ntxn Lease\nglobal ZeroAddress\n==\nassert\nint 0\nstore 0\ntxn ApplicationID\nbz alloc\nbyte base64()\napp_global_get\ndup\nint 0\nextract_uint64\nstore 1\ndup\nint 8\nextract_uint64\nstore 2\nextract 16 32\nstore 3\ntxn NumAppArgs\nint 3\n==\nassert\ntxna ApplicationArgs 0\nbtoi\npreamble:\n// Handler 0\ndup\nint 0\n==\nbz l0_afterHandler0\npop\n// check step\nint 0\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nbyte base64()\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 72\n==\nassert\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxn Sender\nglobal CreatorAddress\n==\nassert\nload 255\nstore 3\n// "CheckPay"\n// "./atomicTransfer.rsh:42:7:dot"\n// "[]"\nint 100000\ndup\nbz l1_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl1_checkTxnK:\npop\n// Nothing\n// "./atomicTransfer.rsh:42:7:dot"\n// "[]"\nload 254\nload 252\n==\n!\nassert\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl2_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl3_checkTxnK:\npop\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl4_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl5_checkTxnK:\npop\n// "CheckPay"\n// "./atomicTransfer.rsh:42:7:dot"\n// "[]"\ntxn Sender\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nload 250\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 72\napp_global_put\npop\nint 1\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl0_afterHandler0:\n// Handler 1\ndup\nint 1\n==\nbz l6_afterHandler1\npop\n// check step\nint 1\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\n// "CheckPay"\n// "./atomicTransfer.rsh:44:7:dot"\n// "[]"\n// "CheckPay"\n// "./atomicTransfer.rsh:44:7:dot"\n// "[]"\nload 253\ndup\nbz l7_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl7_checkTxnK:\npop\n// Just "sender correct"\n// "./atomicTransfer.rsh:44:7:dot"\n// "[]"\nload 255\ntxn Sender\n==\nassert\nglobal LatestTimestamp\nload 250\n+\nstore 249\nload 255\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nload 249\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 72\napp_global_put\npop\nint 2\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl6_afterHandler1:\n// Handler 2\ndup\nint 2\n==\nbz l8_afterHandler2\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 250\n<\nassert\n// "CheckPay"\n// "./atomicTransfer.rsh:50:7:dot"\n// "[]"\n// "CheckPay"\n// "./atomicTransfer.rsh:50:7:dot"\n// "[]"\nload 251\ndup\nbz l9_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl9_checkTxnK:\npop\nload 251\ndup\nbz l10_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl10_checkTxnK:\npop\nload 253\ndup\nbz l11_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\ntxn Sender\ndig 1\ngtxns AssetReceiver\n==\nassert\nl11_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl12_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl13_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl14_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl8_afterHandler2:\n// Handler 3\ndup\nint 3\n==\nbz l15_afterHandler3\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 250\n>=\nassert\n// "CheckPay"\n// "./atomicTransfer.rsh:53:15:dot"\n// "[]"\n// Just "sender correct"\n// "./atomicTransfer.rsh:53:15:dot"\n// "[]"\nload 255\ntxn Sender\n==\nassert\nload 253\ndup\nbz l16_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl16_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl17_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl18_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl19_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl15_afterHandler3:\nint 0\nassert\nupdateState:\nbyte base64()\nload 1\nitob\nload 2\nitob\nload 3\nconcat\nconcat\napp_global_put\ncheckSize:\nload 0\ndup\ndup\nint 1\n+\nglobal GroupSize\n==\nassert\ntxn GroupIndex\n==\nassert\nint 1000\n*\ntxn Fee\n<=\nassert\ndone:\nint 1\nreturn\nalloc:\ntxn OnCompletion\nint NoOp\n==\nassert\nint 0\nstore 1\nint 0\nstore 2\nglobal ZeroAddress\nstore 3\nb updateState\n',appClear:"#pragma version 5\nint 0\n",escrow:"#pragma version 5\nglobal GroupSize\nint 1\n-\ndup\ngtxns TypeEnum\nint appl\n==\nassert\ngtxns ApplicationID\nint {{ApplicationID}}\n==\nassert\ndone:\nint 1\n",mapDataKeys:0,mapDataSize:0,stateKeys:1,stateSize:72,unsupported:[],version:5},ETH:{ABI:'[\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "components": [\n              {\n                "internalType": "address payable",\n                "name": "v119",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v120",\n                "type": "uint256"\n              },\n              {\n                "internalType": "address payable",\n                "name": "v121",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v122",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v123",\n                "type": "uint256"\n              }\n            ],\n            "internalType": "struct T1",\n            "name": "msg",\n            "type": "tuple"\n          }\n        ],\n        "internalType": "struct T2",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "stateMutability": "payable",\n    "type": "constructor"\n  },\n  {\n    "inputs": [\n      {\n        "internalType": "uint256",\n        "name": "msg",\n        "type": "uint256"\n      }\n    ],\n    "name": "ReachError",\n    "type": "error"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "components": [\n              {\n                "internalType": "address payable",\n                "name": "v119",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v120",\n                "type": "uint256"\n              },\n              {\n                "internalType": "address payable",\n                "name": "v121",\n                "type": "address"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v122",\n                "type": "uint256"\n              },\n              {\n                "internalType": "uint256",\n                "name": "v123",\n                "type": "uint256"\n              }\n            ],\n            "internalType": "struct T1",\n            "name": "msg",\n            "type": "tuple"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T2",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e0",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e1",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e2",\n    "type": "event"\n  },\n  {\n    "anonymous": false,\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "indexed": false,\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "e3",\n    "type": "event"\n  },\n  {\n    "stateMutability": "payable",\n    "type": "fallback"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCurrentState",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      },\n      {\n        "internalType": "bytes",\n        "name": "",\n        "type": "bytes"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [],\n    "name": "_reachCurrentTime",\n    "outputs": [\n      {\n        "internalType": "uint256",\n        "name": "",\n        "type": "uint256"\n      }\n    ],\n    "stateMutability": "view",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m1",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m2",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "inputs": [\n      {\n        "components": [\n          {\n            "internalType": "uint256",\n            "name": "time",\n            "type": "uint256"\n          },\n          {\n            "internalType": "bool",\n            "name": "msg",\n            "type": "bool"\n          }\n        ],\n        "internalType": "struct T5",\n        "name": "_a",\n        "type": "tuple"\n      }\n    ],\n    "name": "m3",\n    "outputs": [],\n    "stateMutability": "payable",\n    "type": "function"\n  },\n  {\n    "stateMutability": "payable",\n    "type": "receive"\n  }\n]',Bytecode:"0x60806040526040516200101438038062001014833981016040819052620000269162000303565b60008055604080518251815260208084015180516001600160a01b0390811683850152918101518385015292830151166060808301919091528201516080808301919091529091015160a08201527f2f2e1b322fe4c931a7f65952bbed29e8a203ee40710e6e8d285f2761f1205be19060c00160405180910390a1602081015160408101519051620000d8916001600160a01b03918216911614620000cd576001620000d0565b60005b6007620001df565b620000e634156008620001df565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a08101919091523380825260208381018051516001600160a01b0390811683860190815282518401516040808801918252845181015184166060808a0191825286518101516080808c01918252975188015160a0808d019182526001600081905543905585519a8b019b909b5295518716938901939093529251928701929092529051909216928401929092525192820192909252905160c082015260e00160405160208183030381529060405260029080519060200190620001d692919062000209565b505050620003fb565b81620002055760405163100960cb60e01b81526004810182905260240160405180910390fd5b5050565b8280546200021790620003be565b90600052602060002090601f0160209004810192826200023b576000855562000286565b82601f106200025657805160ff191683800117855562000286565b8280016001018555821562000286579182015b828111156200028657825182559160200191906001019062000269565b506200029492915062000298565b5090565b5b8082111562000294576000815560010162000299565b60405160a081016001600160401b0381118282101715620002e057634e487b7160e01b600052604160045260246000fd5b60405290565b80516001600160a01b0381168114620002fe57600080fd5b919050565b600081830360c08112156200031757600080fd5b604080519081016001600160401b03811182821017156200034857634e487b7160e01b600052604160045260246000fd5b6040528351815260a0601f19830112156200036257600080fd5b6200036c620002af565b91506200037c60208501620002e6565b8252604084015160208301526200039660608501620002e6565b6040830152608084810151606084015260a09094015193820193909352602083015250919050565b600181811c90821680620003d357607f821691505b60208210811415620003f557634e487b7160e01b600052602260045260246000fd5b50919050565b610c09806200040b6000396000f3fe60806040526004361061004b5760003560e01c80637963168e146100545780638323075714610067578063ab53f2c61461008a578063f147248d146100ad578063fd948b86146100c057005b3661005257005b005b6100526100623660046109b7565b6100d3565b34801561007357600080fd5b506001546040519081526020015b60405180910390f35b34801561009657600080fd5b5061009f610330565b6040516100819291906109ff565b6100526100bb3660046109b7565b6103cd565b6100526100ce3660046109b7565b61053a565b6100e3600160005414600c6106a4565b6100fd813515806100f657506001548235145b600d6106a4565b60008080556002805461010f90610a39565b80601f016020809104026020016040519081016040528092919081815260200182805461013b90610a39565b80156101885780601f1061015d57610100808354040283529160200191610188565b820191906000526020600020905b81548152906001019060200180831161016b57829003601f168201915b50505050508060200190518101906101a09190610b25565b90506101b86040518060200160405280600081525090565b7f9f41c6cf17ede288cbb2cfbbafdd05b2b2025dea3b047cdb79dbc892d7a9286d836040516101e79190610b4f565b60405180910390a16101fb341560096106a4565b61021861021133846020015185604001516106ca565b600a6106a4565b8151610230906001600160a01b03163314600b6106a4565b60a082015161023f9042610b74565b81526040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915282516001600160a01b0390811680835260208086015183168185019081526040808801518187019081526060808a015187168189019081526080808c0151818b019081528b5160a0808d019182526002600055436001558751998a019a909a5296518a16958801959095529251918601919091525190951694830194909452925191810191909152905160c082015260e001604051602081830303815290604052600290805190602001906103299291906108e1565b5050505050565b60006060600054600280805461034590610a39565b80601f016020809104026020016040519081016040528092919081815260200182805461037190610a39565b80156103be5780601f10610393576101008083540402835291602001916103be565b820191906000526020600020905b8154815290600101906020018083116103a157829003601f168201915b50505050509050915091509091565b6103dd60026000541460156106a4565b6103f7813515806103f057506001548235145b60166106a4565b60008080556002805461040990610a39565b80601f016020809104026020016040519081016040528092919081815260200182805461043590610a39565b80156104825780601f1061045757610100808354040283529160200191610482565b820191906000526020600020905b81548152906001019060200180831161046557829003601f168201915b505050505080602001905181019061049a9190610b25565b90506104ae8160a0015142101560176106a4565b7fe92d4e1229145c13e718fdc692a322df4a6700c6bebac0841f0e9f44c56a1529826040516104dd9190610b4f565b60405180910390a16104f1341560136106a4565b8051610509906001600160a01b0316331460146106a4565b6105208160200151826000015183604001516106e2565b6000808055600181905561053690600290610965565b5050565b61054a60026000541460106106a4565b6105648135158061055d57506001548235145b60116106a4565b60008080556002805461057690610a39565b80601f01602080910402602001604051908101604052809291908181526020018280546105a290610a39565b80156105ef5780601f106105c4576101008083540402835291602001916105ef565b820191906000526020600020905b8154815290600101906020018083116105d257829003601f168201915b50505050508060200190518101906106079190610b25565b905061061a8160a00151421060126106a4565b7fe0777bbb0edbebd8a5c254bf54fd955256e9bf9fb0fe4138cd88ac193a101d15826040516106499190610b4f565b60405180910390a161065d3415600e6106a4565b61067a61067333836060015184608001516106ca565b600f6106a4565b6106918160600151826000015183608001516106e2565b61052081602001513383604001516106e2565b816105365760405163100960cb60e01b8152600481018290526024015b60405180910390fd5b60006106d8838530856106fb565b90505b9392505050565b6106ed8383836107d5565b6106f657600080fd5b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392839291891691839161076291610b9a565b60006040518083038185875af1925050503d806000811461079f576040519150601f19603f3d011682016040523d82523d6000602084013e6107a4565b606091505b50915091506107b5828260016108a6565b50808060200190518101906107ca9190610bb6565b979650505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392839291881691839161083491610b9a565b60006040518083038185875af1925050503d8060008114610871576040519150601f19603f3d011682016040523d82523d6000602084013e610876565b606091505b5091509150610887828260026108a6565b508080602001905181019061089c9190610bb6565b9695505050505050565b606083156108b55750816106db565b8251156108c55782518084602001fd5b60405163100960cb60e01b8152600481018390526024016106c1565b8280546108ed90610a39565b90600052602060002090601f01602090048101928261090f5760008555610955565b82601f1061092857805160ff1916838001178555610955565b82800160010185558215610955579182015b8281111561095557825182559160200191906001019061093a565b506109619291506109a2565b5090565b50805461097190610a39565b6000825580601f10610981575050565b601f01602090049060005260206000209081019061099f91906109a2565b50565b5b8082111561096157600081556001016109a3565b6000604082840312156109c957600080fd5b50919050565b60005b838110156109ea5781810151838201526020016109d2565b838111156109f9576000848401525b50505050565b8281526040602082015260008251806040840152610a248160608501602087016109cf565b601f01601f1916919091016060019392505050565b600181811c90821680610a4d57607f821691505b602082108114156109c957634e487b7160e01b600052602260045260246000fd5b80516001600160a01b0381168114610a8557600080fd5b919050565b600060c08284031215610a9c57600080fd5b60405160c0810181811067ffffffffffffffff82111715610acd57634e487b7160e01b600052604160045260246000fd5b604052905080610adc83610a6e565b8152610aea60208401610a6e565b602082015260408301516040820152610b0560608401610a6e565b60608201526080830151608082015260a083015160a08201525092915050565b600060c08284031215610b3757600080fd5b6106db8383610a8a565b801515811461099f57600080fd5b81358152604081016020830135610b6581610b41565b80151560208401525092915050565b60008219821115610b9557634e487b7160e01b600052601160045260246000fd5b500190565b60008251610bac8184602087016109cf565b9190910192915050565b600060208284031215610bc857600080fd5b81516106db81610b4156fea264697066735822122060607901dd6f2ff95f853c8510fc6e9c714a4f783c6608cbf95d8c98823a068364736f6c63430008090033",BytecodeLen:4116,Which:"oD",version:4,views:{}}},g={Alice:p,Bob:f},h={}},300:function(n,e){},338:function(n,e){},340:function(n,e){},350:function(n,e){},352:function(n,e){},378:function(n,e){},380:function(n,e){},381:function(n,e){},386:function(n,e){},388:function(n,e){},394:function(n,e){},396:function(n,e){},415:function(n,e){},427:function(n,e){},430:function(n,e){},433:function(n,e){},434:function(n,e){},440:function(n){n.exports=JSON.parse('{"ipfsGateway":"https://cloudflare-ipfs.com/ipfs/","blockExplorer":"https://testnet.algoexplorer.io/","algod":"https://testnet.algoexplorerapi.io","network":"TestNet"}')},447:function(n,e,t){},448:function(n,e,t){"use strict";t.r(e);var a,s=t(12),r=t.n(s),i=t(259),c=t.n(i);!function(n){n.START="Start",n.LIBRARY="Library",n.TEST="Test"}(a||(a={}));var o,l,d=t(43),u=t(16),p=t(3),b=Object(s.createContext)({}),f=function(n){var e=Object(s.useState)({view:a.START,darkMode:!0}),t=Object(u.a)(e,2),r=t[0],i=t[1];return Object(p.jsx)(b.Provider,{value:{settings:r,set:function(n,e){i((function(t){return Object.assign({},t,Object(d.a)({},n,e))}))}},children:n.children})},m=b,x=t(0),g=t.n(x),h=t(7),y=t(36),j=t(260),T=(t(282),function(n){return Object(p.jsx)("div",{onClick:n.outClick,className:"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-70",children:Object(p.jsx)("div",{className:" rounded-xl  bg-indigo-800 shadow-lg self-center flex flex-col justify-center overflow-x-hidden",style:{zIndex:-1,height:"80%"},onClick:function(n){n.stopPropagation()},children:n.children})})}),O=function(n){return Object(p.jsx)(T,{outClick:n.close,children:Object(p.jsx)(v,{src:n.src,extraStyle:"h-full",nested:!0})})},v=function(n){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(!1),c=Object(u.a)(i,2),o=c[0],l=c[1],d=Object(s.useState)(!1),b=Object(u.a)(d,2),f=b[0],m=b[1],x=function(){n.nested||m(!0)};return Object(p.jsxs)(p.Fragment,{children:[o?Object(p.jsx)("p",{onClick:x,className:"syne text-2xl p-5 align-middle text-center",children:n.src}):a?Object(p.jsx)("video",{onClick:x,className:n.extraStyle,src:n.src,onError:function(n){l(!0)}}):Object(p.jsx)("img",{onClick:x,className:n.extraStyle,src:n.src,alt:"",onError:function(n){r(!0)}}),f&&Object(p.jsx)(O,{src:n.src,close:function(){return m(!1)}})]})},k=t(261),w=t.n(k),A=t(262),_=t.n(A),S=t(19),N=t(110),E=t(118),C=t(273),R=t(440),I=t(117),P=function(n){return Object(p.jsx)("div",{onClick:n.outClick,className:"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-70",children:Object(p.jsx)("div",{className:" w-10/12 sm:w-9/12 md:w-8/12 lg:w-7/12  xl:w-5/12  bg-indigo-800 rounded-xl  self-center shadow-xl p-4  flex flex-col  justify-center  overflow-y-auto overflow-x-hidden",style:{maxHeight:"70vh"},onClick:function(n){n.stopPropagation()},children:n.children})})},F=function(n){var e,t;return Object(p.jsxs)("div",{className:"flex flex-col md:inline-flex md:flex-row md:w-full my-3",children:[Object(p.jsx)("label",{htmlFor:n.label+"-inp",className:"text-center md:text-left syne self-center px-4 py-2 text-lg text-white",children:n.label}),Object(p.jsx)("input",{disabled:null!==(e=n.disabled)&&void 0!==e&&e,id:n.label+"-inp",name:n.label+"-inp",type:null!==(t=n.type)&&void 0!==t?t:"text",value:n.st,onChange:function(e){return n.setSt(e.target.value)},placeholder:n.placeholder,className:"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md anaheim flex-grow"})]})},B=function(n){var e="w-5 h-5 self-center rounded shadow-lg "+(n.disabled?"bg-gray-300":"bg-white");return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{htmlFor:"check-inp",className:"text-center md:text-left syne self-center px-4 py-2 text-lg text-white",children:n.label}),Object(p.jsx)("div",{onClick:function(e){console.log("onClick"),n.disabled||n.setSt(!n.st)},className:e,children:n.st&&Object(p.jsx)("span",{className:"material-icons select-none relative text-sm",children:"done"})})]})},D=function(n){var e,t="px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md text-center anaheim flex-grow"+(n.disabled?" bg-gray-300":"");return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"flex flex-col md:inline-flex md:flex-row md:w-full my-3",children:[Object(p.jsx)("label",{htmlFor:n.label+"-inp",className:"text-center md:text-left syne self-center px-4 py-2 text-lg text-white",children:n.label}),Object(p.jsx)("input",{disabled:null!==(e=n.disabled)&&void 0!==e&&e,id:n.label+"-inp",name:n.label+"-inp",type:"number",step:"0.001",value:n.st,onChange:function(e){return n.setSt(e.target.value)},placeholder:n.placeholder,className:t}),Object(p.jsx)("p",{className:"px-3 py-2 rounded-2xl syne text-white text-center",children:n.tokens?"TOKENS":"ALGO"})]})})},L=function(n){var e;switch(n.type){case"success":e="bg-green-700";break;case"alert":e="bg-red-700";break;case"warning":e="bg-yellow-700";break;case"info":e="bg-blue-500";break;default:e="bg-gray-800"}var t=e+" rounded-lg shadow-xl p-3 inline-flex w-full";return Object(p.jsx)("div",{className:"mx-5 my-4",children:Object(p.jsxs)("div",{className:t,children:[Object(p.jsx)("span",{className:"material-icons text-white self-center",children:"info"===n.type?"info_outline":"warning_amber"}),Object(p.jsx)("p",{className:"syne text-white text-lg text-center flex-grow mx-4",children:n.children})]})})},Z=function(n){return Object(p.jsx)("p",{className:"text-5xl syne text-center mt-3 mb-6 shadow-sm text-white",children:n.title})},M=function(n){var e="open"===n.state?"bg-green-800":"closed"===n.state?"bg-gray-800":"restricted"===n.state?"bg-red-800":"bg-indigo-800";return Object(p.jsx)("button",{className:"shadow-lg rounded-2xl py-4 px-5 h-full syne text-white "+e,onClick:n.onClick,children:n.txt})},z=t(254),U=t(255),K=Object(I.loadStdlib)("ALGO");function H(n,e){switch(e.type){case o.MAKE_READY:return Object(S.a)(Object(S.a)({},n),{},{ready:!0});case o.PROCEED_STEP:return Object(S.a)(Object(S.a)({},n),{},{step:n.step+1,ready:!1});case o.TIME_OUT:return Object(S.a)(Object(S.a)({},n),{},{timeout:!0});case o.ERROR_OUT:return Object(S.a)(Object(S.a)({},n),{},{error:!0});case o.CLEAR_ERRORS:return Object(S.a)(Object(S.a)({},n),{},{error:!1,timeout:!1});case o.SET_ACCOUNT:if(null==e.payload)throw new Error("Account payload is falsy");return Object(S.a)(Object(S.a)({},n),{},{account:e.payload,ready:!0});case o.SET_CONTRACT_TYPE:if(null==e.payload)throw new Error("Contract type payload is falsy");return Object(S.a)(Object(S.a)({},n),{},{contractType:e.payload});case o.SET_APPID:if(null==e.payload)throw new Error("App ID payload is falsy");return Object(S.a)(Object(S.a)({},n),{},{appId:e.payload});default:return n}}!function(n){n[n.MAKE_READY=0]="MAKE_READY",n[n.PROCEED_STEP=1]="PROCEED_STEP",n[n.ERROR_OUT=2]="ERROR_OUT",n[n.TIME_OUT=3]="TIME_OUT",n[n.CLEAR_ERRORS=4]="CLEAR_ERRORS",n[n.SET_ACCOUNT=5]="SET_ACCOUNT",n[n.SET_CONTRACT_TYPE=6]="SET_CONTRACT_TYPE",n[n.SET_APPID=7]="SET_APPID"}(o||(o={})),function(n){n[n.SAFE=0]="SAFE",n[n.ATOMIC=1]="ATOMIC"}(l||(l={}));var W={step:0,ready:!1,timeout:!1,error:!1,account:null,swap:null},J=function(n){switch(n.state.step){case 0:return Object(p.jsx)(Y,{state:n.state,dispatch:n.dispatch});case 1:return Object(p.jsx)(q,{dispatch:n.dispatch,nftId:n.nftId,state:n.state,transferDetails:n.transferDetails,setTransferDetails:n.setTransferDetails});case 2:return Object(p.jsx)(X,{nftId:n.nftId,state:n.state,dispatch:n.dispatch,transferDetails:n.transferDetails,setTransferDetails:n.setTransferDetails});case 3:return Object(p.jsx)(G,{state:n.state,dispatch:n.dispatch});case 4:return Object(p.jsx)(V,{});default:return Object(p.jsx)("div",{})}},Y=function(n){var e=n.dispatch,t=function(){return e({type:o.ERROR_OUT})},a=function(n){return e({type:o.SET_ACCOUNT,payload:n})},s=function(){var n=Object(h.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,K.setWalletFallback(K.walletFallback({providerEnv:R.network,MyAlgoConnect:N.a})),n.t0=a,n.next=5,K.getDefaultAccount();case 5:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 9:n.prev=9,n.t2=n.catch(0),console.log(n.t2),t();case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),r=function(){var n=Object(h.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,K.setWalletFallback(K.walletFallback({providerEnv:R.network,WalletConnect:E.a})),n.t0=a,n.next=5,K.getDefaultAccount();case 5:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 9:n.prev=9,n.t2=n.catch(0),console.log(n.t2),t();case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z,{title:"Step 1: Connect Wallet"}),Object(p.jsx)("div",{className:"flex-grow flex flex-col items-center justify-center",children:Object(p.jsxs)("div",{className:"md:w-2/3",children:[Object(p.jsx)("button",{onClick:s,className:"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full",children:"My Algo Wallet"}),Object(p.jsx)("button",{onClick:r,className:"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full",children:"Wallet Connect"})]})})]})},q=function(n){var e=n.nftId,t=(n.state,n.dispatch),a=n.transferDetails,r=n.setTransferDetails;Object(s.useEffect)((function(){t({type:o.MAKE_READY})}),[t]),Object(s.useEffect)((function(){t({type:o.SET_CONTRACT_TYPE,payload:a.withTokens?l.ATOMIC:l.SAFE})}),[t,a.withTokens]);var i=function(n){return function(e){return r(n,e)}},c=function(n){return function(e){return r(n,!a[n])}};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z,{title:"Step 2: Set Transfer Details"}),Object(p.jsxs)("p",{className:"text-center text-2xl syne my-4",children:["NFT ID: ",e]}),Object(p.jsxs)("div",{className:"inline-flex justify-center w-full my-3",children:[Object(p.jsx)(B,{st:a.free,setSt:c("free"),label:"Free"}),Object(p.jsx)("div",{className:"w-2 sm:w-8 lg:w-16"}),Object(p.jsx)(B,{st:a.withTokens,setSt:c("withTokens"),label:"Use ASA",disabled:a.free})]}),Object(p.jsx)(F,{label:"Token ID",placeholder:"ID of the ASA",st:a.tokenId,setSt:i("tokenId"),type:"number",disabled:!a.withTokens||a.free}),Object(p.jsx)(F,{label:"Timeout",placeholder:"ID of the ASA",st:a.timeout,setSt:i("timeout"),type:"number"}),Object(p.jsx)(D,{st:a.amount,setSt:i("amount"),placeholder:"",label:"Amount",disabled:a.free,tokens:a.withTokens})]})},X=function(n){var e=n.nftId,t=n.state,a=n.dispatch,s=n.transferDetails,r=(n.setTransferDetails,function(){return a({type:o.PROCEED_STEP})}),i=function(){var n=Object(h.a)(g.a.mark((function n(){var i,c,l,d;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i={seeTimeout:function(){a({type:o.TIME_OUT})},seeTransfer:function(){r()},getSwap:function(){return s.withTokens?{tokenA:e,amountA:1,tokenB:s.tokenId,amountB:s.amount,time:s.timeout}:{token:e,amountToken:1,amountAlgo:K.parseCurrency(s.amount),time:s.timeout}}},c=s.withTokens?U:z,n.next=5,t.account.contract(c);case 5:return l=n.sent,console.log("Deployed contract"),c.Alice(l,i),n.next=10,l.getInfo();case 10:d=n.sent,console.log("Got contract info",d),u=(s.withTokens?"a":"s")+d.toString(),a({type:o.SET_APPID,payload:u}),r(),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0),a({type:o.ERROR_OUT});case 20:case"end":return n.stop()}var u}),n,null,[[0,16]])})));return function(){return n.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z,{title:"Step 3: Start the Transfer"}),Object(p.jsx)(L,{type:"warning",children:"This is an experimental feature, your funds may be lost forever."}),Object(p.jsx)("div",{className:"flex-grow flex flex-col items-center justify-center",children:Object(p.jsx)("button",{onClick:i,className:"px-5 py-4 shadow-lg rounded-lg bg-green-800 syne text-white",children:"I know the risks, start the transfer"})})]})},G=function(n){var e,t=n.state,a=n.dispatch;Object(s.useEffect)((function(){a({type:o.MAKE_READY})}),[a]);var r=Object(s.useState)(!1),i=Object(u.a)(r,2),c=i[0],l=i[1],d=null!==(e=t.appId)&&void 0!==e?e:"-";return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z,{title:"Step 4: Share Contract Info"}),Object(p.jsxs)(L,{type:"info",children:["The recipient will use this information to receive the NFT",Object(p.jsx)("br",{}),'If you somehow lose it, find the application ID from AlgoExplorer and prepend "a" for token sale and "s" for standard sale']}),Object(p.jsxs)("div",{className:"inline-flex justify-evenly syne text-xl",children:[Object(p.jsxs)("p",{className:"self-center text-white",children:["App ID: ",d]}),Object(p.jsx)(C.CopyToClipboard,{text:d,onCopy:function(){l(!0)},children:Object(p.jsx)("button",{className:"rounded-lg shadow-lg p-3 bg-gray-800 text-white hover:bg-gray-700",children:c?"Copied":"Copy"})})]})]})},V=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z,{title:"Step 5: Wait For Transfer"}),Object(p.jsx)(L,{type:"info",children:"You can close the modal now"})]})},Q=function(n){var e=Object(s.useReducer)(H,W),t=Object(u.a)(e,2),a=t[0],r=t[1],i=function(n){var e=Object(s.useState)(n),t=Object(u.a)(e,2),a=t[0],r=t[1];return[a,function(n,e){r(Object(S.a)(Object(S.a)({},a),{},Object(d.a)({},n,e)))}]}({withTokens:!1,tokenId:0,free:!1,amount:0,timeout:60}),c=Object(u.a)(i,2),l=c[0],b=c[1];return a.error?Object(p.jsx)(P,{outClick:function(){r({type:o.CLEAR_ERRORS}),n.close()},children:Object(p.jsxs)("div",{className:"text-2xl text-white text-center p-6 my-6",children:[Object(p.jsx)("span",{className:"material-icons transform scale-150 mb-4",children:"error"}),Object(p.jsxs)("h2",{className:"syne",children:["An error occured while transferring.",Object(p.jsx)("br",{}),"Please refresh and try again."]})]})}):Object(p.jsxs)(P,{outClick:n.close,children:[Object(p.jsx)("div",{style:{minHeight:"40vh"},className:"overflow-y-auto flex flex-col",children:Object(p.jsx)(J,{nftId:n.nftId,closeModal:n.close,state:a,dispatch:r,transferDetails:l,setTransferDetails:b})}),Object(p.jsx)("div",{style:{minHeight:"10vh"},className:" flex justify-around items-center",children:a.ready&&Object(p.jsx)(M,{txt:"Next >",state:"open",onClick:function(){return r({type:o.PROCEED_STEP})}})})]})};var $=function(n){var e=Object(s.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(!1),c=Object(u.a)(i,2),o=c[0],l=c[1],d=function(n){return function(){return l(n)}};Object(s.useEffect)((function(){var e,t,a;r(null!==(e=null===(t=JSON.parse(null!==(a=localStorage.getItem("tags"))&&void 0!==a?a:"{}"))||void 0===t?void 0:t[n.nft.assetId])&&void 0!==e?e:[])}),[]);var b=n.nft.arc3?n.nft.metadata.name:n.nft.name,f=n.nft.owner.slice(0,5)+"..."+n.nft.owner.slice(50),m=n.nft.imgURL();return n.tags.reduce((function(n,e){return n&&a.includes(e)}),!0)?Object(p.jsx)(_.a,{height:400,children:Object(p.jsxs)("div",{className:"ml-2 mb-10 shadow-lg w-md rounded-t bg-indigo-700",style:{height:"min-content"},children:[Object(p.jsx)("div",{className:"mt-2 p-3",children:Object(p.jsx)(v,{src:m,extraStyle:"object-fill w-full"})}),Object(p.jsx)("div",{className:"flex content-center p-2 h-20",children:Object(p.jsxs)("div",{className:"flex flex-col justify-around ml-3 pb-3",children:[Object(p.jsx)("p",{className:"font-sans text-lg font-bold text-white",style:{fontFamily:"'Syne', sans-serif"},children:b}),Object(p.jsxs)("span",{className:"inline-flex",children:[Object(p.jsx)("p",{className:"anaheim text-white mr-1 text-lg font-bold",children:"Owner: "}),Object(p.jsx)("p",{className:"anaheim text-white text-lg italic",children:f})]})]})}),Object(p.jsxs)("div",{className:"w-full flex justify-evenly",children:[Object(p.jsx)("button",{className:"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-gray-800 text-white hover:bg-gray-700",onClick:d(!0),children:"Transfer"}),o&&Object(p.jsx)(Q,{close:d(!1),nftId:n.nft.assetId}),Object(p.jsx)("button",{className:"syne flex-1 ml-1 mr-3 p-2 mb-2 rounded bg-gray-800 text-white hover:bg-gray-700",onClick:function(){var n=window.open("https://testnet.nftjam.net/");n&&(n.opener=null)},children:"Sell"})]}),Object(p.jsx)(w.a,{value:a,onChange:function(e){var t,s=new Set(a),i=new Set(e);if(s!=i){var c=JSON.parse(null!==(t=localStorage.getItem("tags"))&&void 0!==t?t:"{}"),o=Object(y.a)(function(n,e){var t,a=new Set(n),s=Object(j.a)(e);try{for(s.s();!(t=s.n()).done;){var r=t.value;a.delete(r)}}catch(i){s.e(i)}finally{s.f()}return a}(i,s))[0];c.global||(c.global=[]),c[n.nft.assetId]=Object(y.a)(i),o&&!c.global.includes(o)&&c.global.push(o),localStorage.setItem("tags",JSON.stringify(c)),r(Object(y.a)(i))}}})]})}):Object(p.jsx)("div",{})},nn=t(274),en=t.n(nn),tn=t(5),an=t(6),sn=function(){var n=Object(h.a)(g.a.mark((function n(e){var t,a,s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=new Request(e),n.next=4,fetch(t);case 4:return a=n.sent,n.next=7,a.blob();case 7:return s=n.sent,n.t0=JSON,n.next=11,s.text();case 11:return n.t1=n.sent,n.abrupt("return",n.t0.parse.call(n.t0,n.t1));case 15:n.prev=15,n.t2=n.catch(0),console.error("Failed to get Metadata from IPFS:",n.t2);case 18:return n.abrupt("return",new dn);case 19:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e){return n.apply(this,arguments)}}(),rn="@arc3",cn="metadata.json";function on(n){if(!n)return"-";var e=n.split("://");if(e.length<2)return n;switch(e[0]){case"ipfs":return R.ipfsGateway+e[1];case"https":return n}return n}var ln=function(){function n(e,t,a,s,r,i,c,o){Object(tn.a)(this,n),this.url=void 0,this.name=void 0,this.creator=void 0,this.owner=void 0,this.count=void 0,this.assetId=void 0,this.arc3=void 0,this.metadata=void 0,this.assetId=null!==t&&void 0!==t?t:0,this.metadata=e,this.url=null!==s&&void 0!==s?s:"",this.name=null!==a&&void 0!==a?a:"",this.creator=null!==r&&void 0!==r?r:"",this.owner=null!==i&&void 0!==i?i:"",this.count=null!==c&&void 0!==c?c:0,this.arc3=null!==o&&void 0!==o&&o}return Object(an.a)(n,[{key:"imgURL",value:function(){var n=on(this.arc3?this.metadata.image:this.url);return n!==this.metadata.image?n:this.url.endsWith(cn)?on(this.url.substring(0,this.url.length-cn.length))+this.metadata.image:""}}],[{key:"fromAssetId",value:function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn(t);case 2:return a=e.sent,e.abrupt("return",n.fromToken(a));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"fromToken",value:function(){var e=Object(h.a)(g.a.mark((function e(t){var a,s,r,i,c,o,l,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.index,console.log(t.params),s=t.params,r=s.name,i=s.url,c=s.creator,o=s.manager,l=s.total,e.next=5,pn(a,i);case 5:return d=e.sent,e.abrupt("return",new n(d,a,r,i,c,o,l,this.isArc3(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"getType",value:function(n,e,t){}},{key:"isArc3",value:function(n){var e,t;return(null===n||void 0===n||null===(e=n.params)||void 0===e?void 0:e.name)&&(null===n||void 0===n||null===(t=n.params)||void 0===t?void 0:t.name.endsWith(rn))}}]),n}(),dn=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(tn.a)(this,n),this.name="",this.description="",this.image="",this.decimals=0,this.image_integrity="",this.image_mimetype="",this.properties=void 0,Object.assign(this,e)}return Object(an.a)(n,[{key:"toFile",value:function(){var n=new Blob([JSON.stringify(Object(S.a)({},this),null,2)],{type:"application/json"});return new File([n],cn)}},{key:"arc3Name",value:function(){return this.name.substring(0,27)+rn}}]),n}(),un=function(n,e){var t,a=JSON.parse(null!==(t=localStorage.getItem("mds"))&&void 0!==t?t:"{}"),s=Object.assign({},e);return a[n]=Object(S.a)({},s),localStorage.setItem("mds",JSON.stringify(a)),e},pn=function(){var n=Object(h.a)(g.a.mark((function n(e,t){var a,s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((s=JSON.parse(null!==(a=localStorage.getItem("mds"))&&void 0!==a?a:"[]"))[e]){n.next=8;break}return n.t0=un,n.t1=e,n.next=6,sn(on(t));case 6:return n.t2=n.sent,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 8:return n.abrupt("return",new dn(s[e]));case 9:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),bn=new en.a.Algodv2("",R.algod,""),fn=function(){var n=Object(h.a)(g.a.mark((function n(e){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bn.getAssetByID(e).do();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),mn=function(){var n=Object(h.a)(g.a.mark((function n(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bn.accountInformation(e).do();case 2:return t=n.sent,n.abrupt("return",Object.keys(t.assets).filter((function(n){return t.assets[n].amount>0})).map((function(n){return t.assets[n]["asset-id"]})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),xn=function(){var n=Object(h.a)(g.a.mark((function n(e){var t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fn(e);case 2:return t=n.sent,n.next=5,ln.fromToken(t);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),gn=t.p+"static/media/Spinner.1977ba92.svg",hn=t(275),yn=function(n){return Object(p.jsxs)("div",{className:"ml-2 rounded shadow-lg w-md rounded-t bg-indigo-700 opacity-60",style:{height:"min-content"},children:[Object(p.jsx)("div",{className:"mt-2 p-3 rounded",children:Object(p.jsx)("div",{className:"bg-gray-400 animate-pulse",style:{height:n.h+"rem"}})}),Object(p.jsx)("div",{className:"h-20 p-2 m-2 rounded bg-gray-400 animate-pulse"})]})};function jn(){return{width:window.innerWidth}}var Tn,On,vn=function(n,e){var t;return JSON.parse(null!==(t=localStorage.getItem(n))&&void 0!==t?t:e)},kn=function(n,e,t){var a;localStorage.setItem(n,null!==(a=JSON.stringify(e))&&void 0!==a?a:t)},wn=function(n){var e=function(n){var e,t=JSON.parse(null!==(e=localStorage.getItem("tags"))&&void 0!==e?e:"{}");return Object.keys(t).reduce((function(e,a){return"global"===a?e:(null===t||void 0===t?void 0:t[a])?e||t[a].includes(n):e}),!1)},t=function(){var n,t,a;return(null!==(n=null===(t=JSON.parse(null!==(a=localStorage.getItem("tags"))&&void 0!==a?a:"{}"))||void 0===t?void 0:t.global)&&void 0!==n?n:[]).filter(e)}();return Object(p.jsx)("div",{style:{overflow:"hidden",maxHeight:n.show?"500px":"0",transition:"max-height 1s",backgroundColor:"red"},children:Object(p.jsx)("div",{className:"py-3 bg-white flex flex-col ",children:Object(p.jsxs)("div",{className:"mx-40",children:[Object(p.jsx)("h2",{className:"my-3 text-3xl font-semibold anaheim",children:"Filter By Tag"}),Object(p.jsx)("div",{className:"py-1 mb-2 flex flex-row",children:t.length>0?t.map((function(e){return Object(p.jsx)(An,{selected:n.selectedTags.includes(e),fn:n.swSelectedTag(e),tag:e},e)})):Object(p.jsx)("p",{className:"anaheim text-xl font-medium",children:"No Tags"})})]})})})},An=function(n){return Object(p.jsx)("button",{onClick:n.fn,className:n.selected?"syne mr-3 rounded-lg px-3 py-1 text-white bg-gray-800":"syne mr-3 rounded-lg px-3 py-1 text-white bg-indigo-700",children:n.tag})},_n=function(){var n=Object(s.useContext)(m),e=Object(s.useState)(!1),t=Object(u.a)(e,2),r=t[0],i=t[1],c=Object(s.useState)(vn("accounts","[]")),o=Object(u.a)(c,2),l=o[0],d=o[1],b=Object(s.useState)([]),f=Object(u.a)(b,2),x=f[0],j=f[1],T=Object(s.useRef)(x),O=function(n){T.current=n,j(n)},v=Object(s.useState)([]),k=Object(u.a)(v,2),w=k[0],A=k[1],_=Object(s.useRef)(w),S=function(n){_.current=n,A(n)},N=Object(s.useState)(!1),E=Object(u.a)(N,2),C=E[0],R=E[1],I=Object(s.useState)(!1),P=Object(u.a)(I,2),F=(P[0],P[1]),B=Object(s.useState)(!1),D=Object(u.a)(B,2),L=D[0],Z=D[1],M=Object(s.useState)([]),z=Object(u.a)(M,2),U=z[0],K=z[1],H=function(){var n=Object(s.useState)(jn()),e=Object(u.a)(n,2),t=e[0],a=e[1];return Object(s.useEffect)((function(){function n(){a(jn())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),t}(),W=H.width,J=Object(s.useState)(""),Y=Object(u.a)(J,2),q=Y[0],X=Y[1],G=function(n){window.innerHeight+window.scrollY>=document.body.offsetHeight&&_.current.length<T.current.length&&(R(!1),i(!0))},V=function(){var n=Object(h.a)(g.a.mark((function n(e,t){var a,s,r,i;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(a=null!==t&&void 0!==t?t:x).length){n.next=5;break}return console.log("Assets length is 0"),R(!0),n.abrupt("return");case 5:s=[],r=0;case 7:if(!(r<e)){n.next=18;break}if(a[r]){n.next=10;break}return n.abrupt("continue",15);case 10:return n.next=12,xn(a[r]);case 12:i=n.sent,s=[].concat(Object(y.a)(s),[i]),S([].concat(Object(y.a)(_.current),[i]));case 15:r++,n.next=7;break;case 18:O(a.slice(e)),R(!0);case 20:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(s.useEffect)((function(){r&&(V(5),i(!1))}),[r]),Object(s.useEffect)((function(){var n=function(){var n=Object(h.a)(g.a.mark((function n(){var e,t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=[],t=0;case 2:if(!(t<l.length)){n.next=14;break}return n.t0=[],n.t1=Object(y.a)(e),n.t2=y.a,n.next=8,mn(l[t]);case 8:n.t3=n.sent,n.t4=(0,n.t2)(n.t3),e=n.t0.concat.call(n.t0,n.t1,n.t4);case 11:t++,n.next=2;break;case 14:return O(e),console.log({fetchedAssets:e}),n.abrupt("return",e);case 17:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return window.addEventListener("scroll",G),S([]),R(!1),n().then((function(n){return V(5,n)})),function(){window.removeEventListener("scroll",G)}}),[l]),Object(p.jsxs)("div",{className:"h-full w-screen overflow-y-scroll",onScroll:function(n){console.log("Scrolling")},style:{backgroundColor:"#171717"},children:[Object(p.jsxs)("span",{className:"py-10 pl-10 flex flex-col text-center md:inline-flex md:flex-row gap-3 md:gap-0 w-full",children:[Object(p.jsxs)("div",{className:"flex justify-evenly",children:[Object(p.jsx)("button",{onClick:function(){n.set("view",a.START)},children:Object(p.jsx)("span",{className:"material-icons transform scale-150 align-middle mr-4 text-white",children:"chevron_left"})}),Object(p.jsx)("h1",{className:"syne self-center text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white",children:"Your Collection"}),Object(p.jsx)("button",{className:"p-3 self-center bg-indigo-700 hover:bg-red-600 rounded md:ml-8",onClick:function(){localStorage.removeItem("nfts"),localStorage.removeItem("accounts"),localStorage.removeItem("mds")},children:Object(p.jsx)("span",{className:"text-white material-icons font-sm",children:"delete"})})]}),Object(p.jsxs)("div",{className:"ml-auto flex flex-row",children:[Object(p.jsx)("div",{className:"px-4 ",children:l.map((function(n){return Object(p.jsx)("button",{onClick:function(){return function(n){F(!0),kn("nfts",[],[]),S([]),d((function(e){return e.filter((function(e){return e!==n}))}));var e=vn("accounts","[]");kn("accounts",e.filter((function(e){return e!==n})),[])}(n)},className:"bg-indigo-700 text-white anaheim text-md rounded px-3 py-1 ml-2 hover:bg-red-600 transition-colors ease-in",children:n.slice(0,5)+"..."+n.slice(48)})}))}),Object(p.jsx)("input",{className:"w-15 pl-5 py-3 rounded-l-lg bg-white placeholder-gray-700 anaheim",placeholder:"Add Wallet",value:q,onChange:function(n){return X(n.target.value)}}),Object(p.jsx)("button",{onClick:function(){d((function(n){return[].concat(Object(y.a)(n),[q])}));var n=vn("accounts","[]");kn("accounts",[].concat(Object(y.a)(n),[q]),[]),X("")},disabled:!(q.length>40),className:"bg-indigo-700 rounded-r-lg py-3 px-3 mr-14 text-xl font-bol",children:Object(p.jsx)("span",{className:"material-icons align-middle "+(q.length>40?"text-white":"text-gray-400 opacity-60"),children:"add"})})]})]}),Object(p.jsx)("hr",{className:"text-white"}),Object(p.jsx)(wn,{show:L,selectedTags:U,swSelectedTag:function(n){return U.includes(n)?function(){return K((function(e){return e.filter((function(e){return e!==n}))}))}:function(){return K((function(e){return[].concat(Object(y.a)(e),[n])}))}}}),Object(p.jsx)("button",{className:"bg-transparent",onClick:function(){Z(!L)},children:Object(p.jsx)("span",{className:"absolute mb-20 right-20 text-white transform scale-150 material-icons",children:"filter_list"})}),0===w.length&&C&&Object(p.jsx)("h2",{className:"mt-16 mx-8 md:mx-16 lg:mx-32 syne md:text-5xl text-2xl text-white",children:l.length>0?"No Items":"Add addresses to browse"}),Object(p.jsx)(hn.a,{breakpointCols:W<800?1:W<1200?2:3,className:"flex mt-10",columnClassName:"mx-5 my-4",children:[].concat(Object(y.a)(w.map((function(n){return Object(p.jsx)("div",{className:"",children:Object(p.jsx)($,{tags:U,nft:n},n.assetId)})}))),[!C&&Object(p.jsx)(yn,{h:"40"},"gk1"),!C&&Object(p.jsx)(yn,{h:"50"},"gk2"),!C&&Object(p.jsx)(yn,{h:"44"},"gk3")])}),!C&&Object(p.jsxs)("div",{className:"fixed right-10 bottom-10 py-3 px-5 inline-flex items-center rounded-md text-center text-white bg-indigo-700",children:[Object(p.jsx)("img",{src:gn,alt:"",className:"h-10"}),Object(p.jsx)("p",{className:"syne",children:"Fetching Latest Items"})]})]})},Sn=t.p+"static/media/MyAlgoBlue.53c2f7a9.svg",Nn=t.p+"static/media/AlgoSigner.abcce80b.svg",En=t.p+"static/media/WalletConnect.bd8aa632.svg",Cn=t.p+"static/media/UnderConstruction.6a8f832d.png",Rn=t(111),In=new(t.n(Rn).a),Pn=function(){var n=Object(h.a)(g.a.mark((function n(e){var t,a;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,In.connect();case 2:t=n.sent,a=t.map((function(n){return n.address})),e("addresses",a);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Fn=function(n){return Object(p.jsxs)("div",{className:"grid grid-rows-1 grid-cols-12 transform bg-white pl-8 hover:bg-gray-200 rounded-xl mb-6 p-4",children:[Object(p.jsx)("img",{src:n.logo,alt:n.name,className:"w-12 h-14 col-span-2"}),Object(p.jsx)("button",{className:"col-span-10 text-center text-2xl pr-10",style:{fontFamily:"'Syne', sans-serif"},onClick:n.fn,children:n.name})]})},Bn=function(n){var e,t=Object(s.useContext)(m),a=(e=t.set,{MyAlgo:function(){return Pn(e)}});return Object(p.jsxs)(P,{children:[Object(p.jsx)("p",{className:"text-4xl text-white text-center mb-16",style:{fontFamily:"'Syne', sans-serif"},children:"Connect Wallet"}),Object(p.jsx)(Fn,{fn:a.MyAlgo,logo:Sn,name:"MyAlgo"}),Object(p.jsxs)("span",{children:[Object(p.jsx)(Fn,{fn:Object(h.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)}))),logo:Nn,name:"AlgoSigner"}),Object(p.jsx)("img",{src:Cn,alt:"",className:"absolute w-20 right-5 top-1/2"})]}),Object(p.jsxs)("span",{children:[Object(p.jsx)(Fn,{fn:Object(h.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)}))),logo:En,name:"WalletConnect"}),Object(p.jsx)("img",{src:Cn,alt:"",className:"absolute w-20 right-5 top-2/3 transform translate-y-3"})]}),Object(p.jsx)("button",{className:"absolute text-white right-5 top-5 transform scale-105",onClick:n.close,children:Object(p.jsx)("span",{className:"material-icons",children:"close"})})]})},Dn=t.p+"static/media/Reach.8331c83d.svg",Ln=t(254),Zn=t(255),Mn=Object(I.loadStdlib)("ALGO");function zn(n,e){switch(console.log(n.step),e.type){case Tn.MAKE_READY:return Object(S.a)(Object(S.a)({},n),{},{ready:!0});case Tn.PROCEED_STEP:return Object(S.a)(Object(S.a)({},n),{},{step:n.step+1,ready:!1});case Tn.TIME_OUT:return Object(S.a)(Object(S.a)({},n),{},{timeout:!0});case Tn.ERROR_OUT:return Object(S.a)(Object(S.a)({},n),{},{error:!0});case Tn.CLEAR_ERRORS:return Object(S.a)(Object(S.a)({},n),{},{error:!1,timeout:!1});case Tn.SET_ACCOUNT:if(!e.payload)throw new Error("Account payload is falsy");return Object(S.a)(Object(S.a)({},n),{},{account:e.payload,ready:!0});case Tn.SET_SWAP:if(!e.payload)throw new Error("Account payload is falsy");return e.payload.contractType===On.ATOMIC?Object(S.a)(Object(S.a)({},n),{},{step:n.step+1,swap:{tokenA:e.payload.transferParams.tokenA,amountA:e.payload.transferParams.amountA,tokenB:e.payload.transferParams.tokenB,amountB:e.payload.transferParams.amountB}}):Object(S.a)(Object(S.a)({},n),{},{step:n.step+1,swap:{tokenA:e.payload.transferParams.token,amountA:e.payload.transferParams.amountToken,amountB:e.payload.transferParams.amountAlgo}});default:return n}}!function(n){n[n.MAKE_READY=0]="MAKE_READY",n[n.PROCEED_STEP=1]="PROCEED_STEP",n[n.ERROR_OUT=2]="ERROR_OUT",n[n.TIME_OUT=3]="TIME_OUT",n[n.CLEAR_ERRORS=4]="CLEAR_ERRORS",n[n.SET_ACCOUNT=5]="SET_ACCOUNT",n[n.SET_SWAP=6]="SET_SWAP"}(Tn||(Tn={})),function(n){n[n.SAFE=0]="SAFE",n[n.ATOMIC=1]="ATOMIC"}(On||(On={}));var Un={step:0,ready:!1,timeout:!1,error:!1,account:null,swap:null},Kn=function(n){switch(n.state.step){case 0:return Object(p.jsx)(Hn,{state:n.state,dispatch:n.dispatch});case 1:return Object(p.jsx)(Wn,{state:n.state,dispatch:n.dispatch,contractType:n.contractType,appId:n.appId,setAcceptRef:n.setAcceptRef});case 2:return Object(p.jsx)(Jn,{contractType:n.contractType,state:n.state,acceptPrice:n.acceptPrice,closeModal:n.closeModal});default:return Object(p.jsx)("div",{})}},Hn=function(n){var e=n.dispatch,t=function(){return e({type:Tn.ERROR_OUT})},a=function(n){return e({type:Tn.SET_ACCOUNT,payload:n})},s=function(){var n=Object(h.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Mn.setWalletFallback(Mn.walletFallback({providerEnv:R.network,MyAlgoConnect:N.a})),n.t0=a,n.next=5,Mn.getDefaultAccount();case 5:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 9:n.prev=9,n.t2=n.catch(0),console.log(n.t2),t();case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),r=function(){var n=Object(h.a)(g.a.mark((function n(){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,Mn.setWalletFallback(Mn.walletFallback({providerEnv:R.network,WalletConnect:E.a})),n.t0=a,n.next=5,Mn.getDefaultAccount();case 5:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 9:n.prev=9,n.t2=n.catch(0),console.log(n.t2),t();case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z,{title:"Step 1: Connect Wallet"}),Object(p.jsx)("div",{className:"flex-grow flex flex-col items-center justify-center",children:Object(p.jsxs)("div",{className:"md:w-2/3",children:[Object(p.jsx)("button",{onClick:s,className:"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full",children:"My Algo Wallet"}),Object(p.jsx)("button",{onClick:r,className:"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full",children:"Wallet Connect"})]})})]})},Wn=function(n){var e=n.contractType,t=n.appId,a=n.state,s=n.dispatch,r=n.setAcceptRef,i=function(){var n=Object(h.a)(g.a.mark((function n(){var i,c,o;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=e===On.ATOMIC?Zn:Ln,n.next=4,a.account.contract(i,t);case 4:c=n.sent,o={seeTimeout:function(){s({type:Tn.TIME_OUT})},seeTransfer:function(){console.log("seeTransfer"),s({type:Tn.PROCEED_STEP})},acceptSwap:function(){var n=Object(h.a)(g.a.mark((function n(t){var i;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e===On.ATOMIC?t.tokenA:t.token,n.next=3,a.account.tokenAccept(i);case 3:return c={transferParams:t,contractType:e},s({type:Tn.SET_SWAP,payload:c}),n.next=6,new Promise((function(n){r(n)}));case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}var c}),n)})));return function(e){return n.apply(this,arguments)}}()},i.Bob(c,o),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),s({type:Tn.ERROR_OUT});case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z,{title:"Step 2: Start the Transfer"}),Object(p.jsx)(L,{type:"warning",children:"This is an experimental feature, your funds may be lost forever."}),Object(p.jsx)("div",{className:"flex-grow flex flex-col items-center justify-center",children:Object(p.jsx)("button",{onClick:i,className:"px-5 py-4 shadow-lg rounded-lg bg-green-800 syne text-white",children:"I know the risks, start the transfer"})})]})},Jn=function(n){var e=n.state,t=n.contractType,a=n.acceptPrice,s=n.closeModal;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Z,{title:"Step 3: Accept the Parameters"}),Object(p.jsxs)("div",{className:"bg-white text-center syne p-4 text-2xl rounded-lg shadow-lg",children:[Object(p.jsxs)("p",{children:[" NFT ID: ",e.swap.tokenA.toString()]}),t===On.ATOMIC?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{className:"",children:["Price ",Mn.formatCurrency(e.swap.amountB,4)," TOKENS"]}),Object(p.jsxs)("small",{className:"",children:["Token ID: ",e.swap.tokenB.toString()]})]}):Object(p.jsxs)("p",{className:"",children:["Price ",Mn.formatCurrency(e.swap.amountB,4)," ALGO"]})]}),Object(p.jsxs)("div",{className:"w-full flex justify-evenly mt-5",children:[Object(p.jsx)("button",{className:"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-green-800 text-white hover:bg-green-700",onClick:a,children:"Accept"}),Object(p.jsx)("button",{className:"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-red-800 text-white hover:bg-red-700",onClick:s,children:"Reject"})]})]})},Yn=function(n){var e="a"===n.appId.slice(0,1)?On.ATOMIC:On.SAFE,t=parseInt(n.appId.slice(1)),a=Object(s.useReducer)(zn,Un),r=Object(u.a)(a,2),i=r[0],c=r[1],o=Object(s.useRef)();return i.error?Object(p.jsx)(P,{outClick:function(){c({type:Tn.CLEAR_ERRORS}),n.close()},children:Object(p.jsxs)("div",{className:"text-2xl text-white text-center p-6 my-6",children:[Object(p.jsx)("span",{className:"material-icons transform scale-150 mb-4",children:"error"}),Object(p.jsxs)("h2",{className:"syne",children:["An error occured while transferring.",Object(p.jsx)("br",{}),"Please refresh and try again."]})]})}):Object(p.jsxs)(P,{outClick:n.close,children:[Object(p.jsx)("div",{style:{minHeight:"40vh"},className:"overflow-y-auto flex flex-col",children:Object(p.jsx)(Kn,{state:i,dispatch:c,contractType:e,appId:t,acceptPrice:function(){o.current(!0)},setAcceptRef:function(n){o.current=n},closeModal:n.close})}),Object(p.jsx)("div",{style:{minHeight:"10vh"},className:" flex justify-around items-center",children:i.ready&&Object(p.jsx)(M,{txt:"Next >",state:"open",onClick:function(){return c({type:Tn.PROCEED_STEP})}})})]})},qn=function(){var n=Object(s.useContext)(m),e=Object(s.useState)(!1),t=Object(u.a)(e,2),r=t[0],i=t[1],c=Object(s.useState)(!1),o=Object(u.a)(c,2),l=o[0],d=o[1],b=function(n){return function(){return d(n)}},f=Object(s.useState)(""),x=Object(u.a)(f,2),g=x[0],h=x[1];return Object(p.jsxs)("div",{className:"grid justify-items-center place-items-center h-screen w-screen",style:{backgroundColor:"#171717"},children:[Object(p.jsx)("img",{src:Dn,alt:"Reach Logo",className:"absolute bottom-12 text-center w-16"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{className:"text-6xl md:text-7xl lg:text-8xl xl:text-9xl mb-20 font-bold text-center text-white",style:{fontFamily:"'Syne', sans-serif"},children:"ga//ery"}),Object(p.jsxs)("div",{className:"flex flex-row justify-between mx-4 gap-8",children:[Object(p.jsx)("button",{className:"p-2 md:p-3 lg:p-3 xl:p-4 rounded-md text-white bg-indigo-700 hover:bg-indigo-500",style:{fontFamily:"'Syne', sans-serif"},onClick:function(){n.set("view",a.LIBRARY)},children:"Go To My Collection"}),Object(p.jsxs)("div",{className:"flex rounded-md bg-gray-200",children:[Object(p.jsx)("button",{onClick:b(!0),className:"flex h-full",children:Object(p.jsx)("span",{className:"material-icons self-center mx-3 opacity-50",children:"play_arrow"})}),Object(p.jsx)("input",{value:g,onChange:function(n){return h(n.target.value)},className:"anaheim h-full rounded-r-md pl-2 text-lg xl:text-xl",placeholder:"Search for an app"})]})]})]}),l&&Object(p.jsx)(Yn,{appId:g,close:b(!1)}),r&&Object(p.jsx)(Bn,{close:function(){return i(!1)}})]})};function Xn(){return Object(p.jsx)("div",{})}var Gn=function(){return Object(p.jsx)("div",{className:"h-screen w-screen grid place-items-center text-white",children:Object(p.jsx)("h1",{className:"syne text-4xl",children:"404 Not Found"})})},Vn=function(){switch(Object(s.useContext)(m).settings.view){case a.START:return Object(p.jsx)(qn,{});case a.LIBRARY:return Object(p.jsx)(_n,{});case a.TEST:return Object(p.jsx)(Xn,{});default:return Object(p.jsx)(Gn,{})}};t(447);c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(f,{children:Object(p.jsx)(Vn,{})})}),document.getElementById("root"))}},[[448,1,2]]]);
//# sourceMappingURL=main.b9065edb.chunk.js.map