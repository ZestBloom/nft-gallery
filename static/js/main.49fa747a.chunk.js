(this["webpackJsonpnft-gallery"]=this["webpackJsonpnft-gallery"]||[]).push([[0],{164:function(e,t){},166:function(e,t){},176:function(e,t){},178:function(e,t){},205:function(e,t){},207:function(e,t){},208:function(e,t){},213:function(e,t){},215:function(e,t){},221:function(e,t){},223:function(e,t){},242:function(e,t){},254:function(e,t){},257:function(e,t){},260:function(e){e.exports=JSON.parse('{"ipfsGateway":"https://cloudflare-ipfs.com/ipfs/","blockExplorer":"https://algoexplorer.io/","algod":"https://algoexplorerapi.io","network":"MainNet","storageToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDlCZUM2YjUyQ0MyNkE5YjE2QTVmZDRBQzdENDAzOTNkZTdiOTQ0RWYiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2MzI4MDI2ODgxMjQsIm5hbWUiOiJuZnQtZ2FsbGVyeSJ9.4KXlYbOqAFq5b9MduuBPD0B9-UZcllaStQ3eFoEP9WQ"}')},270:function(e,t,n){},271:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),s=n(128),c=n.n(s),i=n(26),l=n(11),o=n(0),u=Object(r.createContext)({}),d=function(e){var t=Object(r.useState)({addresses:[],darkMode:!0}),n=Object(l.a)(t,2),a=n[0],s=n[1];return Object(o.jsx)(u.Provider,{value:{settings:a,set:function(e,t){s((function(n){return Object.assign({},n,Object(i.a)({},e,t))}))}},children:e.children})},f=u,m=n(3),j=n.n(m),b=n(7),h=n(15),p=n(129),x=(n(139),n(130)),g=n.n(x);var O=function(e){var t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],s=n[1];Object(r.useEffect)((function(){var t,n,r;console.log("Getting tags",localStorage.getItem("tags")),s(null!==(t=null===(n=JSON.parse(null!==(r=localStorage.getItem("tags"))&&void 0!==r?r:"{}"))||void 0===n?void 0:n[e.nft.assetId])&&void 0!==t?t:[])}),[]);var c=e.nft.arc3?e.nft.metadata.name:e.nft.name,i=e.nft.owner.slice(0,5)+"..."+e.nft.owner.slice(50),u=e.nft.imgURL();return Object(o.jsxs)("div",{className:"ml-2 shadow-lg w-md rounded-t bg-indigo-700",style:{height:"min-content"},children:[Object(o.jsx)("div",{className:"mt-2 p-3",children:Object(o.jsx)("img",{src:u,alt:c,className:"object-fill w-full"})}),Object(o.jsx)("div",{className:"flex content-center p-2 h-20",children:Object(o.jsxs)("div",{className:"flex flex-col justify-around ml-3 pb-3",children:[Object(o.jsx)("p",{className:"font-sans text-lg font-bold text-white",style:{fontFamily:"'Syne', sans-serif"},children:c}),Object(o.jsxs)("span",{className:"inline-flex",children:[Object(o.jsx)("p",{className:"anaheim text-white mr-1 text-lg font-bold",children:"Owner: "}),Object(o.jsx)("p",{className:"anaheim text-white text-lg italic",children:i})]})]})}),Object(o.jsx)(g.a,{value:a,onChange:function(t){var n,r=new Set(a),c=new Set(t);if(r!=c){var i=JSON.parse(null!==(n=localStorage.getItem("tags"))&&void 0!==n?n:"{}"),l=Object(h.a)(function(e,t){var n,r=new Set(e),a=Object(p.a)(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;r.delete(s)}}catch(c){a.e(c)}finally{a.f()}return r}(c,r))[0];i.global||(i.global=[]),i[e.nft.assetId]=Object(h.a)(c),l&&!i.global.includes(l)&&i.global.push(l),localStorage.setItem("tags",JSON.stringify(i)),s(Object(h.a)(c))}}})]})},v=n(131),w=n.n(v),y=n(260),N=n(67),S=n(68),k=n(69),I=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new Request(t),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.blob();case 7:return a=e.sent,e.t0=JSON,e.next=11,a.text();case 11:return e.t1=e.sent,e.abrupt("return",e.t0.parse.call(e.t0,e.t1));case 15:e.prev=15,e.t2=e.catch(0),console.error("Failed to get Metadata from IPFS:",e.t2);case 18:return e.abrupt("return",new T);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),J="@arc3",C="metadata.json";function F(e){var t=e.split("://");if(t.length<2)return e;switch(t[0]){case"ipfs":return y.ipfsGateway+t[1];case"https":return e}return e}var M=function(){function e(t,n,r,a,s,c,i,l){Object(S.a)(this,e),this.url=void 0,this.name=void 0,this.creator=void 0,this.owner=void 0,this.count=void 0,this.assetId=void 0,this.arc3=void 0,this.metadata=void 0,this.assetId=null!==n&&void 0!==n?n:0,this.metadata=t,this.url=null!==a&&void 0!==a?a:"",this.name=null!==r&&void 0!==r?r:"",this.creator=null!==s&&void 0!==s?s:"",this.owner=null!==c&&void 0!==c?c:"",this.count=null!==i&&void 0!==i?i:0,this.arc3=null!==l&&void 0!==l&&l}return Object(k.a)(e,[{key:"imgURL",value:function(){var e=F(this.arc3?this.metadata.image:this.url);return e!==this.metadata.image?e:this.url.endsWith(C)?F(this.url.substring(0,this.url.length-C.length))+this.metadata.image:""}}],[{key:"fromAssetId",value:function(){var t=Object(b.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(n);case 2:return r=t.sent,t.abrupt("return",e.fromToken(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fromToken",value:function(){var t=Object(b.a)(j.a.mark((function t(n){var r,a,s,c,i,l,o,u;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.index,a=n.params,s=a.name,c=a.url,i=a.creator,l=a.manager,o=a.total,t.next=4,W(r,c);case 4:return u=t.sent,t.abrupt("return",new e(u,r,s,c,i,l,o,this.isArc3(n)));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"isArc3",value:function(e){var t,n;return(null===e||void 0===e||null===(t=e.params)||void 0===t?void 0:t.name)&&(null===e||void 0===e||null===(n=e.params)||void 0===n?void 0:n.name.endsWith(J))}}]),e}(),T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(S.a)(this,e),this.name="",this.description="",this.image="",this.decimals=0,this.image_integrity="",this.image_mimetype="",this.properties=void 0,Object.assign(this,t)}return Object(k.a)(e,[{key:"toFile",value:function(){var e=new Blob([JSON.stringify(Object(N.a)({},this),null,2)],{type:"application/json"});return new File([e],C)}},{key:"arc3Name",value:function(){return this.name.substring(0,27)+J}}]),e}(),A=function(e,t){var n,r=JSON.parse(null!==(n=localStorage.getItem("mds"))&&void 0!==n?n:"{}"),a=Object.assign({},t);return r[e]=Object(N.a)({},a),localStorage.setItem("mds",JSON.stringify(r)),t},W=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=JSON.parse(null!==(r=localStorage.getItem("mds"))&&void 0!==r?r:"[]"))[t]){e.next=8;break}return e.t0=A,e.t1=t,e.next=6,I(F(n));case 6:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 8:return e.abrupt("return",new T(a[t]));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=new w.a.Algodv2("",y.algod,""),D=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.getAssetByID(t).do();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r,a,s,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),e.next=3,Q.accountInformation(t).do();case 3:for(s in r=e.sent,console.log("Got results in",Date.now()-n),a=[],r.assets)r.assets[s].amount>0&&a.push(D(r.assets[s]["asset-id"]));return e.next=9,Promise.all(a);case 9:return c=e.sent,i=c.map((function(e){return M.fromToken(e)})),e.abrupt("return",Promise.all(i));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){var t={index:Object.keys(e)[0],params:Object.values(e)[0]};return M.fromToken(t)})),e.abrupt("return",Promise.all(n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=n.p+"static/media/Spinner.1977ba92.svg",B=function(e){return Object(o.jsxs)("div",{className:"ml-2 rounded shadow-lg w-md rounded-t bg-indigo-700 opacity-60",style:{height:"min-content"},children:[Object(o.jsx)("div",{className:"mt-2 p-3 rounded",children:Object(o.jsx)("div",{className:"bg-gray-400 animate-pulse",style:{height:e.h+"rem"}})}),Object(o.jsx)("div",{className:"h-20 p-2 m-2 rounded bg-gray-400 animate-pulse"})]})},P=function(e){var t=function(e){var t,n=JSON.parse(null!==(t=localStorage.getItem("tags"))&&void 0!==t?t:"{}");return Object.keys(n).reduce((function(t,r){return"global"===r?t:(null===n||void 0===n?void 0:n[r])?t||n[r].includes(e):t}),!1)},n=function(){var e,n,r;return(null!==(e=null===(n=JSON.parse(null!==(r=localStorage.getItem("tags"))&&void 0!==r?r:"{}"))||void 0===n?void 0:n.global)&&void 0!==e?e:[]).filter(t)}();return Object(o.jsx)("div",{style:{overflow:"hidden",maxHeight:e.show?"500px":"0",transition:"max-height 1s ease-out"},children:Object(o.jsx)("div",{className:"py-3 bg-white flex flex-col ",children:Object(o.jsxs)("div",{className:"mx-40",children:[Object(o.jsx)("h2",{className:"my-3 text-3xl font-semibold",children:"Filter By Tag"}),Object(o.jsx)("div",{className:"py-1 mb-2 flex flex-row",children:n.length>0?n.map((function(t){return Object(o.jsx)(R,{selected:e.selectedTags.includes(t),fn:e.swSelectedTag(t),tag:t},t)})):Object(o.jsx)("p",{className:"anaheim text-xl font-medium",children:"No Tags"})})]})})})},R=function(e){return Object(o.jsx)("button",{onClick:e.fn,className:e.selected?"syne mr-3 rounded-lg px-3 py-1 text-white bg-gray-800":"syne mr-3 rounded-lg px-3 py-1 text-white bg-indigo-700",children:e.tag})},z=function(){var e=Object(r.useContext)(f),t=Object(r.useState)([]),n=Object(l.a)(t,2),a=n[0],s=n[1],c=Object(r.useState)(!1),u=Object(l.a)(c,2),d=u[0],m=u[1],p=Object(r.useState)(!1),x=Object(l.a)(p,2),g=x[0],v=x[1],w=Object(r.useState)([]),y=Object(l.a)(w,2),N=y[0],S=y[1],k=function(){var e,t=JSON.parse(null!==(e=localStorage.getItem("tags"))&&void 0!==e?e:"{}");return a.filter((function(e){return N.reduce((function(n,r){return n&&(null===t||void 0===t?void 0:t[e.assetId])&&t[e.assetId].includes(r)}),!0)}))}();return Object(r.useEffect)((function(){var t=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=JSON.parse(null!==(t=localStorage.getItem("nfts"))&&void 0!==t?t:"[]")).length){e.next=3;break}return e.abrupt("return");case 3:return e.t0=s,e.next=6,U(n);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var t=Object(b.a)(j.a.mark((function t(){var n,r,a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.settings.addresses,r=[],a=0;case 3:if(!(a<n.length)){t.next=15;break}return t.t0=[],t.t1=Object(h.a)(r),t.t2=h.a,t.next=9,E(n[a]);case 9:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),r=t.t0.concat.call(t.t0,t.t1,t.t4);case 12:a++,t.next=3;break;case 15:s(r),c=r.map((function(e){return Object(i.a)({},e.assetId,{name:e.name,url:e.url,creator:e.creator,manager:e.owner,total:e.count})})),localStorage.setItem("nfts",JSON.stringify(c)),m(!0);case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();d||t().then((function(){return n()}))}),[]),Object(o.jsxs)("div",{className:"h-full w-screen",style:{backgroundColor:"#171717"},children:[Object(o.jsxs)("span",{className:"py-10 pl-10 inline-flex",children:[Object(o.jsx)("button",{onClick:function(){return window.location.reload()},children:Object(o.jsx)("span",{className:"material-icons transform scale-150 align-middle mr-4 text-white",children:"chevron_left"})}),Object(o.jsx)("h1",{className:"syne text-5xl font-bold text-white",children:"Your Collection"})]}),Object(o.jsx)("hr",{className:"text-white"}),Object(o.jsx)(P,{show:g,selectedTags:N,swSelectedTag:function(e){return N.includes(e)?function(){return S((function(t){return t.filter((function(t){return t!==e}))}))}:function(){return S((function(t){return[].concat(Object(h.a)(t),[e])}))}}}),Object(o.jsx)("button",{className:"bg-transparent",onClick:function(){v(!g)},children:Object(o.jsx)("span",{className:"absolute mb-20 right-20 text-white transform scale-150 material-icons",children:"filter_list"})}),Object(o.jsx)("div",{className:"sm:mx-4 md:mx-16 lg:mx-32 grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 py-16",children:k.length>0?k.map((function(e){return Object(o.jsx)(O,{nft:e},e.assetId)})):d?Object(o.jsx)("h2",{className:"syne text-5xl text-white",children:"No Items"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(B,{h:"40"}),Object(o.jsx)(B,{h:"50"}),Object(o.jsx)(B,{h:"45"})]})}),!d&&Object(o.jsxs)("div",{className:"fixed right-10 bottom-10 py-3 px-5 inline-flex items-center rounded-md text-center text-white bg-indigo-700",children:[Object(o.jsx)("img",{src:Z,alt:"",className:"h-10"}),Object(o.jsx)("p",{className:"syne",children:"Fetching Latest Items"})]})]})},G=n.p+"static/media/MyAlgoBlue.53c2f7a9.svg",L=n.p+"static/media/AlgoSigner.abcce80b.svg",Y=n.p+"static/media/WalletConnect.bd8aa632.svg",X=n.p+"static/media/UnderConstruction.6a8f832d.png",_=n(132),q=new(n.n(_).a),V=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.connect();case 2:n=e.sent,r=n.map((function(e){return e.address})),t("addresses",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){return Object(o.jsxs)("div",{className:"grid grid-rows-1 grid-cols-12 transform bg-white pl-8 hover:bg-gray-200 rounded-xl mb-6 p-4",children:[Object(o.jsx)("img",{src:e.logo,alt:e.name,className:"w-12 h-14 col-span-2"}),Object(o.jsx)("button",{className:"col-span-10 text-center text-2xl pr-10",style:{fontFamily:"'Syne', sans-serif"},onClick:e.fn,children:e.name})]})},K=function(e){var t,n=Object(r.useContext)(f),a=(t=n.set,{MyAlgo:function(){return V(t)}});return Object(o.jsxs)("div",{className:"absolute rounded-xl  left-1/12 w-5/6   sm:left-1/6 sm:w-2/3 md:left-1/4 md:w-1/2  xl:left-1/3 xl:w-1/3  top-1/6 h-2/3 p-4  bg-indigo-700  flex flex-col justify-center overflow-hidden",children:[Object(o.jsx)("p",{className:"text-4xl text-white text-center mb-16",style:{fontFamily:"'Syne', sans-serif"},children:"Connect Wallet"}),Object(o.jsx)(H,{fn:a.MyAlgo,logo:G,name:"MyAlgo"}),Object(o.jsxs)("span",{children:[Object(o.jsx)(H,{fn:Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),logo:L,name:"AlgoSigner"}),Object(o.jsx)("img",{src:X,alt:"",className:"absolute w-20 right-5 top-1/2"})]}),Object(o.jsxs)("span",{children:[Object(o.jsx)(H,{fn:Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),logo:Y,name:"WalletConnect"}),Object(o.jsx)("img",{src:X,alt:"",className:"absolute w-20 right-5 top-2/3 transform translate-y-3"})]}),Object(o.jsx)("button",{className:"absolute text-white right-5 top-5 transform scale-105",onClick:e.close,children:Object(o.jsx)("span",{className:"material-icons",children:"close"})})]})},$=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(o.jsxs)("div",{className:"grid justify-items-center place-items-center h-screen w-screen",style:{backgroundColor:"#171717"},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"text-9xl mb-20 font-bold text-white",style:{fontFamily:"'Syne', sans-serif"},children:"ga//ery"}),Object(o.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(o.jsx)("button",{className:"p-4 rounded-md text-white bg-indigo-700 hover:bg-indigo-500",style:{fontFamily:"'Syne', sans-serif"},onClick:function(){return a(!0)},children:"Connect Wallet"}),Object(o.jsxs)("div",{className:"flex rounded-md bg-gray-200",children:[Object(o.jsx)("span",{className:"material-icons self-center mx-3 opacity-50",children:"search"}),Object(o.jsx)("input",{className:"anaheim h-full rounded-r-md pl-5",placeholder:"Search for a user"})]})]})]}),n&&Object(o.jsx)(K,{close:function(){return a(!1)}})]})};var ee=function(){return 0===Object(r.useContext)(f).settings.addresses.length?Object(o.jsx)($,{}):Object(o.jsx)(z,{})};n(270);c.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(d,{children:Object(o.jsx)(ee,{})})}),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.49fa747a.chunk.js.map