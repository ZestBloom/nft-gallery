{"version":3,"sources":["contracts/build/safeTransfer.main.mjs","contracts/build/atomicTransfer.main.mjs","constants.ts","components/TransferModal.tsx","context/appContext.tsx","components/ItemDisplay.tsx","components/FallbackImage.tsx","lib/config.ts","components/Modal.tsx","components/ModalForm.tsx","components/ItemCard.tsx","lib/ipfs.ts","lib/nft.ts","lib/algoHelpers.ts","assets/Spinner.svg","components/GhostCard.tsx","utils.jsx","views/Library.tsx","components/GetModal.tsx","assets/MyAlgoBlue.svg","assets/AlgoSigner.svg","assets/WalletConnect.svg","assets/UnderConstruction.png","lib/connectWallet.ts","components/WalletModal.tsx","assets/Reach.svg","views/Start.tsx","components/Test.tsx","App.tsx","index.tsx"],"names":["_version","_backendVersion","getExports","s","reachStdlib","_getViews","viewlib","stdlib","ctc0","T_Address","ctc1","T_Token","ctc2","T_UInt","infos","views","_getMaps","mapDataTy","T_Tuple","Alice","ctcTop","interact","undefined","_initialize","Promise","reject","Error","ctc","T_Object","amountAlgo","amountToken","time","token","ctc3","T_Null","ctc4","getSwap","at","fs","msg","who","v98","protect","v99","v100","v101","v102","sendrecv","args","evt_cnt","funcNum","lct","checkedBigNumberify","UInt_max","onlyIf","out_tys","pay","sim_p","txn1","sim_r","txns","mapRefs","mapsPrev","mapsNext","data","v104","secs","didSend","from","push","amt","kind","tok","isHalt","soloSend","timeoutAt","tys","waitIfNotPresent","v105","v106","v107","v108","v103","txn2","v113","v111","v117","addressEq","assert","add","v112","v119","recv","txn3","didTimeout","txn4","v144","v148","to","seeTimeout","seeTransfer","Bob","T_Bool","v123","acceptSwap","v124","v125","_Connectors","ALGO","appApproval","appClear","escrow","mapDataKeys","mapDataSize","stateKeys","stateSize","unsupported","version","ETH","ABI","Bytecode","BytecodeLen","Which","_Participants","_APIs","amountA","amountB","tokenA","tokenB","v110","v114","v115","v116","tokenEq","v121","v126","v127","v120","v122","v118","v131","v129","v135","v130","v137","v165","v169","v141","accSwap","v142","v143","VIEWS","MODAL_ACTIONS","CONTRACT_TYPES","AppContext","createContext","AppProvider","props","useState","view","START","darkMode","settings","setSettings","Provider","value","set","f","v","prevSettings","Object","assign","children","ItemDisplayModal","onClick","outClick","className","style","zIndex","height","e","stopPropagation","ItemDisplay","close","src","extraStyle","nested","FallbackImage","failed","setFailed","videoFailed","setVideoFailed","fullscreen","setFullscreen","goFullscreen","playing","onError","_e","alt","conf","require","Modal","maxHeight","ModalFormTextInput","htmlFor","label","disabled","id","name","type","st","onChange","setSt","target","placeholder","ModalFormCheckbox","checkStyle","console","log","ModalFormPriceInput","inputStyle","step","tokens","ModalFormAlert","alertColor","alertStyle","ModalFormTitle","title","ModalFormProgressButton","stateColor","state","txt","SafeTransfer","AtomicTransfer","loadStdlib","reducer","action","MAKE_READY","ready","PROCEED_STEP","TIME_OUT","timeout","ERROR_OUT","error","CLEAR_ERRORS","SET_ACCOUNT","payload","account","SET_CONTRACT_TYPE","contractType","SET_APPID","appId","initialState","swap","FormSwitcher","dispatch","nftId","transferDetails","setTransferDetails","ConnectWallet","makeError","setAccount","acc","handleMyAlgoConnect","a","setWalletFallback","walletFallback","providerEnv","network","MyAlgoConnect","getDefaultAccount","handleWalletConnect","WalletConnect","SetTransferDetails","useEffect","withTokens","ATOMIC","SAFE","handleChangeTarget","handleChangeChecked","free","tokenId","amount","StartTransfer","clicked","setClicked","makeProceed","startTransfer","aliceInterface","parseCurrency","backend","contract","getInfo","ctcInfo","toString","ShareInfo","copied","setCopied","fmtAppId","text","onCopy","WaitForBob","TransferModal","useReducer","initialValues","values","setValues","key","useForm","minHeight","closeModal","ItemCard","tags","setTags","showTModal","setShowTModal","handleShowTModal","open","JSON","parse","localStorage","getItem","nft","assetId","arc3","metadata","owner","slice","imageURL","imgURL","reduce","prev","tag","includes","fontFamily","jamWindow","window","opener","newTags","oldSet","Set","newSet","localTags","newItem","setA","setB","_difference","elem","delete","difference","setItem","stringify","getFromIPFS","url","req","Request","fetch","resp","blob","body","NFTMetadata","ARC3_SUFFIX","METADATA_FILE","resolveURL","chunks","split","length","ipfsGateway","NFT","md","creator","count","this","image","endsWith","substring","getToken","fromToken","index","params","manager","total","checkLocal","isArc3","description","decimals","image_integrity","image_mimetype","properties","md_blob","Blob","File","save","mdCache","fields","client","algosdk","Algodv2","algod","getAssetByID","do","getAssetsOfAddress","address","accountInformation","results","keys","assets","filter","map","getDetailsOfAsset","GhostCard","h","getWindowDimensions","width","innerWidth","getStorageItem","def","setStorageItem","val","FilterTab","doesTagExist","allTags","fltGlobalTags","getGlobalTags","overflow","show","transition","backgroundColor","selected","selectedTags","fn","swSelectedTag","TagChip","Library","appContext","useContext","update","setUpdate","accs","setAccs","_setAssets","assetsRef","useRef","setAssets","current","nfts","_setNfts","nftsRef","setNfts","fetched","setFetched","setInterrupt","expandFilter","setExpandFilter","setSelectedTags","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","useWindowDimensions","accForm","setAccForm","handleScroll","innerHeight","scrollY","document","offsetHeight","fetchNFTsOfN","n","fAssets","targetAssets","newNfts","i","newNft","fetchAssets","fetchedAssets","then","onScroll","removeItem","prevAccs","cacheAccounts","removeAccount","prevTags","t","breakpointCols","columnClassName","Loading","myAlgoWallet","MyAlgo","connectToMyAlgo","connect","accounts","addresses","WalletButton","logo","WalletModal","MyAlgoLogo","AlgoSignerLogo","UnderConstruction","WalletConnectLogo","SET_SWAP","transferParams","setAcceptRef","acceptPrice","bobInterface","asa","tokenAccept","resolve","AcceptParams","formatCurrency","BuyerModal","parseInt","acceptRef","Start","showModal","setShowModal","showGetModal","setShowGetModal","handleGetModal","setAppId","Reach","LIBRARY","Test","NotFound","App","TEST","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.100eca46.chunk.js","sourcesContent":["// Automatically generated with Reach 0.1.6\n/* eslint-disable */\nexport const _version = '0.1.6';\nexport const _backendVersion = 5;\n\nexport function getExports(s) {\n  const stdlib = s.reachStdlib;\n  return {\n    };\n  };\nexport function _getViews(s, viewlib) {\n  const stdlib = s.reachStdlib;\n  const ctc0 = stdlib.T_Address;\n  const ctc1 = stdlib.T_Token;\n  const ctc2 = stdlib.T_UInt;\n  \n  return {\n    infos: {\n      },\n    views: {\n      1: [ctc0, ctc1, ctc2, ctc2, ctc2],\n      2: [ctc0, ctc1, ctc2, ctc2, ctc2]\n      }\n    };\n  \n  };\nexport function _getMaps(s) {\n  const stdlib = s.reachStdlib;\n  const ctc0 = stdlib.T_Tuple([]);\n  return {\n    mapDataTy: ctc0\n    };\n  };\nexport async function Alice(ctcTop, interact) {\n  if (typeof(ctcTop) !== 'object' || ctcTop._initialize === undefined) {\n    return Promise.reject(new Error(`The backend for Alice expects to receive a contract as its first argument.`));}\n  if (typeof(interact) !== 'object') {\n    return Promise.reject(new Error(`The backend for Alice expects to receive an interact object as its second argument.`));}\n  const ctc = ctcTop._initialize();\n  const stdlib = ctc.stdlib;\n  const ctc0 = stdlib.T_UInt;\n  const ctc1 = stdlib.T_Token;\n  const ctc2 = stdlib.T_Object({\n    amountAlgo: ctc0,\n    amountToken: ctc0,\n    time: ctc0,\n    token: ctc1\n    });\n  const ctc3 = stdlib.T_Null;\n  const ctc4 = stdlib.T_Address;\n  \n  \n  const v98 = stdlib.protect(ctc2, await interact.getSwap(), {\n    at: './safeTransfer.rsh:34:85:application',\n    fs: ['at ./safeTransfer.rsh:33:11:application call to [unknown function] (defined at: ./safeTransfer.rsh:33:15:function exp)'],\n    msg: 'getSwap',\n    who: 'Alice'\n    });\n  const v99 = v98.token;\n  const v100 = v98.amountToken;\n  const v101 = v98.amountAlgo;\n  const v102 = v98.time;\n  \n  const txn1 = await (ctc.sendrecv({\n    args: [v99, v100, v101, v102],\n    evt_cnt: 4,\n    funcNum: 0,\n    lct: stdlib.checkedBigNumberify('./safeTransfer.rsh:36:7:dot', stdlib.UInt_max, 0),\n    onlyIf: true,\n    out_tys: [ctc1, ctc0, ctc0, ctc0],\n    pay: [stdlib.checkedBigNumberify('./safeTransfer.rsh:decimal', stdlib.UInt_max, 0), []],\n    sim_p: (async (txn1) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [v104, v105, v106, v107], secs: v109, time: v108, didSend: v31, from: v103 } = txn1;\n      \n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('<builtin>', stdlib.UInt_max, 0),\n        kind: 'init',\n        tok: v104\n        });\n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./safeTransfer.rsh:decimal', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.isHalt = false;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: undefined,\n    tys: [ctc1, ctc0, ctc0, ctc0],\n    waitIfNotPresent: false\n    }));\n  const {data: [v104, v105, v106, v107], secs: v109, time: v108, didSend: v31, from: v103 } = txn1;\n  ;\n  ;\n  const txn2 = await (ctc.sendrecv({\n    args: [v103, v104, v105, v106, v107],\n    evt_cnt: 0,\n    funcNum: 1,\n    lct: v108,\n    onlyIf: true,\n    out_tys: [],\n    pay: [stdlib.checkedBigNumberify('./safeTransfer.rsh:40:7:dot', stdlib.UInt_max, 0), [[v105, v104]]],\n    sim_p: (async (txn2) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [], secs: v113, time: v112, didSend: v39, from: v111 } = txn2;\n      \n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./safeTransfer.rsh:40:7:dot', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v105,\n        kind: 'to',\n        tok: v104\n        });\n      const v117 = stdlib.addressEq(v103, v111);\n      stdlib.assert(v117, {\n        at: './safeTransfer.rsh:40:7:dot',\n        fs: [],\n        msg: 'sender correct',\n        who: 'Alice'\n        });\n      const v119 = stdlib.add(v113, v107);\n      sim_r.isHalt = false;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: undefined,\n    tys: [ctc4, ctc1, ctc0, ctc0, ctc0],\n    waitIfNotPresent: false\n    }));\n  const {data: [], secs: v113, time: v112, didSend: v39, from: v111 } = txn2;\n  ;\n  ;\n  const v117 = stdlib.addressEq(v103, v111);\n  stdlib.assert(v117, {\n    at: './safeTransfer.rsh:40:7:dot',\n    fs: [],\n    msg: 'sender correct',\n    who: 'Alice'\n    });\n  const v119 = stdlib.add(v113, v107);\n  const txn3 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 0,\n    funcNum: 2,\n    out_tys: [],\n    timeoutAt: ['secs', v119],\n    waitIfNotPresent: false\n    }));\n  if (txn3.didTimeout) {\n    const txn4 = await (ctc.sendrecv({\n      args: [v103, v104, v105, v106, v119],\n      evt_cnt: 0,\n      funcNum: 3,\n      lct: v112,\n      onlyIf: true,\n      out_tys: [],\n      pay: [stdlib.checkedBigNumberify('./safeTransfer.rsh:decimal', stdlib.UInt_max, 0), []],\n      sim_p: (async (txn4) => {\n        const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n        \n        const {data: [], secs: v146, time: v145, didSend: v79, from: v144 } = txn4;\n        \n        sim_r.txns.push({\n          amt: stdlib.checkedBigNumberify('./safeTransfer.rsh:decimal', stdlib.UInt_max, 0),\n          kind: 'to',\n          tok: undefined\n          });\n        const v148 = stdlib.addressEq(v103, v144);\n        stdlib.assert(v148, {\n          at: './safeTransfer.rsh:51:15:dot',\n          fs: [],\n          msg: 'sender correct',\n          who: 'Alice'\n          });\n        sim_r.txns.push({\n          amt: v105,\n          kind: 'from',\n          to: v103,\n          tok: v104\n          });\n        \n        sim_r.txns.push({\n          kind: 'halt',\n          tok: v104\n          })\n        sim_r.txns.push({\n          kind: 'halt',\n          tok: undefined\n          })\n        sim_r.isHalt = true;\n        \n        return sim_r;\n        }),\n      soloSend: true,\n      timeoutAt: undefined,\n      tys: [ctc4, ctc1, ctc0, ctc0, ctc0],\n      waitIfNotPresent: false\n      }));\n    const {data: [], secs: v146, time: v145, didSend: v79, from: v144 } = txn4;\n    ;\n    const v148 = stdlib.addressEq(v103, v144);\n    stdlib.assert(v148, {\n      at: './safeTransfer.rsh:51:15:dot',\n      fs: [],\n      msg: 'sender correct',\n      who: 'Alice'\n      });\n    ;\n    stdlib.protect(ctc3, await interact.seeTimeout(), {\n      at: './safeTransfer.rsh:53:51:application',\n      fs: ['at ./safeTransfer.rsh:53:17:application call to [unknown function] (defined at: ./safeTransfer.rsh:53:29:function exp)'],\n      msg: 'seeTimeout',\n      who: 'Alice'\n      });\n    \n    return;\n    \n    }\n  else {\n    const {data: [], secs: v127, time: v126, didSend: v50, from: v125 } = txn3;\n    ;\n    ;\n    ;\n    stdlib.protect(ctc3, await interact.seeTransfer(), {\n      at: './safeTransfer.rsh:61:44:application',\n      fs: ['at ./safeTransfer.rsh:61:9:application call to [unknown function] (defined at: ./safeTransfer.rsh:61:21:function exp)'],\n      msg: 'seeTransfer',\n      who: 'Alice'\n      });\n    \n    return;\n    }\n  \n  \n  \n  \n  \n  };\nexport async function Bob(ctcTop, interact) {\n  if (typeof(ctcTop) !== 'object' || ctcTop._initialize === undefined) {\n    return Promise.reject(new Error(`The backend for Bob expects to receive a contract as its first argument.`));}\n  if (typeof(interact) !== 'object') {\n    return Promise.reject(new Error(`The backend for Bob expects to receive an interact object as its second argument.`));}\n  const ctc = ctcTop._initialize();\n  const stdlib = ctc.stdlib;\n  const ctc0 = stdlib.T_Token;\n  const ctc1 = stdlib.T_UInt;\n  const ctc2 = stdlib.T_Bool;\n  const ctc3 = stdlib.T_Null;\n  const ctc4 = stdlib.T_Address;\n  \n  \n  const txn1 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 4,\n    funcNum: 0,\n    out_tys: [ctc0, ctc1, ctc1, ctc1],\n    timeoutAt: undefined,\n    waitIfNotPresent: false\n    }));\n  const {data: [v104, v105, v106, v107], secs: v109, time: v108, didSend: v31, from: v103 } = txn1;\n  ;\n  ;\n  const txn2 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 0,\n    funcNum: 1,\n    out_tys: [],\n    timeoutAt: undefined,\n    waitIfNotPresent: false\n    }));\n  const {data: [], secs: v113, time: v112, didSend: v39, from: v111 } = txn2;\n  ;\n  ;\n  const v117 = stdlib.addressEq(v103, v111);\n  stdlib.assert(v117, {\n    at: './safeTransfer.rsh:40:7:dot',\n    fs: [],\n    msg: 'sender correct',\n    who: 'Bob'\n    });\n  const v119 = stdlib.add(v113, v107);\n  const v123 = {\n    amountAlgo: v106,\n    amountToken: v105,\n    time: v107,\n    token: v104\n    };\n  const v124 = stdlib.protect(ctc2, await interact.acceptSwap(v123), {\n    at: './safeTransfer.rsh:45:64:application',\n    fs: ['at ./safeTransfer.rsh:44:11:application call to [unknown function] (defined at: ./safeTransfer.rsh:44:15:function exp)'],\n    msg: 'acceptSwap',\n    who: 'Bob'\n    });\n  \n  const txn3 = await (ctc.sendrecv({\n    args: [v103, v104, v105, v106, v119],\n    evt_cnt: 0,\n    funcNum: 2,\n    lct: v112,\n    onlyIf: v124,\n    out_tys: [],\n    pay: [v106, []],\n    sim_p: (async (txn3) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [], secs: v127, time: v126, didSend: v50, from: v125 } = txn3;\n      \n      sim_r.txns.push({\n        amt: v106,\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v106,\n        kind: 'from',\n        to: v103,\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v105,\n        kind: 'from',\n        to: v125,\n        tok: v104\n        });\n      \n      sim_r.txns.push({\n        kind: 'halt',\n        tok: v104\n        })\n      sim_r.txns.push({\n        kind: 'halt',\n        tok: undefined\n        })\n      sim_r.isHalt = true;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: ['secs', v119],\n    tys: [ctc4, ctc0, ctc1, ctc1, ctc1],\n    waitIfNotPresent: false\n    }));\n  if (txn3.didTimeout) {\n    const txn4 = await (ctc.recv({\n      didSend: false,\n      evt_cnt: 0,\n      funcNum: 3,\n      out_tys: [],\n      timeoutAt: undefined,\n      waitIfNotPresent: false\n      }));\n    const {data: [], secs: v146, time: v145, didSend: v79, from: v144 } = txn4;\n    ;\n    const v148 = stdlib.addressEq(v103, v144);\n    stdlib.assert(v148, {\n      at: './safeTransfer.rsh:51:15:dot',\n      fs: [],\n      msg: 'sender correct',\n      who: 'Bob'\n      });\n    ;\n    stdlib.protect(ctc3, await interact.seeTimeout(), {\n      at: './safeTransfer.rsh:53:51:application',\n      fs: ['at ./safeTransfer.rsh:53:17:application call to [unknown function] (defined at: ./safeTransfer.rsh:53:29:function exp)'],\n      msg: 'seeTimeout',\n      who: 'Bob'\n      });\n    \n    return;\n    \n    }\n  else {\n    const {data: [], secs: v127, time: v126, didSend: v50, from: v125 } = txn3;\n    ;\n    ;\n    ;\n    stdlib.protect(ctc3, await interact.seeTransfer(), {\n      at: './safeTransfer.rsh:61:44:application',\n      fs: ['at ./safeTransfer.rsh:61:9:application call to [unknown function] (defined at: ./safeTransfer.rsh:61:21:function exp)'],\n      msg: 'seeTransfer',\n      who: 'Bob'\n      });\n    \n    return;\n    }\n  \n  \n  \n  \n  \n  };\nconst _ALGO = {\n  appApproval: `#pragma version 5\ntxn RekeyTo\nglobal ZeroAddress\n==\nassert\ntxn Lease\nglobal ZeroAddress\n==\nassert\nint 0\nstore 0\ntxn ApplicationID\nbz alloc\nbyte base64()\napp_global_get\ndup\nint 0\nextract_uint64\nstore 1\ndup\nint 8\nextract_uint64\nstore 2\nextract 16 32\nstore 3\ntxn NumAppArgs\nint 3\n==\nassert\ntxna ApplicationArgs 0\nbtoi\npreamble:\n// Handler 0\ndup\nint 0\n==\nbz l0_afterHandler0\npop\n// check step\nint 0\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nbyte base64()\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 64\n==\nassert\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxn Sender\nglobal CreatorAddress\n==\nassert\nload 255\nstore 3\n// \"CheckPay\"\n// \"./safeTransfer.rsh:36:7:dot\"\n// \"[]\"\nint 100000\ndup\nbz l1_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl1_checkTxnK:\npop\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl2_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl3_checkTxnK:\npop\n// \"CheckPay\"\n// \"./safeTransfer.rsh:36:7:dot\"\n// \"[]\"\ntxn Sender\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 64\napp_global_put\npop\nint 1\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl0_afterHandler0:\n// Handler 1\ndup\nint 1\n==\nbz l4_afterHandler1\npop\n// check step\nint 1\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\n// \"CheckPay\"\n// \"./safeTransfer.rsh:40:7:dot\"\n// \"[]\"\n// \"CheckPay\"\n// \"./safeTransfer.rsh:40:7:dot\"\n// \"[]\"\nload 253\ndup\nbz l5_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl5_checkTxnK:\npop\n// Just \"sender correct\"\n// \"./safeTransfer.rsh:40:7:dot\"\n// \"[]\"\nload 255\ntxn Sender\n==\nassert\nglobal LatestTimestamp\nload 251\n+\nstore 250\nload 255\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 250\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 64\napp_global_put\npop\nint 2\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl4_afterHandler1:\n// Handler 2\ndup\nint 2\n==\nbz l6_afterHandler2\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 251\n<\nassert\n// \"CheckPay\"\n// \"./safeTransfer.rsh:49:7:dot\"\n// \"[]\"\nload 252\ndup\nbz l7_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl7_checkTxnK:\npop\nload 252\ndup\nbz l8_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns Receiver\n==\nassert\nl8_checkTxnK:\npop\nload 253\ndup\nbz l9_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\ntxn Sender\ndig 1\ngtxns AssetReceiver\n==\nassert\nl9_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl10_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl11_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl6_afterHandler2:\n// Handler 3\ndup\nint 3\n==\nbz l12_afterHandler3\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 251\n>=\nassert\n// \"CheckPay\"\n// \"./safeTransfer.rsh:51:15:dot\"\n// \"[]\"\n// Just \"sender correct\"\n// \"./safeTransfer.rsh:51:15:dot\"\n// \"[]\"\nload 255\ntxn Sender\n==\nassert\nload 253\ndup\nbz l13_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl13_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl14_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl15_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl12_afterHandler3:\nint 0\nassert\nupdateState:\nbyte base64()\nload 1\nitob\nload 2\nitob\nload 3\nconcat\nconcat\napp_global_put\ncheckSize:\nload 0\ndup\ndup\nint 1\n+\nglobal GroupSize\n==\nassert\ntxn GroupIndex\n==\nassert\nint 1000\n*\ntxn Fee\n<=\nassert\ndone:\nint 1\nreturn\nalloc:\ntxn OnCompletion\nint NoOp\n==\nassert\nint 0\nstore 1\nint 0\nstore 2\nglobal ZeroAddress\nstore 3\nb updateState\n`,\n  appClear: `#pragma version 5\nint 0\n`,\n  escrow: `#pragma version 5\nglobal GroupSize\nint 1\n-\ndup\ngtxns TypeEnum\nint appl\n==\nassert\ngtxns ApplicationID\nint {{ApplicationID}}\n==\nassert\ndone:\nint 1\n`,\n  mapDataKeys: 0,\n  mapDataSize: 0,\n  stateKeys: 1,\n  stateSize: 64,\n  unsupported: [],\n  version: 5\n  };\nconst _ETH = {\n  ABI: `[\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"components\": [\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v104\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v105\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v106\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v107\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"internalType\": \"struct T1\",\n            \"name\": \"msg\",\n            \"type\": \"tuple\"\n          }\n        ],\n        \"internalType\": \"struct T2\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"stateMutability\": \"payable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"msg\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ReachError\",\n    \"type\": \"error\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"components\": [\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v104\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v105\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v106\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v107\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"internalType\": \"struct T1\",\n            \"name\": \"msg\",\n            \"type\": \"tuple\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T2\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e0\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e1\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e2\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e3\",\n    \"type\": \"event\"\n  },\n  {\n    \"stateMutability\": \"payable\",\n    \"type\": \"fallback\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCurrentState\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCurrentTime\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m1\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m2\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m3\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"stateMutability\": \"payable\",\n    \"type\": \"receive\"\n  }\n]`,\n  Bytecode: `0x608060405260405162000f5738038062000f5783398101604081905262000026916200028d565b60008055604080518251815260208084015180516001600160a01b0316828401529081015182840152808301516060808401919091520151608082015290517ffefad5e0d88b997203a7f63b283abe03e4e673fa9ccc91b6b9327ca8f53a9be19181900360a00190a16200009d3415600762000186565b620000e26040518060a0016040528060006001600160a01b0316815260200160006001600160a01b031681526020016000815260200160008152602001600081525090565b3380825260208381018051516001600160a01b039081168386019081528251840151604080880191825284518101516060808a0191825295518601516080808b01918252600160008190554390558351808a019a909a5294519095168883015291519487019490945251908501525160a0808501919091528151808503909101815260c0909301905281516200017d926002920190620001b0565b50505062000384565b81620001ac5760405163100960cb60e01b81526004810182905260240160405180910390fd5b5050565b828054620001be9062000347565b90600052602060002090601f016020900481019282620001e257600085556200022d565b82601f10620001fd57805160ff19168380011785556200022d565b828001600101855582156200022d579182015b828111156200022d57825182559160200191906001019062000210565b506200023b9291506200023f565b5090565b5b808211156200023b576000815560010162000240565b604051608081016001600160401b03811182821017156200028757634e487b7160e01b600052604160045260246000fd5b60405290565b600081830360a0811215620002a157600080fd5b604080519081016001600160401b0381118282101715620002d257634e487b7160e01b600052604160045260246000fd5b604052835181526080601f1983011215620002ec57600080fd5b620002f662000256565b60208501519092506001600160a01b03811681146200031457600080fd5b80835250604084015160208301526060840151604083015260808401516060830152816020820152809250505092915050565b600181811c908216806200035c57607f821691505b602082108114156200037e57634e487b7160e01b600052602260045260246000fd5b50919050565b610bc380620003946000396000f3fe60806040526004361061004b5760003560e01c80637963168e146100545780638323075714610067578063ab53f2c61461008a578063f147248d146100ad578063fd948b86146100c057005b3661005257005b005b610052610062366004610982565b6100d3565b34801561007357600080fd5b506001546040519081526020015b60405180910390f35b34801561009657600080fd5b5061009f6102ec565b6040516100819291906109ca565b6100526100bb366004610982565b610389565b6100526100ce366004610982565b6104f6565b6100e3600160005414600b61066f565b6100fd813515806100f657506001548235145b600c61066f565b60008080556002805461010f90610a04565b80601f016020809104026020016040519081016040528092919081815260200182805461013b90610a04565b80156101885780601f1061015d57610100808354040283529160200191610188565b820191906000526020600020905b81548152906001019060200180831161016b57829003601f168201915b50505050508060200190518101906101a09190610adf565b90506101b86040518060200160405280600081525090565b7f9f41c6cf17ede288cbb2cfbbafdd05b2b2025dea3b047cdb79dbc892d7a9286d836040516101e79190610b09565b60405180910390a16101fb3415600861066f565b6102186102113384602001518560400151610695565b600961066f565b8151610230906001600160a01b03163314600a61066f565b608082015161023f9042610b2e565b81526040805160a0808201835260008083526020808401828152848601838152606080870185815260808089018781528c516001600160a01b03908116808c528e890151821688528e8d015187528e86015185528d5183526002998a9055436001558c51808a0191909152965116868c0152935192850192909252519083015251818501528551808203909401845260c001909452815192936102e593919201906108ac565b5050505050565b60006060600054600280805461030190610a04565b80601f016020809104026020016040519081016040528092919081815260200182805461032d90610a04565b801561037a5780601f1061034f5761010080835404028352916020019161037a565b820191906000526020600020905b81548152906001019060200180831161035d57829003601f168201915b50505050509050915091509091565b610399600260005414601361066f565b6103b3813515806103ac57506001548235145b601461066f565b6000808055600280546103c590610a04565b80601f01602080910402602001604051908101604052809291908181526020018280546103f190610a04565b801561043e5780601f106104135761010080835404028352916020019161043e565b820191906000526020600020905b81548152906001019060200180831161042157829003601f168201915b50505050508060200190518101906104569190610adf565b905061046a8160800151421015601561066f565b7fe92d4e1229145c13e718fdc692a322df4a6700c6bebac0841f0e9f44c56a1529826040516104999190610b09565b60405180910390a16104ad3415601161066f565b80516104c5906001600160a01b03163314601261066f565b6104dc8160200151826000015183604001516106ad565b600080805560018190556104f290600290610930565b5050565b610506600260005414600e61066f565b6105208135158061051957506001548235145b600f61066f565b60008080556002805461053290610a04565b80601f016020809104026020016040519081016040528092919081815260200182805461055e90610a04565b80156105ab5780601f10610580576101008083540402835291602001916105ab565b820191906000526020600020905b81548152906001019060200180831161058e57829003601f168201915b50505050508060200190518101906105c39190610adf565b90506105d681608001514210601061066f565b7fe0777bbb0edbebd8a5c254bf54fd955256e9bf9fb0fe4138cd88ac193a101d15826040516106059190610b09565b60405180910390a161061e81606001513414600d61066f565b805160608201516040516001600160a01b039092169181156108fc0291906000818181858888f1935050505015801561065b573d6000803e3d6000fd5b506104dc81602001513383604001516106ad565b816104f25760405163100960cb60e01b8152600481018290526024015b60405180910390fd5b60006106a3838530856106c6565b90505b9392505050565b6106b88383836107a0565b6106c157600080fd5b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392839291891691839161072d91610b54565b60006040518083038185875af1925050503d806000811461076a576040519150601f19603f3d011682016040523d82523d6000602084013e61076f565b606091505b509150915061078082826001610871565b50808060200190518101906107959190610b70565b979650505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b1790529151600092839283929188169183916107ff91610b54565b60006040518083038185875af1925050503d806000811461083c576040519150601f19603f3d011682016040523d82523d6000602084013e610841565b606091505b509150915061085282826002610871565b50808060200190518101906108679190610b70565b9695505050505050565b606083156108805750816106a6565b8251156108905782518084602001fd5b60405163100960cb60e01b81526004810183905260240161068c565b8280546108b890610a04565b90600052602060002090601f0160209004810192826108da5760008555610920565b82601f106108f357805160ff1916838001178555610920565b82800160010185558215610920579182015b82811115610920578251825591602001919060010190610905565b5061092c92915061096d565b5090565b50805461093c90610a04565b6000825580601f1061094c575050565b601f01602090049060005260206000209081019061096a919061096d565b50565b5b8082111561092c576000815560010161096e565b60006040828403121561099457600080fd5b50919050565b60005b838110156109b557818101518382015260200161099d565b838111156109c4576000848401525b50505050565b82815260406020820152600082518060408401526109ef81606085016020870161099a565b601f01601f1916919091016060019392505050565b600181811c90821680610a1857607f821691505b6020821081141561099457634e487b7160e01b600052602260045260246000fd5b80516001600160a01b0381168114610a5057600080fd5b919050565b600060a08284031215610a6757600080fd5b60405160a0810181811067ffffffffffffffff82111715610a9857634e487b7160e01b600052604160045260246000fd5b604052905080610aa783610a39565b8152610ab560208401610a39565b60208201526040830151604082015260608301516060820152608083015160808201525092915050565b600060a08284031215610af157600080fd5b6106a68383610a55565b801515811461096a57600080fd5b81358152604081016020830135610b1f81610afb565b80151560208401525092915050565b60008219821115610b4f57634e487b7160e01b600052601160045260246000fd5b500190565b60008251610b6681846020870161099a565b9190910192915050565b600060208284031215610b8257600080fd5b81516106a681610afb56fea264697066735822122069adb54c4dfe18b847e0dc747d5c326a32962bd7f6ed8b9ac31515e4beca31d764736f6c63430008090033`,\n  BytecodeLen: 3927,\n  Which: `oD`,\n  version: 4,\n  views: {\n    }\n  };\nexport const _Connectors = {\n  ALGO: _ALGO,\n  ETH: _ETH\n  };\nexport const _Participants = {\n  \"Alice\": Alice,\n  \"Bob\": Bob\n  };\nexport const _APIs = {\n  };\n","// Automatically generated with Reach 0.1.6\n/* eslint-disable */\nexport const _version = '0.1.6';\nexport const _backendVersion = 5;\n\nexport function getExports(s) {\n  const stdlib = s.reachStdlib;\n  return {\n    };\n  };\nexport function _getViews(s, viewlib) {\n  const stdlib = s.reachStdlib;\n  const ctc0 = stdlib.T_Address;\n  const ctc1 = stdlib.T_Token;\n  const ctc2 = stdlib.T_UInt;\n  \n  return {\n    infos: {\n      },\n    views: {\n      1: [ctc0, ctc1, ctc2, ctc1, ctc2, ctc2],\n      2: [ctc0, ctc1, ctc2, ctc1, ctc2, ctc2]\n      }\n    };\n  \n  };\nexport function _getMaps(s) {\n  const stdlib = s.reachStdlib;\n  const ctc0 = stdlib.T_Tuple([]);\n  return {\n    mapDataTy: ctc0\n    };\n  };\nexport async function Alice(ctcTop, interact) {\n  if (typeof(ctcTop) !== 'object' || ctcTop._initialize === undefined) {\n    return Promise.reject(new Error(`The backend for Alice expects to receive a contract as its first argument.`));}\n  if (typeof(interact) !== 'object') {\n    return Promise.reject(new Error(`The backend for Alice expects to receive an interact object as its second argument.`));}\n  const ctc = ctcTop._initialize();\n  const stdlib = ctc.stdlib;\n  const ctc0 = stdlib.T_UInt;\n  const ctc1 = stdlib.T_Token;\n  const ctc2 = stdlib.T_Object({\n    amountA: ctc0,\n    amountB: ctc0,\n    time: ctc0,\n    tokenA: ctc1,\n    tokenB: ctc1\n    });\n  const ctc3 = stdlib.T_Null;\n  const ctc4 = stdlib.T_Address;\n  \n  \n  const v110 = stdlib.protect(ctc2, await interact.getSwap(), {\n    at: './atomicTransfer.rsh:39:87:application',\n    fs: ['at ./atomicTransfer.rsh:38:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:38:15:function exp)'],\n    msg: 'getSwap',\n    who: 'Alice'\n    });\n  const v111 = v110.tokenA;\n  const v112 = v110.amountA;\n  const v113 = v110.tokenB;\n  const v114 = v110.amountB;\n  const v115 = v110.time;\n  const v116 = stdlib.tokenEq(v111, v113);\n  const v117 = v116 ? false : true;\n  stdlib.assert(v117, {\n    at: './atomicTransfer.rsh:40:15:application',\n    fs: ['at ./atomicTransfer.rsh:38:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:38:15:function exp)'],\n    msg: null,\n    who: 'Alice'\n    });\n  \n  const txn1 = await (ctc.sendrecv({\n    args: [v111, v112, v113, v114, v115],\n    evt_cnt: 5,\n    funcNum: 0,\n    lct: stdlib.checkedBigNumberify('./atomicTransfer.rsh:42:7:dot', stdlib.UInt_max, 0),\n    onlyIf: true,\n    out_tys: [ctc1, ctc0, ctc1, ctc0, ctc0],\n    pay: [stdlib.checkedBigNumberify('./atomicTransfer.rsh:decimal', stdlib.UInt_max, 0), []],\n    sim_p: (async (txn1) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [v119, v120, v121, v122, v123], secs: v125, time: v124, didSend: v38, from: v118 } = txn1;\n      \n      const v126 = stdlib.tokenEq(v119, v121);\n      const v127 = v126 ? false : true;\n      stdlib.assert(v127, {\n        at: './atomicTransfer.rsh:42:7:dot',\n        fs: [],\n        msg: null,\n        who: 'Alice'\n        });\n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('<builtin>', stdlib.UInt_max, 0),\n        kind: 'init',\n        tok: v119\n        });\n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('<builtin>', stdlib.UInt_max, 0),\n        kind: 'init',\n        tok: v121\n        });\n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./atomicTransfer.rsh:decimal', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.isHalt = false;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: undefined,\n    tys: [ctc1, ctc0, ctc1, ctc0, ctc0],\n    waitIfNotPresent: false\n    }));\n  const {data: [v119, v120, v121, v122, v123], secs: v125, time: v124, didSend: v38, from: v118 } = txn1;\n  const v126 = stdlib.tokenEq(v119, v121);\n  const v127 = v126 ? false : true;\n  stdlib.assert(v127, {\n    at: './atomicTransfer.rsh:42:7:dot',\n    fs: [],\n    msg: null,\n    who: 'Alice'\n    });\n  ;\n  ;\n  ;\n  const txn2 = await (ctc.sendrecv({\n    args: [v118, v119, v120, v121, v122, v123],\n    evt_cnt: 0,\n    funcNum: 1,\n    lct: v124,\n    onlyIf: true,\n    out_tys: [],\n    pay: [stdlib.checkedBigNumberify('./atomicTransfer.rsh:44:7:dot', stdlib.UInt_max, 0), [[v120, v119]]],\n    sim_p: (async (txn2) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [], secs: v131, time: v130, didSend: v46, from: v129 } = txn2;\n      \n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./atomicTransfer.rsh:44:7:dot', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v120,\n        kind: 'to',\n        tok: v119\n        });\n      const v135 = stdlib.addressEq(v118, v129);\n      stdlib.assert(v135, {\n        at: './atomicTransfer.rsh:44:7:dot',\n        fs: [],\n        msg: 'sender correct',\n        who: 'Alice'\n        });\n      const v137 = stdlib.add(v131, v123);\n      sim_r.isHalt = false;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: undefined,\n    tys: [ctc4, ctc1, ctc0, ctc1, ctc0, ctc0],\n    waitIfNotPresent: false\n    }));\n  const {data: [], secs: v131, time: v130, didSend: v46, from: v129 } = txn2;\n  ;\n  ;\n  const v135 = stdlib.addressEq(v118, v129);\n  stdlib.assert(v135, {\n    at: './atomicTransfer.rsh:44:7:dot',\n    fs: [],\n    msg: 'sender correct',\n    who: 'Alice'\n    });\n  const v137 = stdlib.add(v131, v123);\n  const txn3 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 0,\n    funcNum: 2,\n    out_tys: [],\n    timeoutAt: ['secs', v137],\n    waitIfNotPresent: false\n    }));\n  if (txn3.didTimeout) {\n    const txn4 = await (ctc.sendrecv({\n      args: [v118, v119, v120, v121, v122, v137],\n      evt_cnt: 0,\n      funcNum: 3,\n      lct: v130,\n      onlyIf: true,\n      out_tys: [],\n      pay: [stdlib.checkedBigNumberify('./atomicTransfer.rsh:decimal', stdlib.UInt_max, 0), []],\n      sim_p: (async (txn4) => {\n        const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n        \n        const {data: [], secs: v167, time: v166, didSend: v89, from: v165 } = txn4;\n        \n        sim_r.txns.push({\n          amt: stdlib.checkedBigNumberify('./atomicTransfer.rsh:decimal', stdlib.UInt_max, 0),\n          kind: 'to',\n          tok: undefined\n          });\n        const v169 = stdlib.addressEq(v118, v165);\n        stdlib.assert(v169, {\n          at: './atomicTransfer.rsh:53:15:dot',\n          fs: [],\n          msg: 'sender correct',\n          who: 'Alice'\n          });\n        sim_r.txns.push({\n          amt: v120,\n          kind: 'from',\n          to: v118,\n          tok: v119\n          });\n        \n        sim_r.txns.push({\n          kind: 'halt',\n          tok: v121\n          })\n        sim_r.txns.push({\n          kind: 'halt',\n          tok: v119\n          })\n        sim_r.txns.push({\n          kind: 'halt',\n          tok: undefined\n          })\n        sim_r.isHalt = true;\n        \n        return sim_r;\n        }),\n      soloSend: true,\n      timeoutAt: undefined,\n      tys: [ctc4, ctc1, ctc0, ctc1, ctc0, ctc0],\n      waitIfNotPresent: false\n      }));\n    const {data: [], secs: v167, time: v166, didSend: v89, from: v165 } = txn4;\n    ;\n    const v169 = stdlib.addressEq(v118, v165);\n    stdlib.assert(v169, {\n      at: './atomicTransfer.rsh:53:15:dot',\n      fs: [],\n      msg: 'sender correct',\n      who: 'Alice'\n      });\n    ;\n    stdlib.protect(ctc3, await interact.seeTimeout(), {\n      at: './atomicTransfer.rsh:55:51:application',\n      fs: ['at ./atomicTransfer.rsh:55:17:application call to [unknown function] (defined at: ./atomicTransfer.rsh:55:29:function exp)'],\n      msg: 'seeTimeout',\n      who: 'Alice'\n      });\n    \n    return;\n    \n    }\n  else {\n    const {data: [], secs: v145, time: v144, didSend: v58, from: v143 } = txn3;\n    ;\n    ;\n    ;\n    ;\n    stdlib.protect(ctc3, await interact.seeTransfer(), {\n      at: './atomicTransfer.rsh:61:44:application',\n      fs: ['at ./atomicTransfer.rsh:61:9:application call to [unknown function] (defined at: ./atomicTransfer.rsh:61:21:function exp)'],\n      msg: 'seeTransfer',\n      who: 'Alice'\n      });\n    \n    return;\n    }\n  \n  \n  \n  \n  \n  };\nexport async function Bob(ctcTop, interact) {\n  if (typeof(ctcTop) !== 'object' || ctcTop._initialize === undefined) {\n    return Promise.reject(new Error(`The backend for Bob expects to receive a contract as its first argument.`));}\n  if (typeof(interact) !== 'object') {\n    return Promise.reject(new Error(`The backend for Bob expects to receive an interact object as its second argument.`));}\n  const ctc = ctcTop._initialize();\n  const stdlib = ctc.stdlib;\n  const ctc0 = stdlib.T_Token;\n  const ctc1 = stdlib.T_UInt;\n  const ctc2 = stdlib.T_Bool;\n  const ctc3 = stdlib.T_Null;\n  const ctc4 = stdlib.T_Address;\n  \n  \n  const txn1 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 5,\n    funcNum: 0,\n    out_tys: [ctc0, ctc1, ctc0, ctc1, ctc1],\n    timeoutAt: undefined,\n    waitIfNotPresent: false\n    }));\n  const {data: [v119, v120, v121, v122, v123], secs: v125, time: v124, didSend: v38, from: v118 } = txn1;\n  const v126 = stdlib.tokenEq(v119, v121);\n  const v127 = v126 ? false : true;\n  stdlib.assert(v127, {\n    at: './atomicTransfer.rsh:42:7:dot',\n    fs: [],\n    msg: null,\n    who: 'Bob'\n    });\n  ;\n  ;\n  ;\n  const txn2 = await (ctc.recv({\n    didSend: false,\n    evt_cnt: 0,\n    funcNum: 1,\n    out_tys: [],\n    timeoutAt: undefined,\n    waitIfNotPresent: false\n    }));\n  const {data: [], secs: v131, time: v130, didSend: v46, from: v129 } = txn2;\n  ;\n  ;\n  const v135 = stdlib.addressEq(v118, v129);\n  stdlib.assert(v135, {\n    at: './atomicTransfer.rsh:44:7:dot',\n    fs: [],\n    msg: 'sender correct',\n    who: 'Bob'\n    });\n  const v137 = stdlib.add(v131, v123);\n  const v141 = {\n    amountA: v120,\n    amountB: v122,\n    time: v123,\n    tokenA: v119,\n    tokenB: v121\n    };\n  const v142 = stdlib.protect(ctc2, await interact.accSwap(v141), {\n    at: './atomicTransfer.rsh:48:50:application',\n    fs: ['at ./atomicTransfer.rsh:47:11:application call to [unknown function] (defined at: ./atomicTransfer.rsh:47:15:function exp)'],\n    msg: 'accSwap',\n    who: 'Bob'\n    });\n  \n  const txn3 = await (ctc.sendrecv({\n    args: [v118, v119, v120, v121, v122, v137],\n    evt_cnt: 0,\n    funcNum: 2,\n    lct: v130,\n    onlyIf: v142,\n    out_tys: [],\n    pay: [stdlib.checkedBigNumberify('./atomicTransfer.rsh:50:7:dot', stdlib.UInt_max, 0), [[v122, v121]]],\n    sim_p: (async (txn3) => {\n      const sim_r = { txns: [], mapRefs: [], mapsPrev: [], mapsNext: [] };\n      \n      const {data: [], secs: v145, time: v144, didSend: v58, from: v143 } = txn3;\n      \n      sim_r.txns.push({\n        amt: stdlib.checkedBigNumberify('./atomicTransfer.rsh:50:7:dot', stdlib.UInt_max, 0),\n        kind: 'to',\n        tok: undefined\n        });\n      sim_r.txns.push({\n        amt: v122,\n        kind: 'to',\n        tok: v121\n        });\n      sim_r.txns.push({\n        amt: v122,\n        kind: 'from',\n        to: v118,\n        tok: v121\n        });\n      sim_r.txns.push({\n        amt: v120,\n        kind: 'from',\n        to: v143,\n        tok: v119\n        });\n      \n      sim_r.txns.push({\n        kind: 'halt',\n        tok: v121\n        })\n      sim_r.txns.push({\n        kind: 'halt',\n        tok: v119\n        })\n      sim_r.txns.push({\n        kind: 'halt',\n        tok: undefined\n        })\n      sim_r.isHalt = true;\n      \n      return sim_r;\n      }),\n    soloSend: true,\n    timeoutAt: ['secs', v137],\n    tys: [ctc4, ctc0, ctc1, ctc0, ctc1, ctc1],\n    waitIfNotPresent: false\n    }));\n  if (txn3.didTimeout) {\n    const txn4 = await (ctc.recv({\n      didSend: false,\n      evt_cnt: 0,\n      funcNum: 3,\n      out_tys: [],\n      timeoutAt: undefined,\n      waitIfNotPresent: false\n      }));\n    const {data: [], secs: v167, time: v166, didSend: v89, from: v165 } = txn4;\n    ;\n    const v169 = stdlib.addressEq(v118, v165);\n    stdlib.assert(v169, {\n      at: './atomicTransfer.rsh:53:15:dot',\n      fs: [],\n      msg: 'sender correct',\n      who: 'Bob'\n      });\n    ;\n    stdlib.protect(ctc3, await interact.seeTimeout(), {\n      at: './atomicTransfer.rsh:55:51:application',\n      fs: ['at ./atomicTransfer.rsh:55:17:application call to [unknown function] (defined at: ./atomicTransfer.rsh:55:29:function exp)'],\n      msg: 'seeTimeout',\n      who: 'Bob'\n      });\n    \n    return;\n    \n    }\n  else {\n    const {data: [], secs: v145, time: v144, didSend: v58, from: v143 } = txn3;\n    ;\n    ;\n    ;\n    ;\n    stdlib.protect(ctc3, await interact.seeTransfer(), {\n      at: './atomicTransfer.rsh:61:44:application',\n      fs: ['at ./atomicTransfer.rsh:61:9:application call to [unknown function] (defined at: ./atomicTransfer.rsh:61:21:function exp)'],\n      msg: 'seeTransfer',\n      who: 'Bob'\n      });\n    \n    return;\n    }\n  \n  \n  \n  \n  \n  };\nconst _ALGO = {\n  appApproval: `#pragma version 5\ntxn RekeyTo\nglobal ZeroAddress\n==\nassert\ntxn Lease\nglobal ZeroAddress\n==\nassert\nint 0\nstore 0\ntxn ApplicationID\nbz alloc\nbyte base64()\napp_global_get\ndup\nint 0\nextract_uint64\nstore 1\ndup\nint 8\nextract_uint64\nstore 2\nextract 16 32\nstore 3\ntxn NumAppArgs\nint 3\n==\nassert\ntxna ApplicationArgs 0\nbtoi\npreamble:\n// Handler 0\ndup\nint 0\n==\nbz l0_afterHandler0\npop\n// check step\nint 0\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nbyte base64()\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 72\n==\nassert\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxn Sender\nglobal CreatorAddress\n==\nassert\nload 255\nstore 3\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:42:7:dot\"\n// \"[]\"\nint 100000\ndup\nbz l1_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl1_checkTxnK:\npop\n// Nothing\n// \"./atomicTransfer.rsh:42:7:dot\"\n// \"[]\"\nload 254\nload 252\n==\n!\nassert\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl2_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl3_checkTxnK:\npop\n// Initializing token\nint 100000\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Receiver\n==\nassert\nl4_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl5_checkTxnK:\npop\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:42:7:dot\"\n// \"[]\"\ntxn Sender\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nload 250\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 72\napp_global_put\npop\nint 1\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl0_afterHandler0:\n// Handler 1\ndup\nint 1\n==\nbz l6_afterHandler1\npop\n// check step\nint 1\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:44:7:dot\"\n// \"[]\"\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:44:7:dot\"\n// \"[]\"\nload 253\ndup\nbz l7_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl7_checkTxnK:\npop\n// Just \"sender correct\"\n// \"./atomicTransfer.rsh:44:7:dot\"\n// \"[]\"\nload 255\ntxn Sender\n==\nassert\nglobal LatestTimestamp\nload 250\n+\nstore 249\nload 255\nload 254\nitob\nconcat\nload 253\nitob\nconcat\nload 252\nitob\nconcat\nload 251\nitob\nconcat\nload 249\nitob\nconcat\nint 1\nbzero\ndig 1\nextract 0 72\napp_global_put\npop\nint 2\nstore 1\nglobal Round\nstore 2\ntxn OnCompletion\nint NoOp\n==\nassert\nb updateState\nl6_afterHandler1:\n// Handler 2\ndup\nint 2\n==\nbz l8_afterHandler2\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 250\n<\nassert\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:50:7:dot\"\n// \"[]\"\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:50:7:dot\"\n// \"[]\"\nload 251\ndup\nbz l9_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns AssetReceiver\n==\nassert\nl9_checkTxnK:\npop\nload 251\ndup\nbz l10_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl10_checkTxnK:\npop\nload 253\ndup\nbz l11_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\ntxn Sender\ndig 1\ngtxns AssetReceiver\n==\nassert\nl11_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl12_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl13_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl14_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl8_afterHandler2:\n// Handler 3\ndup\nint 3\n==\nbz l15_afterHandler3\npop\n// check step\nint 2\nload 1\n==\nassert\n// check time\ntxna ApplicationArgs 1\nbtoi\ndup\nint 0\n==\nswap\nload 2\n==\n||\nassert\nint 1\nbzero\napp_global_get\ndup\nextract 0 32\nstore 255\ndup\nint 32\nextract_uint64\nstore 254\ndup\nint 40\nextract_uint64\nstore 253\ndup\nint 48\nextract_uint64\nstore 252\ndup\nint 56\nextract_uint64\nstore 251\ndup\nint 64\nextract_uint64\nstore 250\npop\ntxna ApplicationArgs 2\ndup\nlen\nint 0\n==\nassert\npop\nglobal LatestTimestamp\nload 250\n>=\nassert\n// \"CheckPay\"\n// \"./atomicTransfer.rsh:53:15:dot\"\n// \"[]\"\n// Just \"sender correct\"\n// \"./atomicTransfer.rsh:53:15:dot\"\n// \"[]\"\nload 255\ntxn Sender\n==\nassert\nload 253\ndup\nbz l16_checkTxnK\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nload 255\ndig 1\ngtxns AssetReceiver\n==\nassert\nl16_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 252\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl17_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns AssetAmount\n==\nassert\nload 254\ndig 1\ngtxns XferAsset\n==\nassert\nint axfer\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns AssetCloseTo\n==\nassert\nl18_checkTxnK:\npop\nint 0\nload 0\ndup\nint 1\n+\nstore 0\nswap\ndig 1\ngtxns Amount\n==\nassert\nint pay\ndig 1\ngtxns TypeEnum\n==\nassert\nint 0\ndig 1\ngtxns Fee\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns Lease\n==\nassert\nglobal ZeroAddress\ndig 1\ngtxns RekeyTo\n==\nassert\nload 3\ndig 1\ngtxns Sender\n==\nassert\nglobal CreatorAddress\ndig 1\ngtxns CloseRemainderTo\n==\nassert\nl19_checkTxnK:\npop\ntxn OnCompletion\nint DeleteApplication\n==\nassert\nb updateState\nl15_afterHandler3:\nint 0\nassert\nupdateState:\nbyte base64()\nload 1\nitob\nload 2\nitob\nload 3\nconcat\nconcat\napp_global_put\ncheckSize:\nload 0\ndup\ndup\nint 1\n+\nglobal GroupSize\n==\nassert\ntxn GroupIndex\n==\nassert\nint 1000\n*\ntxn Fee\n<=\nassert\ndone:\nint 1\nreturn\nalloc:\ntxn OnCompletion\nint NoOp\n==\nassert\nint 0\nstore 1\nint 0\nstore 2\nglobal ZeroAddress\nstore 3\nb updateState\n`,\n  appClear: `#pragma version 5\nint 0\n`,\n  escrow: `#pragma version 5\nglobal GroupSize\nint 1\n-\ndup\ngtxns TypeEnum\nint appl\n==\nassert\ngtxns ApplicationID\nint {{ApplicationID}}\n==\nassert\ndone:\nint 1\n`,\n  mapDataKeys: 0,\n  mapDataSize: 0,\n  stateKeys: 1,\n  stateSize: 72,\n  unsupported: [],\n  version: 5\n  };\nconst _ETH = {\n  ABI: `[\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"components\": [\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v119\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v120\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v121\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v122\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v123\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"internalType\": \"struct T1\",\n            \"name\": \"msg\",\n            \"type\": \"tuple\"\n          }\n        ],\n        \"internalType\": \"struct T2\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"stateMutability\": \"payable\",\n    \"type\": \"constructor\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"msg\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"ReachError\",\n    \"type\": \"error\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"components\": [\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v119\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v120\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"address payable\",\n                \"name\": \"v121\",\n                \"type\": \"address\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v122\",\n                \"type\": \"uint256\"\n              },\n              {\n                \"internalType\": \"uint256\",\n                \"name\": \"v123\",\n                \"type\": \"uint256\"\n              }\n            ],\n            \"internalType\": \"struct T1\",\n            \"name\": \"msg\",\n            \"type\": \"tuple\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T2\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e0\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e1\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e2\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"indexed\": false,\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"e3\",\n    \"type\": \"event\"\n  },\n  {\n    \"stateMutability\": \"payable\",\n    \"type\": \"fallback\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCurrentState\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      },\n      {\n        \"internalType\": \"bytes\",\n        \"name\": \"\",\n        \"type\": \"bytes\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [],\n    \"name\": \"_reachCurrentTime\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m1\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m2\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"components\": [\n          {\n            \"internalType\": \"uint256\",\n            \"name\": \"time\",\n            \"type\": \"uint256\"\n          },\n          {\n            \"internalType\": \"bool\",\n            \"name\": \"msg\",\n            \"type\": \"bool\"\n          }\n        ],\n        \"internalType\": \"struct T5\",\n        \"name\": \"_a\",\n        \"type\": \"tuple\"\n      }\n    ],\n    \"name\": \"m3\",\n    \"outputs\": [],\n    \"stateMutability\": \"payable\",\n    \"type\": \"function\"\n  },\n  {\n    \"stateMutability\": \"payable\",\n    \"type\": \"receive\"\n  }\n]`,\n  Bytecode: `0x60806040526040516200101438038062001014833981016040819052620000269162000303565b60008055604080518251815260208084015180516001600160a01b0390811683850152918101518385015292830151166060808301919091528201516080808301919091529091015160a08201527f2f2e1b322fe4c931a7f65952bbed29e8a203ee40710e6e8d285f2761f1205be19060c00160405180910390a1602081015160408101519051620000d8916001600160a01b03918216911614620000cd576001620000d0565b60005b6007620001df565b620000e634156008620001df565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a08101919091523380825260208381018051516001600160a01b0390811683860190815282518401516040808801918252845181015184166060808a0191825286518101516080808c01918252975188015160a0808d019182526001600081905543905585519a8b019b909b5295518716938901939093529251928701929092529051909216928401929092525192820192909252905160c082015260e00160405160208183030381529060405260029080519060200190620001d692919062000209565b505050620003fb565b81620002055760405163100960cb60e01b81526004810182905260240160405180910390fd5b5050565b8280546200021790620003be565b90600052602060002090601f0160209004810192826200023b576000855562000286565b82601f106200025657805160ff191683800117855562000286565b8280016001018555821562000286579182015b828111156200028657825182559160200191906001019062000269565b506200029492915062000298565b5090565b5b8082111562000294576000815560010162000299565b60405160a081016001600160401b0381118282101715620002e057634e487b7160e01b600052604160045260246000fd5b60405290565b80516001600160a01b0381168114620002fe57600080fd5b919050565b600081830360c08112156200031757600080fd5b604080519081016001600160401b03811182821017156200034857634e487b7160e01b600052604160045260246000fd5b6040528351815260a0601f19830112156200036257600080fd5b6200036c620002af565b91506200037c60208501620002e6565b8252604084015160208301526200039660608501620002e6565b6040830152608084810151606084015260a09094015193820193909352602083015250919050565b600181811c90821680620003d357607f821691505b60208210811415620003f557634e487b7160e01b600052602260045260246000fd5b50919050565b610c09806200040b6000396000f3fe60806040526004361061004b5760003560e01c80637963168e146100545780638323075714610067578063ab53f2c61461008a578063f147248d146100ad578063fd948b86146100c057005b3661005257005b005b6100526100623660046109b7565b6100d3565b34801561007357600080fd5b506001546040519081526020015b60405180910390f35b34801561009657600080fd5b5061009f610330565b6040516100819291906109ff565b6100526100bb3660046109b7565b6103cd565b6100526100ce3660046109b7565b61053a565b6100e3600160005414600c6106a4565b6100fd813515806100f657506001548235145b600d6106a4565b60008080556002805461010f90610a39565b80601f016020809104026020016040519081016040528092919081815260200182805461013b90610a39565b80156101885780601f1061015d57610100808354040283529160200191610188565b820191906000526020600020905b81548152906001019060200180831161016b57829003601f168201915b50505050508060200190518101906101a09190610b25565b90506101b86040518060200160405280600081525090565b7f9f41c6cf17ede288cbb2cfbbafdd05b2b2025dea3b047cdb79dbc892d7a9286d836040516101e79190610b4f565b60405180910390a16101fb341560096106a4565b61021861021133846020015185604001516106ca565b600a6106a4565b8151610230906001600160a01b03163314600b6106a4565b60a082015161023f9042610b74565b81526040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a081019190915282516001600160a01b0390811680835260208086015183168185019081526040808801518187019081526060808a015187168189019081526080808c0151818b019081528b5160a0808d019182526002600055436001558751998a019a909a5296518a16958801959095529251918601919091525190951694830194909452925191810191909152905160c082015260e001604051602081830303815290604052600290805190602001906103299291906108e1565b5050505050565b60006060600054600280805461034590610a39565b80601f016020809104026020016040519081016040528092919081815260200182805461037190610a39565b80156103be5780601f10610393576101008083540402835291602001916103be565b820191906000526020600020905b8154815290600101906020018083116103a157829003601f168201915b50505050509050915091509091565b6103dd60026000541460156106a4565b6103f7813515806103f057506001548235145b60166106a4565b60008080556002805461040990610a39565b80601f016020809104026020016040519081016040528092919081815260200182805461043590610a39565b80156104825780601f1061045757610100808354040283529160200191610482565b820191906000526020600020905b81548152906001019060200180831161046557829003601f168201915b505050505080602001905181019061049a9190610b25565b90506104ae8160a0015142101560176106a4565b7fe92d4e1229145c13e718fdc692a322df4a6700c6bebac0841f0e9f44c56a1529826040516104dd9190610b4f565b60405180910390a16104f1341560136106a4565b8051610509906001600160a01b0316331460146106a4565b6105208160200151826000015183604001516106e2565b6000808055600181905561053690600290610965565b5050565b61054a60026000541460106106a4565b6105648135158061055d57506001548235145b60116106a4565b60008080556002805461057690610a39565b80601f01602080910402602001604051908101604052809291908181526020018280546105a290610a39565b80156105ef5780601f106105c4576101008083540402835291602001916105ef565b820191906000526020600020905b8154815290600101906020018083116105d257829003601f168201915b50505050508060200190518101906106079190610b25565b905061061a8160a00151421060126106a4565b7fe0777bbb0edbebd8a5c254bf54fd955256e9bf9fb0fe4138cd88ac193a101d15826040516106499190610b4f565b60405180910390a161065d3415600e6106a4565b61067a61067333836060015184608001516106ca565b600f6106a4565b6106918160600151826000015183608001516106e2565b61052081602001513383604001516106e2565b816105365760405163100960cb60e01b8152600481018290526024015b60405180910390fd5b60006106d8838530856106fb565b90505b9392505050565b6106ed8383836107d5565b6106f657600080fd5b505050565b604080516001600160a01b0385811660248301528481166044830152606480830185905283518084039091018152608490920183526020820180516001600160e01b03166323b872dd60e01b17905291516000928392839291891691839161076291610b9a565b60006040518083038185875af1925050503d806000811461079f576040519150601f19603f3d011682016040523d82523d6000602084013e6107a4565b606091505b50915091506107b5828260016108a6565b50808060200190518101906107ca9190610bb6565b979650505050505050565b604080516001600160a01b038481166024830152604480830185905283518084039091018152606490920183526020820180516001600160e01b031663a9059cbb60e01b17905291516000928392839291881691839161083491610b9a565b60006040518083038185875af1925050503d8060008114610871576040519150601f19603f3d011682016040523d82523d6000602084013e610876565b606091505b5091509150610887828260026108a6565b508080602001905181019061089c9190610bb6565b9695505050505050565b606083156108b55750816106db565b8251156108c55782518084602001fd5b60405163100960cb60e01b8152600481018390526024016106c1565b8280546108ed90610a39565b90600052602060002090601f01602090048101928261090f5760008555610955565b82601f1061092857805160ff1916838001178555610955565b82800160010185558215610955579182015b8281111561095557825182559160200191906001019061093a565b506109619291506109a2565b5090565b50805461097190610a39565b6000825580601f10610981575050565b601f01602090049060005260206000209081019061099f91906109a2565b50565b5b8082111561096157600081556001016109a3565b6000604082840312156109c957600080fd5b50919050565b60005b838110156109ea5781810151838201526020016109d2565b838111156109f9576000848401525b50505050565b8281526040602082015260008251806040840152610a248160608501602087016109cf565b601f01601f1916919091016060019392505050565b600181811c90821680610a4d57607f821691505b602082108114156109c957634e487b7160e01b600052602260045260246000fd5b80516001600160a01b0381168114610a8557600080fd5b919050565b600060c08284031215610a9c57600080fd5b60405160c0810181811067ffffffffffffffff82111715610acd57634e487b7160e01b600052604160045260246000fd5b604052905080610adc83610a6e565b8152610aea60208401610a6e565b602082015260408301516040820152610b0560608401610a6e565b60608201526080830151608082015260a083015160a08201525092915050565b600060c08284031215610b3757600080fd5b6106db8383610a8a565b801515811461099f57600080fd5b81358152604081016020830135610b6581610b41565b80151560208401525092915050565b60008219821115610b9557634e487b7160e01b600052601160045260246000fd5b500190565b60008251610bac8184602087016109cf565b9190910192915050565b600060208284031215610bc857600080fd5b81516106db81610b4156fea264697066735822122060607901dd6f2ff95f853c8510fc6e9c714a4f783c6608cbf95d8c98823a068364736f6c63430008090033`,\n  BytecodeLen: 4116,\n  Which: `oD`,\n  version: 4,\n  views: {\n    }\n  };\nexport const _Connectors = {\n  ALGO: _ALGO,\n  ETH: _ETH\n  };\nexport const _Participants = {\n  \"Alice\": Alice,\n  \"Bob\": Bob\n  };\nexport const _APIs = {\n  };\n","export enum VIEWS {\n  START = \"Start\",\n  LIBRARY = \"Library\",\n  TEST = \"Test\",\n}\n","// REACH\nimport MyAlgoConnect from \"@reach-sh/stdlib/ALGO_MyAlgoConnect\";\nimport WalletConnect from \"@reach-sh/stdlib/ALGO_WalletConnect\";\n\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\n\nimport { conf } from \"../lib/config\";\nimport { loadStdlib } from \"@reach-sh/stdlib\";\n\nimport Modal from \"./Modal\";\nimport { useState, useReducer, useEffect } from \"react\";\nimport {\n  ModalFormAlert,\n  ModalFormTitle,\n  ModalFormProgressButton,\n  ModalFormTextInput,\n  ModalFormCheckbox,\n  ModalFormPriceInput,\n} from \"./ModalForm\";\n\nconst SafeTransfer = require(\"../contracts/build/safeTransfer.main.mjs\");\nconst AtomicTransfer = require(\"../contracts/build/atomicTransfer.main.mjs\");\n\nconst stdlib = loadStdlib(\"ALGO\");\n\nenum MODAL_ACTIONS {\n  MAKE_READY,\n  PROCEED_STEP,\n  ERROR_OUT,\n  TIME_OUT,\n  CLEAR_ERRORS,\n  SET_ACCOUNT,\n  SET_CONTRACT_TYPE,\n  SET_APPID,\n}\n\nenum CONTRACT_TYPES {\n  SAFE,\n  ATOMIC,\n}\n\ntype ModalState = {\n  step: number;\n  ready: boolean;\n  timeout: boolean;\n  error: boolean;\n  account: any;\n  swap: any;\n  appId?: string;\n  contractType?: CONTRACT_TYPES;\n};\n\nfunction reducer(state: ModalState, action: { type: MODAL_ACTIONS; payload?: any }) {\n  switch (action.type) {\n    case MODAL_ACTIONS.MAKE_READY:\n      return {\n        ...state,\n        ready: true,\n      };\n\n    case MODAL_ACTIONS.PROCEED_STEP:\n      return {\n        ...state,\n        step: state.step + 1,\n        ready: false,\n      };\n\n    case MODAL_ACTIONS.TIME_OUT:\n      return {\n        ...state,\n        timeout: true,\n      };\n\n    case MODAL_ACTIONS.ERROR_OUT:\n      return {\n        ...state,\n        error: true,\n      };\n\n    case MODAL_ACTIONS.CLEAR_ERRORS:\n      return {\n        ...state,\n        error: false,\n        timeout: false,\n      };\n    case MODAL_ACTIONS.SET_ACCOUNT:\n      if (action.payload == null) throw new Error(\"Account payload is falsy\");\n\n      return {\n        ...state,\n        account: action.payload,\n        ready: true,\n      };\n    case MODAL_ACTIONS.SET_CONTRACT_TYPE:\n      if (action.payload == null) throw new Error(\"Contract type payload is falsy\");\n\n      return {\n        ...state,\n        contractType: action.payload,\n      };\n    case MODAL_ACTIONS.SET_APPID:\n      if (action.payload == null) throw new Error(\"App ID payload is falsy\");\n\n      return {\n        ...state,\n        appId: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nconst initialState: ModalState = {\n  step: 0,\n  ready: false,\n  timeout: false,\n  error: false,\n  account: null,\n  swap: null,\n};\n\nconst useForm = (initialValues: any) => {\n  const [values, setValues] = useState<any>(initialValues);\n  const handleChange = (key: string, value: any) => {\n    setValues({\n      ...values,\n      [key]: value,\n    });\n  };\n\n  return [values, handleChange];\n};\n\ntype TransferModalProps = {\n  nftId: number;\n  close: () => void;\n};\n\nconst TransferModal = (props: TransferModalProps) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [transferDetails, setTransferDetails] = useForm({\n    withTokens: false,\n    tokenId: 0,\n    free: false,\n    amount: 0,\n    timeout: 60,\n  });\n\n  const handleOutClick = () => {\n    dispatch({ type: MODAL_ACTIONS.CLEAR_ERRORS });\n    props.close();\n  };\n\n  if (state.error)\n    return (\n      <Modal outClick={handleOutClick}>\n        <div className=\"text-2xl text-white text-center p-6 my-6\">\n          <span className=\"material-icons transform scale-150 mb-4\">error</span>\n          <h2 className=\"syne\">\n            An error occured while transferring.\n            <br />\n            Please refresh and try again.\n          </h2>\n        </div>\n      </Modal>\n    );\n\n  return (\n    <Modal outClick={props.close}>\n      <div style={{ minHeight: \"40vh\" }} className=\"overflow-y-auto flex flex-col\">\n        <FormSwitcher\n          nftId={props.nftId}\n          closeModal={props.close}\n          state={state}\n          dispatch={dispatch}\n          transferDetails={transferDetails}\n          setTransferDetails={setTransferDetails}\n        />\n      </div>\n\n      <div style={{ minHeight: \"10vh\" }} className=\" flex justify-around items-center\">\n        {state.ready && (\n          <ModalFormProgressButton\n            txt=\"Next >\"\n            state=\"open\"\n            onClick={() => dispatch({ type: MODAL_ACTIONS.PROCEED_STEP })}\n          />\n        )}\n      </div>\n    </Modal>\n  );\n};\n\ntype FormSwitcherProps = {\n  nftId: number;\n  state: ModalState;\n  dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n  closeModal: any;\n  transferDetails: any;\n  setTransferDetails: any;\n};\nconst FormSwitcher = (props: FormSwitcherProps) => {\n  switch (props.state.step) {\n    case 0:\n      return <ConnectWallet state={props.state} dispatch={props.dispatch} />;\n    case 1:\n      return (\n        <SetTransferDetails\n          dispatch={props.dispatch}\n          nftId={props.nftId}\n          state={props.state}\n          transferDetails={props.transferDetails}\n          setTransferDetails={props.setTransferDetails}\n        />\n      );\n    case 2:\n      return (\n        <StartTransfer\n          nftId={props.nftId}\n          state={props.state}\n          dispatch={props.dispatch}\n          transferDetails={props.transferDetails}\n          setTransferDetails={props.setTransferDetails}\n        />\n      );\n    case 3:\n      return <ShareInfo state={props.state} dispatch={props.dispatch} />;\n    case 4:\n      return <WaitForBob />;\n    default:\n      return <div />;\n  }\n};\n\nconst ConnectWallet = ({ dispatch }: any) => {\n  const makeError = () => dispatch({ type: MODAL_ACTIONS.ERROR_OUT });\n  const setAccount = (acc: any) => dispatch({ type: MODAL_ACTIONS.SET_ACCOUNT, payload: acc });\n\n  const handleMyAlgoConnect = async () => {\n    try {\n      stdlib.setWalletFallback(\n        stdlib.walletFallback({\n          providerEnv: conf.network,\n          MyAlgoConnect,\n        })\n      );\n\n      setAccount(await stdlib.getDefaultAccount());\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  const handleWalletConnect = async () => {\n    try {\n      stdlib.setWalletFallback(\n        stdlib.walletFallback({\n          providerEnv: conf.network,\n          WalletConnect,\n        })\n      );\n\n      setAccount(await stdlib.getDefaultAccount());\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  return (\n    <>\n      <ModalFormTitle title=\"Step 1: Connect Wallet\" />\n      <div className=\"flex-grow flex flex-col items-center justify-center\">\n        <div className=\"md:w-2/3\">\n          <button\n            onClick={handleMyAlgoConnect}\n            className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n          >\n            My Algo Wallet\n          </button>\n          <button\n            onClick={handleWalletConnect}\n            className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n          >\n            Wallet Connect\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n\ntype SetTransferDetailsProps = {\n  nftId: number;\n  state: ModalState;\n  dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n  transferDetails: any;\n  setTransferDetails: any;\n};\nconst SetTransferDetails = ({\n  nftId,\n  state,\n  dispatch,\n  transferDetails,\n  setTransferDetails,\n}: SetTransferDetailsProps) => {\n  useEffect(() => {\n    dispatch({ type: MODAL_ACTIONS.MAKE_READY });\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch({\n      type: MODAL_ACTIONS.SET_CONTRACT_TYPE,\n      payload: transferDetails.withTokens ? CONTRACT_TYPES.ATOMIC : CONTRACT_TYPES.SAFE,\n    });\n  }, [dispatch, transferDetails.withTokens]);\n\n  const handleChangeTarget = (f: string) => (v: any) => setTransferDetails(f, v);\n  const handleChangeChecked = (f: string) => (_e: any) =>\n    setTransferDetails(f, !transferDetails[f]);\n\n  return (\n    <>\n      <ModalFormTitle title=\"Step 2: Set Transfer Details\" />\n      <p className=\"text-center text-2xl syne my-4\">NFT ID: {nftId}</p>\n      <div className=\"inline-flex justify-center w-full my-3\">\n        <ModalFormCheckbox\n          st={transferDetails.free}\n          setSt={handleChangeChecked(\"free\")}\n          label=\"Free\"\n        />\n        <div className=\"w-2 sm:w-8 lg:w-16\" />\n        <ModalFormCheckbox\n          st={transferDetails.withTokens}\n          setSt={handleChangeChecked(\"withTokens\")}\n          label=\"Use ASA\"\n          disabled={transferDetails.free}\n        />\n      </div>\n\n      <ModalFormTextInput\n        label=\"Token ID\"\n        placeholder=\"ID of the ASA\"\n        st={transferDetails.tokenId}\n        setSt={handleChangeTarget(\"tokenId\")}\n        type=\"number\"\n        disabled={!transferDetails.withTokens || transferDetails.free}\n      />\n\n      <ModalFormTextInput\n        label=\"Timeout\"\n        placeholder=\"ID of the ASA\"\n        st={transferDetails.timeout}\n        setSt={handleChangeTarget(\"timeout\")}\n        type=\"number\"\n      />\n\n      <ModalFormPriceInput\n        st={transferDetails.amount}\n        setSt={handleChangeTarget(\"amount\")}\n        placeholder=\"\"\n        label=\"Amount\"\n        disabled={transferDetails.free}\n        tokens={transferDetails.withTokens}\n      />\n    </>\n  );\n};\n\ntype StartTransferProps = {\n  nftId: number;\n  state: ModalState;\n  dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n  transferDetails: any;\n  setTransferDetails: any;\n};\nconst StartTransfer = ({\n  nftId,\n  state,\n  dispatch,\n  transferDetails,\n  setTransferDetails,\n}: StartTransferProps) => {\n  const [clicked, setClicked] = useState<boolean>(false);\n\n  const makeError = () => dispatch({ type: MODAL_ACTIONS.ERROR_OUT });\n  const makeTimeout = () => dispatch({ type: MODAL_ACTIONS.TIME_OUT });\n  const makeProceed = () => dispatch({ type: MODAL_ACTIONS.PROCEED_STEP });\n  const makeSetAppId = (appId: string) =>\n    dispatch({ type: MODAL_ACTIONS.SET_APPID, payload: appId });\n\n  const startTransfer = async () => {\n    try {\n      setClicked(true);\n\n      const aliceInterface = {\n        seeTimeout: () => {\n          makeTimeout();\n        },\n        seeTransfer: () => {\n          makeProceed();\n        },\n        getSwap: () =>\n          transferDetails.withTokens\n            ? {\n                tokenA: nftId,\n                amountA: 1,\n                tokenB: transferDetails.tokenId,\n                amountB: transferDetails.amount,\n                time: transferDetails.timeout,\n              }\n            : {\n                token: nftId,\n                amountToken: 1,\n                amountAlgo: stdlib.parseCurrency(transferDetails.amount),\n                time: transferDetails.timeout,\n              },\n      };\n      const backend = transferDetails.withTokens ? AtomicTransfer : SafeTransfer;\n\n      const ctc = await state.account.contract(backend);\n      backend.Alice(ctc, aliceInterface);\n      const ctcInfo = await ctc.getInfo();\n\n      makeSetAppId((transferDetails.withTokens ? \"a\" : \"s\") + ctcInfo.toString());\n      makeProceed();\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  return (\n    <>\n      <ModalFormTitle title=\"Step 3: Start the Transfer\" />\n      <ModalFormAlert type=\"warning\">\n        This is an experimental feature, your funds may be lost forever.\n      </ModalFormAlert>\n\n      <div className=\"flex-grow flex flex-col items-center justify-center\">\n        {!clicked ? (\n          <button\n            onClick={startTransfer}\n            className=\"px-5 py-4 shadow-lg rounded-lg bg-green-800 syne text-white\"\n          >\n            I know the risks, start the transfer\n          </button>\n        ) : (\n          <div className=\"text-2xl syne text-white\">\n            <p>You'll now sign 3 transactions</p>\n            <p>- Registering the app</p>\n            <p>- Setting transfer parameters</p>\n            <p>- Sending the NFT to the contract</p>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\ntype ShareInfoProps = {\n  state: ModalState;\n  dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n};\nconst ShareInfo = ({ state, dispatch }: ShareInfoProps) => {\n  useEffect(() => {\n    dispatch({ type: MODAL_ACTIONS.MAKE_READY });\n  }, [dispatch]);\n\n  const [copied, setCopied] = useState<boolean>(false);\n\n  const fmtAppId = state.appId ?? \"-\";\n  return (\n    <>\n      <ModalFormTitle title=\"Step 4: Share Contract Info\" />\n      <ModalFormAlert type=\"info\">\n        The recipient will use this information to receive the NFT\n        <br />\n        If you somehow lose it, find the application ID from AlgoExplorer and prepend \"a\" for token\n        sale and \"s\" for standard sale\n      </ModalFormAlert>\n      <div className=\"inline-flex justify-evenly syne text-xl\">\n        <p className=\"self-center text-white\">App ID: {fmtAppId}</p>\n        <CopyToClipboard\n          text={fmtAppId}\n          onCopy={() => {\n            setCopied(true);\n          }}\n        >\n          <button className=\"rounded-lg shadow-lg p-3 bg-gray-800 text-white hover:bg-gray-700\">\n            {!copied ? \"Copy\" : \"Copied\"}\n          </button>\n        </CopyToClipboard>\n      </div>\n    </>\n  );\n};\n\nconst WaitForBob = () => {\n  return (\n    <>\n      <ModalFormTitle title=\"Step 5: Wait For Transfer\" />\n\n      <ModalFormAlert type=\"info\">You can close the modal now</ModalFormAlert>\n    </>\n  );\n};\n\nexport default TransferModal;\n","import { Context, createContext, useState } from \"react\";\nimport { VIEWS } from \"../constants\";\n\nconst AppContext: Context<any> = createContext({});\n\nconst AppProvider = (props: any) => {\n  const [settings, setSettings] = useState({\n    view: VIEWS.START,\n    darkMode: true,\n  });\n\n  const set = (f: string, v: any) => {\n    setSettings((prevSettings) => {\n      return Object.assign({}, prevSettings, { [f]: v });\n    });\n  };\n\n  return <AppContext.Provider value={{ settings, set }}>{props.children}</AppContext.Provider>;\n};\n\nexport default AppContext;\nexport { AppProvider };\n","import FallbackImage from \"./FallbackImage\";\n// TODO: Use different modal\n\ntype ItemDisplayProps = {\n  src: string;\n  close: () => void;\n};\n\nconst ItemDisplay = (props: ItemDisplayProps) => {\n  return (\n    <ItemDisplayModal outClick={props.close}>\n      <FallbackImage src={props.src} extraStyle=\"h-full\" nested={true} />\n    </ItemDisplayModal>\n  );\n};\n\nconst ItemDisplayModal = (props: any) => {\n  const stopBubble = (e: any) => {\n    e.stopPropagation();\n  };\n\n  return (\n    <div\n      onClick={props.outClick}\n      className=\"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-70\"\n    >\n      <div\n        className=\"\n        rounded-xl \n      bg-indigo-800\n        shadow-lg\n        self-center\n        flex flex-col justify-center overflow-x-hidden\"\n        style={{ zIndex: -1, height: \"80%\" }}\n        onClick={stopBubble}\n      >\n        {props.children}\n      </div>\n    </div>\n  );\n};\n\nexport default ItemDisplay;\n","import { useState } from \"react\";\nimport ItemDisplay from \"./ItemDisplay\";\nimport ReactPlayer from \"react-player\";\n\ntype FallbackImageProps = {\n  src: string;\n  extraStyle: string;\n  nested?: boolean;\n};\nconst FallbackImage = (props: FallbackImageProps) => {\n  const [failed, setFailed] = useState<boolean>(false);\n  const [videoFailed, setVideoFailed] = useState<boolean>(false);\n  const [fullscreen, setFullscreen] = useState<boolean>(false);\n\n  const goFullscreen = () => {\n    if (!props.nested) setFullscreen(true);\n  };\n  const closeFullscreen = () => setFullscreen(false);\n\n  const handleErrorImage = () => {\n    setFailed(true);\n  };\n\n  const handleErrorVideo = () => {\n    setVideoFailed(true);\n  };\n\n  return (\n    <>\n      {videoFailed ? (\n        <p onClick={goFullscreen} className=\"syne text-2xl p-5 align-middle text-center\">\n          {props.src}\n        </p>\n      ) : failed ? (\n        <div>\n          onClick={goFullscreen}\n          className={props.extraStyle}\n          <ReactPlayer playing={false} onError={(_e) => handleErrorVideo()} src={props.src} />\n        </div>\n      ) : (\n        <img\n          onClick={goFullscreen}\n          className={props.extraStyle}\n          src={props.src}\n          alt=\"\"\n          onError={(_e) => handleErrorImage()}\n        />\n      )}\n\n      {fullscreen && <ItemDisplay src={props.src} close={closeFullscreen} />}\n    </>\n  );\n};\n\nexport default FallbackImage;\n","type Config = {\n  network: string;\n  algod: string;\n  blockExplorer: string;\n  ipfsGateway: string;\n  storageToken: string;\n};\n\nconst conf = require(\"../config.json\") as Config;\n\nexport { conf };\n","const Modal = (props: any) => {\n  const stopBubble = (e: any) => {\n    e.stopPropagation();\n  };\n\n  return (\n    <div\n      onClick={props.outClick}\n      className=\"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-black bg-opacity-70\"\n    >\n      <div\n        className=\"\n            w-10/12\n            sm:w-9/12\n            md:w-8/12\n            lg:w-7/12 \n            xl:w-5/12 \n            \n            bg-indigo-800\n            rounded-xl \n            self-center\n            shadow-xl\n            \n            p-4 \n            flex flex-col \n            justify-center \n            overflow-y-auto\n            overflow-x-hidden\"\n        style={{ maxHeight: \"70vh\" }}\n        onClick={stopBubble}\n      >\n        {props.children}\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","type ModalFormTextInputProps = {\n  st: any;\n  setSt: any;\n  label: string;\n  placeholder: string;\n  type?: string;\n  disabled?: boolean;\n};\n\nexport const ModalFormTextInput = (props: ModalFormTextInputProps) => {\n  return (\n    <div className=\"flex flex-col md:inline-flex md:flex-row md:w-full my-3\">\n      <label\n        htmlFor={props.label + \"-inp\"}\n        className=\"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\"\n      >\n        {props.label}\n      </label>\n      <input\n        disabled={props.disabled ?? false}\n        id={props.label + \"-inp\"}\n        name={props.label + \"-inp\"}\n        type={props.type ?? \"text\"}\n        value={props.st}\n        onChange={(e) => props.setSt(e.target.value)}\n        placeholder={props.placeholder}\n        className=\"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md anaheim flex-grow\"\n      />\n    </div>\n  );\n};\n\ntype ModalFormCheckboxProps = {\n  st: any;\n  setSt: any;\n  label: string;\n  disabled?: boolean;\n};\n\nexport const ModalFormCheckbox = (props: ModalFormCheckboxProps) => {\n  const onClick = (_e: any) => {\n    console.log(\"onClick\");\n    if (!props.disabled) {\n      props.setSt(!props.st);\n    }\n  };\n\n  const bgColor = props.disabled ? \"bg-gray-300\" : \"bg-white\";\n  const labelStyle = \"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\";\n  const checkStyle = \"w-5 h-5 self-center rounded shadow-lg \" + bgColor;\n\n  return (\n    <>\n      <label htmlFor={\"check-inp\"} className={labelStyle}>\n        {props.label}\n      </label>\n      <div onClick={onClick} className={checkStyle}>\n        {props.st && <span className=\"material-icons select-none relative text-sm\">done</span>}\n      </div>\n    </>\n  );\n};\n\ntype ModalFormPriceInputProps = {\n  st: any;\n  setSt: any;\n  label: string;\n  placeholder: string;\n  disabled?: boolean;\n  tokens?: boolean;\n};\n\nexport const ModalFormPriceInput = (props: ModalFormPriceInputProps) => {\n  const inputStyle =\n    \"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md text-center anaheim flex-grow\" +\n    (props.disabled ? \" bg-gray-300\" : \"\");\n\n  return (\n    <>\n      <div className=\"flex flex-col md:inline-flex md:flex-row md:w-full my-3\">\n        <label\n          htmlFor={props.label + \"-inp\"}\n          className=\"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\"\n        >\n          {props.label}\n        </label>\n        <input\n          disabled={props.disabled ?? false}\n          id={props.label + \"-inp\"}\n          name={props.label + \"-inp\"}\n          type=\"number\"\n          step=\"0.001\"\n          value={props.st}\n          onChange={(e) => props.setSt(e.target.value)}\n          placeholder={props.placeholder}\n          className={inputStyle}\n        />\n        <p className=\"px-3 py-2 rounded-2xl syne text-white text-center\">\n          {props.tokens ? \"TOKENS\" : \"ALGO\"}\n        </p>\n      </div>\n    </>\n  );\n};\n\ntype ModalFormAlertProps = {\n  type: \"success\" | \"alert\" | \"warning\" | \"info\";\n  children: any;\n};\n\nexport const ModalFormAlert = (props: ModalFormAlertProps) => {\n  let alertColor;\n  switch (props.type) {\n    case \"success\":\n      alertColor = \"bg-green-700\";\n      break;\n    case \"alert\":\n      alertColor = \"bg-red-700\";\n      break;\n    case \"warning\":\n      alertColor = \"bg-yellow-700\";\n      break;\n    case \"info\":\n      alertColor = \"bg-blue-500\";\n      break;\n    default:\n      alertColor = \"bg-gray-800\";\n      break;\n  }\n\n  const alertStyle = alertColor + \" rounded-lg shadow-xl p-3 inline-flex w-full\";\n\n  return (\n    <div className=\"mx-5 my-4\">\n      <div className={alertStyle}>\n        <span className=\"material-icons text-white self-center\">\n          {props.type === \"info\" ? \"info_outline\" : \"warning_amber\"}\n        </span>\n        <p className=\"syne text-white text-lg text-center flex-grow mx-4\">{props.children}</p>\n      </div>\n    </div>\n  );\n};\n\ntype ModalFormTitleProps = {\n  title: string;\n};\n\nexport const ModalFormTitle = (props: ModalFormTitleProps) => {\n  return <p className=\"text-5xl syne text-center mt-3 mb-6 shadow-sm text-white\">{props.title}</p>;\n};\n\ntype ModalFormProgressButtonProps = {\n  state: \"open\" | \"closed\" | \"restricted\";\n  txt: string;\n  onClick: any;\n};\n\nexport const ModalFormProgressButton = (props: ModalFormProgressButtonProps) => {\n  const stateColor =\n    props.state === \"open\"\n      ? \"bg-green-800\"\n      : props.state === \"closed\"\n      ? \"bg-gray-800\"\n      : props.state === \"restricted\"\n      ? \"bg-red-800\"\n      : \"bg-indigo-800\";\n\n  return (\n    <button\n      className={\"shadow-lg rounded-2xl py-4 px-5 h-full syne text-white \" + stateColor}\n      onClick={props.onClick}\n    >\n      {props.txt}\n    </button>\n  );\n};\n","import \"react-tagsinput/react-tagsinput.css\";\n\nimport { useEffect, useState } from \"react\";\nimport { NFT } from \"../lib/nft\";\nimport FallbackImage from \"./FallbackImage\";\nimport TagsInput from \"react-tagsinput\";\nimport LazyLoad from \"react-lazyload\";\nimport TransferModal from \"./TransferModal\";\n\ntype ItemCardProps = {\n  nft: NFT;\n  tags: string[];\n};\n\nfunction difference(setA: Set<string>, setB: Set<string>) {\n  let _difference = new Set(setA);\n  for (let elem of setB) {\n    _difference.delete(elem);\n  }\n  return _difference;\n}\n\nconst ItemCard = (props: ItemCardProps) => {\n  const [tags, setTags] = useState<string[]>([]);\n\n  const [showTModal, setShowTModal] = useState<boolean>(false);\n  const handleShowTModal = (open: boolean) => () => setShowTModal(open);\n\n  /* const [showJModal, setShowJModal] = useState<boolean>(false);\n  const handleShowJModal = (open: boolean) => () => setShowJModal(open); */\n\n  const goToJam = () => {\n    const jamWindow = window.open(\"https://testnet.nftjam.net/\");\n    if (jamWindow) jamWindow.opener = null;\n  };\n\n  useEffect(() => {\n    setTags(JSON.parse(localStorage.getItem(\"tags\") ?? \"{}\")?.[props.nft.assetId] ?? []);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const willRender = () => {\n    return props.tags.reduce((prev, tag) => prev && tags.includes(tag), true);\n  };\n\n  const handleTagChange = (newTags: string[]) => {\n    const oldSet = new Set(tags);\n    const newSet = new Set(newTags);\n\n    // eslint-disable-next-line eqeqeq\n    if (oldSet == newSet) return;\n\n    const localTags = JSON.parse(localStorage.getItem(\"tags\") ?? \"{}\");\n    const newItem = [...difference(newSet, oldSet)][0];\n\n    if (!localTags[\"global\"]) localTags[\"global\"] = [];\n\n    localTags[props.nft.assetId] = [...newSet];\n\n    if (newItem && !localTags[\"global\"].includes(newItem)) {\n      localTags[\"global\"].push(newItem);\n    }\n\n    localStorage.setItem(\"tags\", JSON.stringify(localTags));\n    setTags([...newSet] as never);\n  };\n\n  const name = props.nft.arc3 ? props.nft.metadata.name : props.nft.name;\n  const owner = props.nft.owner.slice(0, 5) + \"...\" + props.nft.owner.slice(50);\n  const imageURL = props.nft.imgURL();\n\n  return willRender() ? (\n    <LazyLoad height={400}>\n      <div\n        className=\"ml-2 mb-10 shadow-lg w-md rounded-t bg-indigo-700\"\n        style={{ height: \"min-content\" }}\n      >\n        {/* Image */}\n        <div className=\"mt-2 p-3\">\n          <FallbackImage src={imageURL} extraStyle=\"object-fill w-full\" />\n          {/* <img src={imageURL} alt={name} className=\"object-fill w-full\" /> */}\n        </div>\n        {/* Text */}\n        <div className=\"flex content-center p-2 h-20\">\n          <div className=\"flex flex-col justify-around ml-3 pb-3\">\n            <p\n              className=\"font-sans text-lg font-bold text-white\"\n              style={{ fontFamily: \"'Syne', sans-serif\" }}\n            >\n              {name}\n            </p>\n            <span className=\"inline-flex\">\n              <p className=\"anaheim text-white mr-1 text-lg font-bold\">Owner: </p>\n              <p className=\"anaheim text-white text-lg italic\">{owner}</p>\n            </span>\n          </div>\n        </div>\n\n        <div className=\"w-full flex justify-evenly\">\n          {/* Reach Buttons */}\n          <button\n            className=\"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-gray-800 text-white hover:bg-gray-700\"\n            onClick={handleShowTModal(true)}\n          >\n            Transfer\n          </button>\n          {showTModal && (\n            <TransferModal close={handleShowTModal(false)} nftId={props.nft.assetId} />\n          )}\n          {/* NFT JAM interaction */}\n          <button\n            className=\"syne flex-1 ml-1 mr-3 p-2 mb-2 rounded bg-gray-800 text-white hover:bg-gray-700\"\n            onClick={goToJam}\n          >\n            Sell\n          </button>\n        </div>\n\n        {/* Tags */}\n        <TagsInput value={tags} onChange={handleTagChange} />\n      </div>\n    </LazyLoad>\n  ) : (\n    <div />\n  );\n};\n\nexport default ItemCard;\n","import { NFTMetadata } from \"./nft\";\n\nexport const getFromIPFS = async (url: string): Promise<NFTMetadata> => {\n  try {\n    const req = new Request(url);\n    const resp = await fetch(req);\n    const body = await resp.blob();\n\n    return JSON.parse(await body.text()) as NFTMetadata;\n  } catch (err) {\n    console.error(\"Failed to get Metadata from IPFS:\", err);\n  }\n\n  return new NFTMetadata();\n};\n","import { getToken } from \"./algoHelpers\";\nimport { conf } from \"./config\";\nimport { getFromIPFS } from \"./ipfs\";\n\nconst ARC3_SUFFIX = \"@arc3\";\nconst METADATA_FILE = \"metadata.json\";\n\nexport function resolveURL(url: string | undefined): string {\n  if (!url) return \"-\";\n\n  const chunks = url.split(\"://\");\n\n  // give up\n  if (chunks.length < 2) return url;\n\n  const proto = chunks[0];\n\n  switch (proto) {\n    case \"ipfs\":\n      return conf.ipfsGateway + chunks[1];\n    case \"https\":\n      return url;\n  }\n\n  return url;\n}\n\nexport class NFT {\n  url: string;\n  name: string;\n  creator: string;\n  owner: string;\n  count: number;\n  assetId: number;\n  arc3: boolean;\n\n  metadata: NFTMetadata;\n\n  constructor(\n    md: NFTMetadata,\n    assetId?: number,\n    name?: string,\n    url?: string,\n    creator?: string,\n    owner?: string,\n    count?: number,\n    arc3?: boolean\n  ) {\n    this.assetId = assetId ?? 0;\n    this.metadata = md;\n    this.url = url ?? \"\";\n    this.name = name ?? \"\";\n    this.creator = creator ?? \"\";\n    this.owner = owner ?? \"\";\n    this.count = count ?? 0;\n    this.arc3 = arc3 ?? false;\n  }\n\n  static async fromAssetId(assetId: number): Promise<NFT> {\n    const token = await getToken(assetId);\n    return NFT.fromToken(token);\n  }\n\n  static async fromToken(token: any): Promise<NFT> {\n    const assetId = token.index;\n    console.log(token.params);\n    const { name, url, creator, manager, total } = token.params;\n    const metadata = await checkLocal(assetId, url);\n\n    return new NFT(metadata, assetId, name, url, creator, manager, total, this.isArc3(token));\n  }\n\n  imgURL(): string {\n    const url = resolveURL(this.arc3 ? this.metadata.image : this.url);\n\n    if (url !== this.metadata.image) {\n      return url;\n    }\n\n    if (this.url.endsWith(METADATA_FILE)) {\n      const dir = this.url.substring(0, this.url.length - METADATA_FILE.length);\n      return resolveURL(dir) + this.metadata.image;\n    }\n\n    return \"\";\n  }\n\n  // TODO: Implement this\n  static getType(arc3: boolean, metadata: NFTMetadata, url: string) {\n    // const targetUrl = resolveURL(arc3 ? metadata.image : url);\n  }\n\n  static isArc3(token: any): boolean {\n    return token?.params?.name && token?.params?.name.endsWith(ARC3_SUFFIX);\n  }\n}\n\nexport class NFTMetadata {\n  name: string = \"\";\n  description: string = \"\";\n  image: string = \"\";\n\n  decimals?: number = 0;\n  image_integrity?: string = \"\";\n  image_mimetype?: string = \"\";\n\n  properties?: Properties;\n\n  constructor(args: any = {}) {\n    Object.assign(this, args);\n  }\n\n  toFile(): File {\n    const md_blob = new Blob([JSON.stringify({ ...this }, null, 2)], { type: \"application/json\" });\n    return new File([md_blob], METADATA_FILE);\n  }\n\n  arc3Name(): string {\n    //Max length of asset name is 32 bytes, need 5 for @arc3\n    return this.name.substring(0, 27) + ARC3_SUFFIX;\n  }\n}\n\nexport type Properties = {\n  [key: string]: string | number;\n};\n\ntype NFTMetadataFields = {\n  name: string;\n  description: string;\n  image: string;\n\n  decimals?: number;\n  image_mimetype?: string;\n  image_integrity?: string;\n  properties?: Properties;\n};\n\nconst save = (assetId: number, md: NFTMetadata): NFTMetadata => {\n  const mdCache = JSON.parse(localStorage.getItem(\"mds\") ?? \"{}\");\n  const { ...fields }: NFTMetadataFields = md;\n\n  mdCache[assetId] = { ...fields };\n  localStorage.setItem(\"mds\", JSON.stringify(mdCache));\n\n  return md;\n};\n\nexport const checkLocal = async (assetId: number, url: string): Promise<NFTMetadata> => {\n  const mdCache = JSON.parse(localStorage.getItem(\"mds\") ?? \"[]\");\n  if (!mdCache[assetId]) return save(assetId, await getFromIPFS(resolveURL(url)));\n\n  return new NFTMetadata(mdCache[assetId]);\n};\n","import algosdk from \"algosdk\";\nimport { conf } from \"./config\";\nimport { NFT } from \"./nft\";\n\nconst client = new algosdk.Algodv2(\"\", conf.algod, \"\");\n\nexport const getToken = async (assetId: number): Promise<any> => {\n  return await client.getAssetByID(assetId).do();\n};\n\nexport const getAssetsOfAddress = async (address: string): Promise<any> => {\n  const results = await client.accountInformation(address).do();\n\n  return Object.keys(results.assets)\n    .filter((id: any) => results[\"assets\"][id][\"amount\"] > 0)\n    .map((id: any) => results[\"assets\"][id][\"asset-id\"]);\n};\n\nexport const getDetailsOfAsset = async (id: number) => {\n  const token = await getToken(id);\n  return await NFT.fromToken(token);\n};\n\nexport const getDetailsOfAssets = async (ids: number[]) => {\n  const results = [];\n  for (let i = 0; i < ids.length; i++) {\n    const token = await getToken(ids[i]);\n    results.push(await NFT.fromToken(token));\n  }\n\n  return results;\n};\n\nexport const getCollection = async (address: string, add: (n: NFT) => void): Promise<any> => {\n  const results = await client.accountInformation(address).do();\n\n  // console.log(\"Got results in\", Date.now() - time1);\n\n  const plist = [];\n  for (const a in results[\"assets\"]) {\n    if (results[\"assets\"][a][\"amount\"] > 0) plist.push(getToken(results[\"assets\"][a][\"asset-id\"]));\n  }\n\n  const assets = await Promise.all(plist);\n\n  const requests = [];\n  for (let i = 0; i < assets.length; i++) {\n    requests.push(\n      new Promise((resolve) => {\n        NFT.fromToken(assets[i]).then(add).then(resolve);\n      })\n    );\n  }\n\n  return await Promise.all(requests);\n};\n\nexport const getCollectionFromAssetIds = async (ids: number[]): Promise<any> => {\n  const collectionRequests = ids.map((id) => {\n    return NFT.fromAssetId(id);\n  });\n\n  return Promise.all(collectionRequests);\n};\n\nexport const getCollectionFromTokens = async (details: any[]): Promise<any> => {\n  const collectionRequests = details.map((detail) => {\n    const token = {\n      index: Object.keys(detail)[0],\n      params: Object.values(detail)[0],\n    };\n    return NFT.fromToken(token);\n  });\n\n  return Promise.all(collectionRequests);\n};\n","export default __webpack_public_path__ + \"static/media/Spinner.1977ba92.svg\";","const GhostCard = (props: { h: string }) => {\n  return (\n    <div\n      className={\"ml-2 rounded shadow-lg w-md rounded-t bg-indigo-700 opacity-60\"}\n      style={{ height: \"min-content\" }}\n    >\n      <div className=\"mt-2 p-3 rounded\">\n        <div className=\"bg-gray-400 animate-pulse\" style={{ height: props.h + \"rem\" }} />\n      </div>\n      <div className=\"h-20 p-2 m-2 rounded bg-gray-400 animate-pulse\" />\n    </div>\n  );\n};\n\nexport default GhostCard;\n","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n    const { innerWidth: width } = window;\n    return {\n        width,\n    };\n}\n\nexport function useWindowDimensions() {\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n    useEffect(() => {\n        function handleResize() {\n            setWindowDimensions(getWindowDimensions());\n        }\n\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowDimensions;\n}","import { useContext, useEffect, useRef, useState } from \"react\";\nimport ItemCard from \"../components/ItemCard\";\nimport AppContext from \"../context/appContext\";\nimport { getAssetsOfAddress, getCollectionFromTokens, getDetailsOfAsset } from \"../lib/algoHelpers\";\nimport { NFT } from \"../lib/nft\";\n\nimport Loading from \"../assets/Spinner.svg\";\nimport Masonry from \"react-masonry-css\";\nimport GhostCard from \"../components/GhostCard\";\nimport { VIEWS } from \"../constants\";\nimport { useWindowDimensions } from \"../utils\";\n\nconst getStorageItem = (f: string, def: string) => {\n  return JSON.parse(localStorage.getItem(f) ?? def);\n};\nconst setStorageItem = (f: string, val: any, def: any) => {\n  localStorage.setItem(f, JSON.stringify(val) ?? def);\n};\n\nconst Library = () => {\n  const appContext = useContext(AppContext);\n\n  const [update, setUpdate] = useState<boolean>(false);\n\n  const [accs, setAccs] = useState<string[]>(getStorageItem(\"accounts\", \"[]\"));\n\n  const [assets, _setAssets] = useState<any[]>([]);\n\n  const assetsRef = useRef<any[]>(assets);\n  const setAssets = (data: any) => {\n    assetsRef.current = data;\n    _setAssets(data);\n  };\n\n  const [nfts, _setNfts] = useState<NFT[]>([]);\n\n  const nftsRef = useRef<NFT[]>(nfts);\n  const setNfts = (data: NFT[]) => {\n    nftsRef.current = data;\n    _setNfts(data);\n  };\n\n  const [fetched, setFetched] = useState<boolean>(false);\n  const [interrupt, setInterrupt] = useState<boolean>(false);\n\n  const [expandFilter, setExpandFilter] = useState<boolean>(false);\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\n\n  const { width } = useWindowDimensions();\n\n  const [accForm, setAccForm] = useState(\"\");\n  const handleAccForm = (e: any) => setAccForm(e.target.value);\n\n  const handleScroll = (e: any) => {\n    if (\n      window.innerHeight + window.scrollY >= document.body.offsetHeight &&\n      nftsRef.current.length < assetsRef.current.length\n    ) {\n      setFetched(false);\n      setUpdate(true);\n    }\n  };\n  const switchSelectedTag = (tag: string) => {\n    return !selectedTags.includes(tag)\n      ? () => setSelectedTags((prevTags) => [...prevTags, tag])\n      : () => setSelectedTags((prevTags) => prevTags.filter((t) => t !== tag));\n  };\n\n  const switchExpandFilter = () => {\n    setExpandFilter(!expandFilter);\n  };\n\n  const addAccount = () => {\n    // TODO: Check address if valid\n    setAccs((prevAccs) => [...prevAccs, accForm]);\n\n    const cacheAccounts: string[] = getStorageItem(\"accounts\", \"[]\");\n    setStorageItem(\"accounts\", [...cacheAccounts, accForm], []);\n\n    setAccForm(\"\");\n  };\n\n  const removeAccount = (account: string) => {\n    setInterrupt(true);\n    setStorageItem(\"nfts\", [], []);\n    setNfts([]);\n    setAccs((prevAccs) => prevAccs.filter((a) => a !== account));\n\n    const cacheAccounts: string[] = getStorageItem(\"accounts\", \"[]\");\n    setStorageItem(\n      \"accounts\",\n      cacheAccounts.filter((a) => a !== account),\n      []\n    );\n  };\n\n  const goToStart = () => {\n    appContext.set(\"view\", VIEWS.START);\n  };\n\n  const fetchNFTsOfN = async (n: number, fAssets?: any[]) => {\n    const targetAssets = fAssets ?? assets;\n\n    if (targetAssets.length === 0) {\n      console.log(\"Assets length is 0\");\n      setFetched(true);\n      return;\n    }\n\n    let newNfts: NFT[] = [];\n    for (let i = 0; i < n; i++) {\n      if (!targetAssets[i]) continue;\n\n      const newNft = await getDetailsOfAsset(targetAssets[i]);\n      newNfts = [...newNfts, newNft];\n      setNfts([...nftsRef.current, newNft]);\n    }\n\n    //const newNfts = await getDetailsOfAssets(targetAssets.slice(0, n));\n\n    // setNfts((prevNfts) => [...prevNfts, ...newNfts]);\n\n    setAssets(targetAssets.slice(n));\n    //setAssets(fAssets || targetAssets.length >= n ? targetAssets.slice(n) : []);\n\n    /*     const nftCache = getStorageItem(\"nfts\", \"[]\");\n    const newMds = newNfts.map((n: NFT) => ({\n      id: n.assetId,\n      name: n.name,\n      url: n.url,\n      creator: n.creator,\n      manager: n.owner,\n      total: n.count,\n    }));\n    setStorageItem(\"nfts\", [...nftCache, ...newMds], []); */\n\n    setFetched(true);\n  };\n\n  useEffect(() => {\n    if (update) {\n      fetchNFTsOfN(5);\n      setUpdate(false);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [update]);\n\n  useEffect(() => {\n    const getCachedNFTs = async () => {\n      if (interrupt) return;\n\n      const cachedNfts = JSON.parse(localStorage.getItem(\"nfts\") ?? \"[]\");\n      if (cachedNfts.length === 0) return;\n\n      console.log(\"Cached NFTs\", cachedNfts);\n\n      setNfts(await getCollectionFromTokens(cachedNfts));\n    };\n\n    const fetchAssets = async () => {\n      let fetchedAssets: any[] = [];\n      for (let i = 0; i < accs.length; i++) {\n        fetchedAssets = [...fetchedAssets, ...(await getAssetsOfAddress(accs[i]))];\n      }\n      setAssets(fetchedAssets);\n      console.log({ fetchedAssets });\n      return fetchedAssets;\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n    setNfts([]);\n    setFetched(false);\n    fetchAssets().then((fAssets) => fetchNFTsOfN(5, fAssets));\n\n    return () => {\n      // return a cleanup function to unregister our function since its gonna run multiple times\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [accs]);\n\n  return (\n    <div\n      className=\"h-full w-screen overflow-y-scroll\"\n      onScroll={(e) => {\n        console.log(\"Scrolling\");\n      }}\n      style={{ backgroundColor: \"#171717\" }}\n    >\n      <span className=\"py-10 pl-10 flex flex-col text-center md:inline-flex md:flex-row gap-3 md:gap-0 w-full\">\n        <div className=\"flex justify-evenly\">\n          <button onClick={goToStart}>\n            <span className=\"material-icons transform scale-150 align-middle mr-4 text-white\">\n              chevron_left\n            </span>\n          </button>\n\n          <h1 className=\"syne self-center text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white\">\n            Your Collection\n          </h1>\n\n          <button\n            className=\"p-3 self-center bg-indigo-700 hover:bg-red-600 rounded md:ml-8\"\n            onClick={() => {\n              localStorage.removeItem(\"nfts\");\n              localStorage.removeItem(\"accounts\");\n              localStorage.removeItem(\"mds\");\n            }}\n          >\n            <span className=\"text-white material-icons font-sm\">delete</span>\n          </button>\n        </div>\n\n        <div className=\"ml-auto flex flex-row\">\n          <div className=\"px-4 \">\n            {accs.map((acc: string) => (\n              <button\n                onClick={() => removeAccount(acc)}\n                className=\"bg-indigo-700 text-white anaheim text-md rounded px-3 py-1 ml-2 hover:bg-red-600 transition-colors ease-in\"\n              >\n                {acc.slice(0, 5) + \"...\" + acc.slice(48)}\n              </button>\n            ))}\n          </div>\n          <input\n            className=\"w-15 pl-5 py-3 rounded-l-lg bg-white placeholder-gray-700 anaheim\"\n            placeholder=\"Add Wallet\"\n            value={accForm}\n            onChange={handleAccForm}\n          />\n          <button\n            onClick={addAccount}\n            disabled={!(accForm.length > 40)}\n            className=\"bg-indigo-700 rounded-r-lg py-3 px-3 mr-14 text-xl font-bol\"\n          >\n            <span\n              className={\n                \"material-icons align-middle \" +\n                (accForm.length > 40 ? \"text-white\" : \"text-gray-400 opacity-60\")\n              }\n            >\n              add\n            </span>\n          </button>\n        </div>\n      </span>\n      <hr className=\"text-white\" />\n\n      <FilterTab\n        show={expandFilter}\n        selectedTags={selectedTags}\n        swSelectedTag={switchSelectedTag}\n      />\n\n      <button className=\"bg-transparent\" onClick={switchExpandFilter}>\n        <span className=\"absolute mb-20 right-20 text-white transform scale-150 material-icons\">\n          filter_list\n        </span>\n      </button>\n\n      {nfts.length === 0 && fetched && (\n        <h2 className=\"mt-16 mx-8 md:mx-16 lg:mx-32 syne md:text-5xl text-2xl text-white\">\n          {accs.length > 0 ? \"No Items\" : \"Add addresses to browse\"}\n        </h2>\n      )}\n\n      <Masonry\n        breakpointCols={width < 800 ? 1 : width < 1200 ? 2 : 3}\n        className=\"flex mt-10\"\n        columnClassName=\"mx-5 my-4\"\n      >\n        {[\n          ...nfts.map((nft) => (\n            <div className=\"\">\n              <ItemCard tags={selectedTags} key={nft.assetId} nft={nft} />\n            </div>\n          )),\n\n          !fetched && <GhostCard key=\"gk1\" h=\"40\" />,\n          !fetched && <GhostCard key=\"gk2\" h=\"50\" />,\n          !fetched && <GhostCard key=\"gk3\" h=\"44\" />,\n        ]}\n      </Masonry>\n\n      {!fetched && (\n        <div className=\"fixed right-10 bottom-10 py-3 px-5 inline-flex items-center rounded-md text-center text-white bg-indigo-700\">\n          <img src={Loading} alt=\"\" className=\"h-10\" />\n          <p className=\"syne\">Fetching Latest Items</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\ntype FilterTabProps = {\n  show: boolean;\n  selectedTags: string[];\n  swSelectedTag: (tag: string) => () => void;\n};\n\nconst FilterTab = (props: FilterTabProps) => {\n  const doesTagExist = (tag: string) => {\n    const allTags = JSON.parse(localStorage.getItem(\"tags\") ?? \"{}\");\n    return Object.keys(allTags).reduce((prev, id) => {\n      if (id === \"global\") return prev;\n      if (!allTags?.[id]) return prev;\n      return prev || allTags[id].includes(tag);\n    }, false);\n  };\n\n  const getGlobalTags = () => {\n    const globalTags = JSON.parse(localStorage.getItem(\"tags\") ?? \"{}\")?.[\"global\"] ?? [];\n    return globalTags.filter(doesTagExist);\n  };\n\n  const fltGlobalTags = getGlobalTags();\n\n  return (\n    <div\n      style={{\n        overflow: \"hidden\",\n        maxHeight: props.show ? \"500px\" : \"0\",\n        transition: \"max-height 1s\",\n        backgroundColor: \"red\",\n      }}\n    >\n      <div className=\"py-3 bg-white flex flex-col \">\n        <div className=\"mx-40\">\n          <h2 className=\"my-3 text-3xl font-semibold anaheim\">Filter By Tag</h2>\n          <div className=\"py-1 mb-2 flex flex-row\">\n            {fltGlobalTags.length > 0 ? (\n              fltGlobalTags.map((tag: string) => (\n                <TagChip\n                  key={tag}\n                  selected={props.selectedTags.includes(tag)}\n                  fn={props.swSelectedTag(tag)}\n                  tag={tag}\n                />\n              ))\n            ) : (\n              <p className=\"anaheim text-xl font-medium\">No Tags</p>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst TagChip = (props: { selected: boolean; tag: string; fn: () => void }) => {\n  return (\n    <button\n      onClick={props.fn}\n      className={\n        props.selected\n          ? \"syne mr-3 rounded-lg px-3 py-1 text-white bg-gray-800\"\n          : \"syne mr-3 rounded-lg px-3 py-1 text-white bg-indigo-700\"\n      }\n    >\n      {props.tag}\n    </button>\n  );\n};\n\nexport default Library;\n","import MyAlgoConnect from \"@reach-sh/stdlib/ALGO_MyAlgoConnect\";\nimport WalletConnect from \"@reach-sh/stdlib/ALGO_WalletConnect\";\n\nimport { conf } from \"../lib/config\";\nimport { loadStdlib } from \"@reach-sh/stdlib\";\n\nimport Modal from \"./Modal\";\nimport { useReducer, useRef, useState } from \"react\";\nimport { ModalFormAlert, ModalFormTitle, ModalFormProgressButton } from \"./ModalForm\";\n\nconst SafeTransfer = require(\"../contracts/build/safeTransfer.main.mjs\");\nconst AtomicTransfer = require(\"../contracts/build/atomicTransfer.main.mjs\");\n\nconst stdlib = loadStdlib(\"ALGO\");\n\nenum MODAL_ACTIONS {\n  MAKE_READY,\n  PROCEED_STEP,\n  ERROR_OUT,\n  TIME_OUT,\n  CLEAR_ERRORS,\n  SET_ACCOUNT,\n  SET_SWAP,\n}\n\nenum CONTRACT_TYPES {\n  SAFE,\n  ATOMIC,\n}\n\ntype ModalState = {\n  step: number;\n  ready: boolean;\n  timeout: boolean;\n  error: boolean;\n  account: any;\n  swap: any;\n};\n\nfunction reducer(state: ModalState, action: { type: MODAL_ACTIONS; payload?: any }) {\n  console.log(state.step);\n  switch (action.type) {\n    case MODAL_ACTIONS.MAKE_READY:\n      return {\n        ...state,\n        ready: true,\n      };\n\n    case MODAL_ACTIONS.PROCEED_STEP:\n      return {\n        ...state,\n        step: state.step + 1,\n        ready: false,\n      };\n\n    case MODAL_ACTIONS.TIME_OUT:\n      return {\n        ...state,\n        timeout: true,\n      };\n\n    case MODAL_ACTIONS.ERROR_OUT:\n      return {\n        ...state,\n        error: true,\n      };\n\n    case MODAL_ACTIONS.CLEAR_ERRORS:\n      return {\n        ...state,\n        error: false,\n        timeout: false,\n      };\n\n    case MODAL_ACTIONS.SET_ACCOUNT:\n      if (!action.payload) throw new Error(\"Account payload is falsy\");\n\n      return {\n        ...state,\n        account: action.payload,\n        ready: true,\n      };\n\n    case MODAL_ACTIONS.SET_SWAP:\n      if (!action.payload) throw new Error(\"Account payload is falsy\");\n\n      if (action.payload.contractType === CONTRACT_TYPES.ATOMIC) {\n        return {\n          ...state,\n          step: state.step + 1,\n          swap: {\n            tokenA: action.payload.transferParams.tokenA,\n            amountA: action.payload.transferParams.amountA,\n            tokenB: action.payload.transferParams.tokenB,\n            amountB: action.payload.transferParams.amountB,\n          },\n        };\n      }\n\n      return {\n        ...state,\n        step: state.step + 1,\n        swap: {\n          tokenA: action.payload.transferParams.token,\n          amountA: action.payload.transferParams.amountToken,\n          amountB: action.payload.transferParams.amountAlgo,\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst initialState: ModalState = {\n  step: 0,\n  ready: false,\n  timeout: false,\n  error: false,\n  account: null,\n  swap: null,\n};\n\ntype BuyerModalProps = {\n  appId: string; // e.g. 123456a / 123456s\n  close: () => void;\n};\n\nconst BuyerModal = (props: BuyerModalProps) => {\n  const contractType =\n    props.appId.slice(0, 1) === \"a\" ? CONTRACT_TYPES.ATOMIC : CONTRACT_TYPES.SAFE;\n  const appId = parseInt(props.appId.slice(1));\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const handleOutClick = () => {\n    dispatch({ type: MODAL_ACTIONS.CLEAR_ERRORS });\n    props.close();\n  };\n\n  const acceptRef = useRef<any>();\n  const setAcceptRef = (data: any) => {\n    acceptRef.current = data;\n  };\n  const acceptPrice = () => {\n    // dispatch({ type: MODAL_ACTIONS.PROCEED_STEP });\n    acceptRef.current(true);\n  };\n\n  if (state.error)\n    return (\n      <Modal outClick={handleOutClick}>\n        <div className=\"text-2xl text-white text-center p-6 my-6\">\n          <span className=\"material-icons transform scale-150 mb-4\">error</span>\n          <h2 className=\"syne\">\n            An error occured while transferring.\n            <br />\n            Please refresh and try again.\n          </h2>\n        </div>\n      </Modal>\n    );\n\n  return (\n    <Modal outClick={props.close}>\n      <div style={{ minHeight: \"40vh\" }} className=\"overflow-y-auto flex flex-col\">\n        <FormSwitcher\n          state={state}\n          dispatch={dispatch}\n          contractType={contractType}\n          appId={appId}\n          acceptPrice={acceptPrice}\n          setAcceptRef={setAcceptRef}\n          closeModal={props.close}\n        />\n      </div>\n\n      <div style={{ minHeight: \"10vh\" }} className=\" flex justify-around items-center\">\n        {state.ready && (\n          <ModalFormProgressButton\n            txt=\"Next >\"\n            state=\"open\"\n            onClick={() => dispatch({ type: MODAL_ACTIONS.PROCEED_STEP })}\n          />\n        )}\n      </div>\n    </Modal>\n  );\n};\n\ntype FormSwitcherProps = {\n  appId: number;\n  contractType: CONTRACT_TYPES;\n  state: ModalState;\n  dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n  acceptPrice: any;\n  setAcceptRef: any;\n  closeModal: any;\n};\nconst FormSwitcher = (props: FormSwitcherProps) => {\n  switch (props.state.step) {\n    case 0:\n      return <ConnectWallet state={props.state} dispatch={props.dispatch} />;\n    case 1:\n      return (\n        <StartTransfer\n          state={props.state}\n          dispatch={props.dispatch}\n          contractType={props.contractType}\n          appId={props.appId}\n          setAcceptRef={props.setAcceptRef}\n        />\n      );\n    case 2:\n      return (\n        <AcceptParams\n          contractType={props.contractType}\n          state={props.state}\n          acceptPrice={props.acceptPrice}\n          closeModal={props.closeModal}\n        />\n      );\n    default:\n      return <div />;\n  }\n};\n\nconst ConnectWallet = ({ dispatch }: any) => {\n  const makeError = () => dispatch({ type: MODAL_ACTIONS.ERROR_OUT });\n  const setAccount = (acc: any) => dispatch({ type: MODAL_ACTIONS.SET_ACCOUNT, payload: acc });\n\n  const handleMyAlgoConnect = async () => {\n    try {\n      stdlib.setWalletFallback(\n        stdlib.walletFallback({\n          providerEnv: conf.network,\n          MyAlgoConnect,\n        })\n      );\n\n      setAccount(await stdlib.getDefaultAccount());\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  const handleWalletConnect = async () => {\n    try {\n      stdlib.setWalletFallback(\n        stdlib.walletFallback({\n          providerEnv: conf.network,\n          WalletConnect,\n        })\n      );\n\n      setAccount(await stdlib.getDefaultAccount());\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  return (\n    <>\n      <ModalFormTitle title=\"Step 1: Connect Wallet\" />\n      <div className=\"flex-grow flex flex-col items-center justify-center\">\n        <div className=\"md:w-2/3\">\n          <button\n            onClick={handleMyAlgoConnect}\n            className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n          >\n            My Algo Wallet\n          </button>\n          <button\n            onClick={handleWalletConnect}\n            className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n          >\n            Wallet Connect\n          </button>\n        </div>\n      </div>\n    </>\n  );\n};\n\ntype StartTransferProps = {\n  appId: number;\n  contractType: CONTRACT_TYPES;\n  state: ModalState;\n  dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n  setAcceptRef: any;\n};\nconst StartTransfer = ({\n  contractType,\n  appId,\n  state,\n  dispatch,\n  setAcceptRef,\n}: StartTransferProps) => {\n  const [clicked, setClicked] = useState<boolean>(false);\n\n  const makeError = () => dispatch({ type: MODAL_ACTIONS.ERROR_OUT });\n  const makeTimeout = () => dispatch({ type: MODAL_ACTIONS.TIME_OUT });\n  const makeProceed = () => dispatch({ type: MODAL_ACTIONS.PROCEED_STEP });\n  const makeSetSwap = (params: any) => dispatch({ type: MODAL_ACTIONS.SET_SWAP, payload: params });\n\n  const startTransfer = async () => {\n    try {\n      setClicked(true);\n      const backend = contractType === CONTRACT_TYPES.ATOMIC ? AtomicTransfer : SafeTransfer;\n      const ctc = await state.account.contract(backend, appId);\n\n      const bobInterface = {\n        seeTimeout: () => {\n          makeTimeout();\n        },\n\n        seeTransfer: () => {\n          console.log(\"seeTransfer\");\n          makeProceed();\n        },\n\n        acceptSwap: async (transferParams: any) => {\n          // Accept the NFT\n          const asa =\n            contractType === CONTRACT_TYPES.ATOMIC ? transferParams.tokenA : transferParams.token;\n          await state.account.tokenAccept(asa);\n\n          makeSetSwap({ transferParams, contractType });\n\n          return await new Promise<boolean>((resolve) => {\n            setAcceptRef(resolve);\n          });\n        },\n      };\n\n      backend.Bob(ctc, bobInterface);\n    } catch (e) {\n      console.log(e);\n      makeError();\n    }\n  };\n\n  return (\n    <>\n      <ModalFormTitle title=\"Step 2: Start the Transfer\" />\n      <ModalFormAlert type=\"warning\">\n        This is an experimental feature, your funds may be lost forever.\n      </ModalFormAlert>\n\n      <div className=\"flex-grow flex flex-col items-center justify-center\">\n        {!clicked ? (\n          <button\n            onClick={startTransfer}\n            className=\"px-5 py-4 shadow-lg rounded-lg bg-green-800 syne text-white\"\n          >\n            I know the risks, start the transfer\n          </button>\n        ) : (\n          <div className=\"text-2xl syne text-white\">\n            <p>You'll now sign 1 transaction</p>\n            <p>- Opting in for the asset</p>\n          </div>\n        )}\n      </div>\n    </>\n  );\n};\n\ntype AcceptParamsProps = {\n  state: ModalState;\n  contractType: CONTRACT_TYPES;\n  acceptPrice: any;\n  closeModal: any;\n};\nconst AcceptParams = ({ state, contractType, acceptPrice, closeModal }: AcceptParamsProps) => {\n  return (\n    <>\n      <ModalFormTitle title=\"Step 3: Accept the Parameters\" />\n      <div className=\"bg-white text-center syne p-4 text-2xl rounded-lg shadow-lg\">\n        <p> NFT ID: {state.swap.tokenA.toString()}</p>\n        {contractType === CONTRACT_TYPES.ATOMIC ? (\n          <>\n            <p className=\"\">Price {stdlib.formatCurrency(state.swap.amountB, 4)} TOKENS</p>\n            <small className=\"\">Token ID: {state.swap.tokenB.toString()}</small>\n          </>\n        ) : (\n          <p className=\"\">Price {stdlib.formatCurrency(state.swap.amountB, 4)} ALGO</p>\n        )}\n      </div>\n      <div className=\"w-full flex justify-evenly mt-5\">\n        <button\n          className=\"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-green-800 text-white hover:bg-green-700\"\n          onClick={acceptPrice}\n        >\n          Accept\n        </button>\n\n        <button\n          className=\"syne p-2 mb-2 flex-1 mr-1 ml-3 rounded bg-red-800 text-white hover:bg-red-700\"\n          onClick={closeModal}\n        >\n          Reject\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default BuyerModal;\n","export default __webpack_public_path__ + \"static/media/MyAlgoBlue.53c2f7a9.svg\";","export default __webpack_public_path__ + \"static/media/AlgoSigner.abcce80b.svg\";","export default __webpack_public_path__ + \"static/media/WalletConnect.bd8aa632.svg\";","export default __webpack_public_path__ + \"static/media/UnderConstruction.6a8f832d.png\";","import MyAlgo from \"@randlabs/myalgo-connect\";\nconst myAlgoWallet = new MyAlgo();\n\nconst connectToMyAlgo = async (set: any) => {\n  const accounts = await myAlgoWallet.connect();\n  const addresses = accounts.map((account) => account.address);\n\n  set(\"addresses\", addresses);\n};\n\nexport const connectWallet = (set: any) => ({\n  MyAlgo: () => connectToMyAlgo(set),\n});\n","import MyAlgoLogo from \"../assets/MyAlgoBlue.svg\";\nimport AlgoSignerLogo from \"../assets/AlgoSigner.svg\";\nimport WalletConnectLogo from \"../assets/WalletConnect.svg\";\nimport UnderConstruction from \"../assets/UnderConstruction.png\";\nimport { connectWallet } from \"../lib/connectWallet\";\nimport { useContext } from \"react\";\nimport AppContext from \"../context/appContext\";\n\nimport Modal from \"./Modal\";\n\nconst WalletModal = (props: { close: any }) => {\n  const appContext = useContext(AppContext);\n  const connect = connectWallet(appContext.set);\n\n  return (\n    <Modal>\n      <p\n        className=\"text-4xl text-white text-center mb-16\"\n        style={{ fontFamily: \"'Syne', sans-serif\" }}\n      >\n        Connect Wallet\n      </p>\n      <WalletButton fn={connect.MyAlgo} logo={MyAlgoLogo} name=\"MyAlgo\" />\n      <span>\n        <WalletButton fn={async () => {}} logo={AlgoSignerLogo} name=\"AlgoSigner\" />\n        <img src={UnderConstruction} alt=\"\" className=\"absolute w-20 right-5 top-1/2\" />\n      </span>\n      <span>\n        <WalletButton fn={async () => {}} logo={WalletConnectLogo} name=\"WalletConnect\" />\n        <img\n          src={UnderConstruction}\n          alt=\"\"\n          className=\"absolute w-20 right-5 top-2/3 transform translate-y-3\"\n        />\n      </span>\n      <button\n        className=\"absolute text-white right-5 top-5 transform scale-105\"\n        onClick={props.close}\n      >\n        <span className=\"material-icons\">close</span>\n      </button>\n    </Modal>\n  );\n};\n\nconst WalletButton = (props: { logo: string; name: string; fn: () => Promise<any> }) => {\n  return (\n    <div className=\"grid grid-rows-1 grid-cols-12 transform bg-white pl-8 hover:bg-gray-200 rounded-xl mb-6 p-4\">\n      <img src={props.logo} alt={props.name} className=\"w-12 h-14 col-span-2\" />\n      <button\n        className=\"col-span-10 text-center text-2xl pr-10\"\n        style={{ fontFamily: \"'Syne', sans-serif\" }}\n        onClick={props.fn}\n      >\n        {props.name}\n      </button>\n    </div>\n  );\n};\n\nexport default WalletModal;\n","export default __webpack_public_path__ + \"static/media/Reach.8331c83d.svg\";","import { useContext, useState } from \"react\";\nimport WalletModal from \"../components/WalletModal\";\nimport { VIEWS } from \"../constants\";\nimport AppContext from \"../context/appContext\";\n\nimport Reach from \"../assets/Reach.svg\";\nimport BuyerModal from \"../components/GetModal\";\n\nconst Start = () => {\n  const appContext = useContext(AppContext);\n  const [showModal, setShowModal] = useState(false);\n  const handleCloseModal = () => setShowModal(false);\n\n  const [showGetModal, setShowGetModal] = useState<boolean>(false);\n  const handleGetModal = (open: boolean) => () => setShowGetModal(open);\n\n  const [appId, setAppId] = useState<string>(\"\");\n  const handleAppId = (e: any) => setAppId(e.target.value);\n\n  const goToLib = () => {\n    appContext.set(\"view\", VIEWS.LIBRARY);\n  };\n\n  return (\n    <div\n      className=\"grid justify-items-center place-items-center h-screen w-screen\"\n      style={{ backgroundColor: \"#171717\" }}\n    >\n      <img src={Reach} alt=\"Reach Logo\" className=\"absolute bottom-12 text-center w-16\" />\n      <div>\n        <h1\n          className=\"text-6xl md:text-7xl lg:text-8xl xl:text-9xl mb-20 font-bold text-center text-white\"\n          style={{ fontFamily: \"'Syne', sans-serif\" }}\n        >\n          ga//ery\n        </h1>\n        <div className=\"flex flex-row justify-between mx-4 gap-8\">\n          <button\n            className=\"p-2 md:p-3 lg:p-3 xl:p-4 rounded-md text-white bg-indigo-700 hover:bg-indigo-500\"\n            style={{ fontFamily: \"'Syne', sans-serif\" }}\n            onClick={goToLib}\n          >\n            Go To My Collection\n          </button>\n\n          <div className=\"flex rounded-md bg-gray-200\">\n            <button onClick={handleGetModal(true)} className=\"flex h-full\">\n              <span className=\"material-icons self-center mx-3 opacity-50\">play_arrow</span>\n            </button>\n            <input\n              value={appId}\n              onChange={handleAppId}\n              className=\"anaheim h-full rounded-r-md pl-2 text-lg xl:text-xl\"\n              placeholder=\"Search for an app\"\n            />\n          </div>\n        </div>\n      </div>\n      {showGetModal && <BuyerModal appId={appId} close={handleGetModal(false)} />}\n      {showModal && <WalletModal close={handleCloseModal} />}\n    </div>\n  );\n};\n\nexport default Start;\n","// import { useReducer, useRef, useState } from \"react\";\n\n// const Modal = (props: any) => {\n//   const stopBubble = (e: any) => {\n//     e.stopPropagation();\n//   };\n\n//   return (\n//     <div\n//       onClick={props.outClick}\n//       className=\"fixed left-0 top-0 w-screen h-screen grid justify-items-center bg-yellow-100 bg-opacity-70\"\n//     >\n//       <div\n//         className=\"\n//             w-10/12\n//             sm:w-9/12\n//             md:w-8/12\n//             lg:w-7/12\n//             xl:w-5/12\n\n//             bg-indigo-800\n//             rounded-xl\n//             self-center\n//             shadow-xl\n\n//             p-4\n//             flex flex-col\n//             justify-center\n//             overflow-x-hidden\n//         \"\n//         style={{ maxHeight: \"70vh\" }}\n//         onClick={stopBubble}\n//       >\n//         {props.children}\n//       </div>\n//     </div>\n//   );\n// };\n\n// type ProgressButtonProps = {\n//   state: \"open\" | \"closed\" | \"restricted\";\n//   txt: string;\n//   onClick: any;\n// };\n// const ProgressButton = (props: ProgressButtonProps) => {\n//   const stateColor =\n//     props.state === \"open\"\n//       ? \"bg-green-600\"\n//       : props.state === \"closed\"\n//       ? \"bg-gray-800\"\n//       : props.state === \"restricted\"\n//       ? \"bg-red-800\"\n//       : \"bg-indigo-700\";\n\n//   return (\n//     <button\n//       className={\"shadow-lg rounded-2xl py-4 px-5 h-full syne text-white \" + stateColor}\n//       onClick={props.onClick}\n//     >\n//       {props.txt}\n//     </button>\n//   );\n// };\n\n// // const Test = () => {\n// //   const [f1, setF1] = useState<string>(\"\");\n// //   const [f2, setF2] = useState<number>(0);\n// //   const [c1, setC1] = useState<boolean>(false);\n\n// //   return (\n// //     <>\n// //       <Modal>\n// //         <div style={{ minHeight: \"40vh\" }} className=\"overflow-y-auto\">\n// //           <p className=\"text-5xl syne text-center my-3 shadow-sm text-white\">Title</p>\n// //           <ModalFormAlert type=\"warning\">\n// //             Lorem ipsum dolor sit amet consectetur adipisicing elit. Sequi quisquam perferendis\n// //             ullam, similique aliquam earum error exercitationem porro consequuntur eligendi, ea\n// //             tempora dolorem minima officia veniam quos facere, facilis excepturi.\n// //           </ModalFormAlert>\n// //           <form>\n// //             <ModalFormTextInput\n// //               st={f1}\n// //               setSt={setF1}\n// //               label=\"Field 1\"\n// //               placeholder=\"Fill the field\"\n// //             />\n// //             <ModalFormTextInput\n// //               st={f1}\n// //               setSt={setF1}\n// //               label=\"Field 1\"\n// //               placeholder=\"Fill the field\"\n// //               disabled={true}\n// //             />\n// //             <div className=\"inline-flex justify-center w-full my-3\">\n// //               <ModalFormCheckbox st={c1} setSt={setC1} label=\"Free\" />\n// //               <div className=\"w-2 sm:w-8 lg:w-16\" />\n// //               <ModalFormCheckbox st={c1} setSt={setC1} label=\"Use ASA\" disabled={true} />\n// //             </div>\n\n// //             <ModalFormPriceInput\n// //               st={f2}\n// //               setSt={setF2}\n// //               placeholder=\"\"\n// //               label=\"Amount\"\n// //               disabled={true}\n// //             />\n// //           </form>\n// //         </div>\n// //         <div style={{ minHeight: \"10vh\" }} className=\" flex justify-around items-center\">\n// //           <ProgressButton txt=\"< Previous\" state=\"closed\" />\n// //           <ProgressButton txt=\"Next >\" state=\"open\" />\n// //         </div>\n// //       </Modal>\n// //     </>\n// //   );\n// // };\n\n// const useReach = () => {\n//   const [acc, setAcc] = useState<any>(null);\n//   const [bkd, setBkd] = useState<any>(null);\n//   const [ctc, setCtc] = useState<any>(null);\n\n//   const setReach = (type: \"account\" | \"backend\" | \"contract\", payload: any) => {\n//     const f = type === \"account\" ? setAcc : type === \"backend\" ? setBkd : setCtc;\n//     f(payload);\n//   };\n\n//   return [\n//     {\n//       account: acc,\n//       backend: bkd,\n//       contract: ctc,\n//     },\n//     setReach,\n//   ];\n// };\n\n// enum MODAL_ACTIONS {\n//   MAKE_READY,\n//   PROCEED_STEP,\n//   SET_ACCOUNT,\n//   SET_CONTRACT,\n//   SET_BACKEND,\n// }\n\n// type ModalState = {\n//   step: number;\n//   ready: boolean;\n//   timeout: boolean;\n//   account: any;\n//   contract: any;\n//   backend: any;\n// };\n\n// function reducer(state: ModalState, action: { type: MODAL_ACTIONS; payload?: any }) {\n//   console.log(state.step);\n//   switch (action.type) {\n//     case MODAL_ACTIONS.MAKE_READY:\n//       return {\n//         ...state,\n//         ready: true,\n//       };\n//     case MODAL_ACTIONS.PROCEED_STEP:\n//       return {\n//         ...state,\n//         step: state.step + 1,\n//         ready: false,\n//       };\n//     default:\n//       return state;\n//   }\n// }\n\n// const initialState: ModalState = {\n//   step: 0,\n//   ready: false,\n//   timeout: false,\n//   account: null,\n//   contract: null,\n//   backend: null,\n// };\n\n// const Test = () => {\n//   const [state, dispatch] = useReducer(reducer, initialState);\n\n//   const acceptResolveRef = useRef<any>();\n//   const setAcceptResolveRef = (data: any) => {\n//     acceptResolveRef.current = data;\n//   };\n//   const acceptPrice = () => acceptResolveRef.current(true);\n\n//   return (\n//     <>\n//       <Modal>\n//         <div style={{ minHeight: \"40vh\" }} className=\"overflow-y-auto flex flex-col\">\n//           <FormSwitcher state={state} dispatch={dispatch} />\n//         </div>\n//         <div style={{ minHeight: \"10vh\" }} className=\" flex justify-around items-center\">\n//           {state.ready && (\n//             <ProgressButton\n//               txt=\"Next >\"\n//               state=\"open\"\n//               onClick={() => dispatch({ type: MODAL_ACTIONS.PROCEED_STEP })}\n//             />\n//           )}\n//         </div>\n//       </Modal>\n//     </>\n//   );\n// };\n\n// type FormSwitcherProps = {\n//   state: ModalState;\n//   dispatch: React.Dispatch<{ type: MODAL_ACTIONS; payload?: any }>;\n// };\n// const FormSwitcher = (props: FormSwitcherProps) => {\n//   const makeReady = () => props.dispatch({ type: MODAL_ACTIONS.MAKE_READY });\n\n//   switch (props.state.step) {\n//     case 0:\n//       return <ConnectWallet makeReady={makeReady} />;\n//     case 1:\n//       return <StartTransfer makeReady={makeReady} />;\n//     default:\n//       return <div />;\n//   }\n// };\n\n// const ConnectWallet = ({ makeReady }: any) => {\n//   const handleConnect = () => makeReady();\n\n//   return (\n//     <>\n//       <ModalFormTitle title=\"Step 1: Connect Wallet\" />\n//       <div className=\"flex-grow flex flex-col items-center justify-center\">\n//         <div className=\"md:w-2/3\">\n//           <button\n//             onClick={handleConnect}\n//             className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n//           >\n//             My Algo Wallet\n//           </button>\n//           <button\n//             onClick={handleConnect}\n//             className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n//           >\n//             Wallet Connect\n//           </button>\n//           <button\n//             onClick={handleConnect}\n//             className=\"syne text-lg text-center mb-3 bg-gray-800 hover:bg-gray-900 text-white rounded-lg p-3 w-full\"\n//           >\n//             Algo Signer\n//           </button>\n//         </div>\n//       </div>\n//     </>\n//   );\n// };\n\n// const StartTransfer = ({ makeReady }: any) => {\n//   const startTransfer = () => makeReady();\n\n//   return (\n//     <>\n//       <ModalFormTitle title=\"Step 2: Start the Transfer\" />\n//       <ModalFormAlert type=\"warning\">\n//         This is an experimental feature, your funds may be lost forever.\n//       </ModalFormAlert>\n\n//       <div className=\"flex-grow flex flex-col items-center justify-center\">\n//         <button\n//           onClick={startTransfer}\n//           className=\"px-5 py-4 shadow-lg rounded-lg bg-green-800 syne text-white\"\n//         >\n//           I know the risks, start the transfer\n//         </button>\n//       </div>\n//     </>\n//   );\n// };\n\n// type ModalFormTextInputProps = {\n//   st: any;\n//   setSt: any;\n//   label: string;\n//   placeholder: string;\n//   disabled?: boolean;\n// };\n\n// const ModalFormTextInput = (props: ModalFormTextInputProps) => {\n//   return (\n//     <div className=\"flex flex-col md:inline-flex md:flex-row md:w-full my-3\">\n//       <label\n//         htmlFor={props.label + \"-inp\"}\n//         className=\"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\"\n//       >\n//         {props.label}\n//       </label>\n//       <input\n//         disabled={props.disabled ?? false}\n//         id={props.label + \"-inp\"}\n//         name={props.label + \"-inp\"}\n//         type=\"text\"\n//         value={props.st}\n//         onChange={(e) => props.setSt(e.target.value)}\n//         placeholder={props.placeholder}\n//         className=\"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md anaheim flex-grow\"\n//       />\n//     </div>\n//   );\n// };\n\n// type ModalFormCheckboxProps = {\n//   st: any;\n//   setSt: any;\n//   label: string;\n//   disabled?: boolean;\n// };\n// const ModalFormCheckbox = (props: ModalFormCheckboxProps) => {\n//   const onClick = (_e: any) => {\n//     if (!props.disabled) {\n//       props.setSt(!props.st);\n//     }\n//   };\n\n//   const bgColor = props.disabled ? \"bg-gray-300\" : \"bg-white\";\n//   const labelStyle = \"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\";\n//   const checkStyle = \"w-5 h-5 self-center rounded shadow-lg \" + bgColor;\n\n//   return (\n//     <>\n//       <label htmlFor={\"check-inp\"} className={labelStyle}>\n//         {props.label}\n//       </label>\n//       <div onClick={onClick} className={checkStyle}>\n//         {props.st && <span className=\"material-icons select-none relative text-sm\">done</span>}\n//       </div>\n//     </>\n//   );\n// };\n\n// type ModalFormPriceInputProps = {\n//   st: any;\n//   setSt: any;\n//   label: string;\n//   placeholder: string;\n//   disabled?: boolean;\n//   tokens?: boolean;\n// };\n// const ModalFormPriceInput = (props: ModalFormPriceInputProps) => {\n//   const inputStyle =\n//     \"px-3 py-2 ml-3 mr-3 rounded-2xl shadow-md text-center anaheim flex-grow\" +\n//     (props.disabled ? \" bg-gray-300\" : \"\");\n\n//   return (\n//     <>\n//       <div className=\"flex flex-col md:inline-flex md:flex-row md:w-full my-3\">\n//         <label\n//           htmlFor={props.label + \"-inp\"}\n//           className=\"text-center md:text-left syne self-center px-4 py-2 text-lg text-white\"\n//         >\n//           {props.label}\n//         </label>\n//         <input\n//           disabled={props.disabled ?? false}\n//           id={props.label + \"-inp\"}\n//           name={props.label + \"-inp\"}\n//           type=\"number\"\n//           step=\"0.001\"\n//           value={props.st}\n//           onChange={(e) => props.setSt(e.target.value)}\n//           placeholder={props.placeholder}\n//           className={inputStyle}\n//         />\n//         <p className=\"px-3 py-2 rounded-2xl syne text-white text-center\">\n//           {props.tokens ? \"TOKENS\" : \"ALGO\"}\n//         </p>\n//       </div>\n//     </>\n//   );\n// };\n\n// type ModalFormAlertProps = {\n//   type: \"success\" | \"alert\" | \"warning\";\n//   children: any;\n// };\n// const ModalFormAlert = (props: ModalFormAlertProps) => {\n//   let alertColor;\n//   switch (props.type) {\n//     case \"success\":\n//       alertColor = \"bg-green-700\";\n//       break;\n//     case \"alert\":\n//       alertColor = \"bg-red-700\";\n//       break;\n//     case \"warning\":\n//       alertColor = \"bg-yellow-700\";\n//       break;\n//     default:\n//       alertColor = \"bg-gray-800\";\n//       break;\n//   }\n\n//   const alertStyle = alertColor + \" rounded-lg shadow-xl p-3 inline-flex w-full\";\n\n//   return (\n//     <div className=\"mx-5 my-4\">\n//       <div className={alertStyle}>\n//         <span className=\"material-icons text-white self-center\">warning_amber</span>\n//         <p className=\"syne text-white text-lg text-center flex-grow mx-4\">{props.children}</p>\n//       </div>\n//     </div>\n//   );\n// };\n\n// type ModalFormTitleProps = {\n//   title: string;\n// };\n// const ModalFormTitle = (props: ModalFormTitleProps) => {\n//   return <p className=\"text-5xl syne text-center mt-3 mb-6 shadow-sm text-white\">{props.title}</p>;\n// };\n\n// export default Test;\n\nexport default function Test() {\n  return <div />;\n}\n","import { useContext } from \"react\";\nimport { VIEWS } from \"./constants\";\nimport AppContext from \"./context/appContext\";\n\nimport Library from \"./views/Library\";\nimport Start from \"./views/Start\";\nimport Test from \"./components/Test\";\n\nfunction App() {\n  const appContext = useContext(AppContext);\n  const view = appContext.settings.view;\n\n  switch (view) {\n    case VIEWS.START:\n      return <Start />;\n    case VIEWS.LIBRARY:\n      return <Library />;\n    case VIEWS.TEST:\n      return <Test />;\n    default:\n      return <NotFound />;\n  }\n}\n\nconst NotFound = () => {\n  return (\n    <div className=\"h-screen w-screen grid place-items-center text-white\">\n      <h1 className=\"syne text-4xl\">404 Not Found</h1>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AppProvider } from \"./context/appContext\";\n\nimport \"./css/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}